import{V as ve,a as ft,R as xs,S as sh,M as ki,O as Oi,T as $u,b as Ir,B as Ku,L as oh,P as Vi,c as lh,Q as wl,d as ah,e as uh,A as ch,f as zu,W as qu,g as ph,h as dh,i as hh,j as fh,k as vh,C as mh,l as _h,D as gh,m as ti}from"./three-_KRrdAJ7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function oo(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ie={},xn=[],ht=()=>{},Wu=()=>!1,Di=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lo=t=>t.startsWith("onUpdate:"),Pe=Object.assign,ao=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bh=Object.prototype.hasOwnProperty,Z=(t,e)=>bh.call(t,e),$=Array.isArray,ir=t=>Ii(t)==="[object Map]",wh=t=>Ii(t)==="[object Set]",H=t=>typeof t=="function",ye=t=>typeof t=="string",Fn=t=>typeof t=="symbol",fe=t=>t!==null&&typeof t=="object",Gu=t=>(fe(t)||H(t))&&H(t.then)&&H(t.catch),yh=Object.prototype.toString,Ii=t=>yh.call(t),Eh=t=>Ii(t).slice(8,-1),Ch=t=>Ii(t)==="[object Object]",uo=t=>ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,sr=oo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ri=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},xh=/-\w/g,Ht=Ri(t=>t.replace(xh,e=>e.slice(1).toUpperCase())),Ph=/\B([A-Z])/g,hn=Ri(t=>t.replace(Ph,"-$1").toLowerCase()),Yu=Ri(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zi=Ri(t=>t?`on${Yu(t)}`:""),jt=(t,e)=>!Object.is(t,e),Ji=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Xu=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Sh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yl;const Mi=()=>yl||(yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Li(t){if($(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ye(r)?Oh(r):Li(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(ye(t)||fe(t))return t}const Th=/;(?![^(]*\))/g,Ah=/:([^]+)/,kh=/\/\*[^]*?\*\//g;function Oh(t){const e={};return t.replace(kh,"").split(Th).forEach(n=>{if(n){const r=n.split(Ah);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Fi(t){let e="";if(ye(t))e=t;else if($(t))for(let n=0;n<t.length;n++){const r=Fi(t[n]);r&&(e+=r+" ")}else if(fe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Vh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dh=oo(Vh);function Qu(t){return!!t||t===""}let Ce;class Ih{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!e&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ce;try{return Ce=this,e()}finally{Ce=n}}}on(){++this._on===1&&(this.prevScope=Ce,Ce=this)}off(){this._on>0&&--this._on===0&&(Ce=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Zu(){return Ce}function Rh(t,e=!1){Ce&&Ce.cleanups.push(t)}let re;const es=new WeakSet;class Ju{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,es.has(this)&&(es.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,El(this),nc(this);const e=re,n=Ze;re=this,Ze=!0;try{return this.fn()}finally{rc(this),re=e,Ze=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ho(e);this.deps=this.depsTail=void 0,El(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?es.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ps(this)&&this.run()}get dirty(){return Ps(this)}}let ec=0,or,lr;function tc(t,e=!1){if(t.flags|=8,e){t.next=lr,lr=t;return}t.next=or,or=t}function co(){ec++}function po(){if(--ec>0)return;if(lr){let e=lr;for(lr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;or;){let e=or;for(or=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function nc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rc(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),ho(r),Mh(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Ps(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ic(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ic(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===mr)||(t.globalVersion=mr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ps(t))))return;t.flags|=2;const e=t.dep,n=re,r=Ze;re=t,Ze=!0;try{nc(t);const i=t.fn(t._value);(e.version===0||jt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{re=n,Ze=r,rc(t),t.flags&=-3}}function ho(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)ho(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Mh(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ze=!0;const sc=[];function xt(){sc.push(Ze),Ze=!1}function Pt(){const t=sc.pop();Ze=t===void 0?!0:t}function El(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=re;re=void 0;try{e()}finally{re=n}}}let mr=0;class Lh{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!re||!Ze||re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink=new Lh(re,this),re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,oc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=r)}return n}trigger(e){this.version++,mr++,this.notify(e)}notify(e){co();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{po()}}}function oc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)oc(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ss=new WeakMap,nn=Symbol(""),Ts=Symbol(""),_r=Symbol("");function xe(t,e,n){if(Ze&&re){let r=Ss.get(t);r||Ss.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new fo),i.map=r,i.key=n),i.track()}}function yt(t,e,n,r,i,s){const o=Ss.get(t);if(!o){mr++;return}const l=a=>{a&&a.trigger()};if(co(),e==="clear")o.forEach(l);else{const a=$(t),c=a&&uo(n);if(a&&n==="length"){const u=Number(r);o.forEach((p,h)=>{(h==="length"||h===_r||!Fn(h)&&h>=u)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(_r)),e){case"add":a?c&&l(o.get("length")):(l(o.get(nn)),ir(t)&&l(o.get(Ts)));break;case"delete":a||(l(o.get(nn)),ir(t)&&l(o.get(Ts)));break;case"set":ir(t)&&l(o.get(nn));break}}po()}function gn(t){const e=Q(t);return e===t?e:(xe(e,"iterate",_r),Je(t)?e:e.map(Ae))}function vo(t){return xe(t=Q(t),"iterate",_r),t}const Fh={__proto__:null,[Symbol.iterator](){return ts(this,Symbol.iterator,Ae)},concat(...t){return gn(this).concat(...t.map(e=>$(e)?gn(e):e))},entries(){return ts(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return gt(this,"every",t,e,void 0,arguments)},filter(t,e){return gt(this,"filter",t,e,n=>n.map(Ae),arguments)},find(t,e){return gt(this,"find",t,e,Ae,arguments)},findIndex(t,e){return gt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return gt(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return gt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return gt(this,"forEach",t,e,void 0,arguments)},includes(...t){return ns(this,"includes",t)},indexOf(...t){return ns(this,"indexOf",t)},join(t){return gn(this).join(t)},lastIndexOf(...t){return ns(this,"lastIndexOf",t)},map(t,e){return gt(this,"map",t,e,void 0,arguments)},pop(){return Yn(this,"pop")},push(...t){return Yn(this,"push",t)},reduce(t,...e){return Cl(this,"reduce",t,e)},reduceRight(t,...e){return Cl(this,"reduceRight",t,e)},shift(){return Yn(this,"shift")},some(t,e){return gt(this,"some",t,e,void 0,arguments)},splice(...t){return Yn(this,"splice",t)},toReversed(){return gn(this).toReversed()},toSorted(t){return gn(this).toSorted(t)},toSpliced(...t){return gn(this).toSpliced(...t)},unshift(...t){return Yn(this,"unshift",t)},values(){return ts(this,"values",Ae)}};function ts(t,e,n){const r=vo(t),i=r[e]();return r!==t&&!Je(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const Bh=Array.prototype;function gt(t,e,n,r,i,s){const o=vo(t),l=o!==t&&!Je(t),a=o[e];if(a!==Bh[e]){const p=a.apply(t,s);return l?Ae(p):p}let c=n;o!==t&&(l?c=function(p,h){return n.call(this,Ae(p),h,t)}:n.length>2&&(c=function(p,h){return n.call(this,p,h,t)}));const u=a.call(o,c,r);return l&&i?i(u):u}function Cl(t,e,n,r){const i=vo(t);let s=n;return i!==t&&(Je(t)?n.length>3&&(s=function(o,l,a){return n.call(this,o,l,a,t)}):s=function(o,l,a){return n.call(this,o,Ae(l),a,t)}),i[e](s,...r)}function ns(t,e,n){const r=Q(t);xe(r,"iterate",_r);const i=r[e](...n);return(i===-1||i===!1)&&go(n[0])?(n[0]=Q(n[0]),r[e](...n)):i}function Yn(t,e,n=[]){xt(),co();const r=Q(t)[e].apply(t,n);return po(),Pt(),r}const Nh=oo("__proto__,__v_isRef,__isVue"),lc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fn));function jh(t){Fn(t)||(t=String(t));const e=Q(this);return xe(e,"has",t),e.hasOwnProperty(t)}class ac{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?fc:hc:s?dc:pc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$(e);if(!i){let a;if(o&&(a=Fh[n]))return a;if(n==="hasOwnProperty")return jh}const l=Reflect.get(e,n,he(e)?e:r);if((Fn(n)?lc.has(n):Nh(n))||(i||xe(e,"get",n),s))return l;if(he(l)){const a=o&&uo(n)?l:l.value;return i&&fe(a)?on(a):a}return fe(l)?i?on(l):mo(l):l}}class uc extends ac{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const a=ln(s);if(!Je(r)&&!ln(r)&&(s=Q(s),r=Q(r)),!$(e)&&he(s)&&!he(r))return a||(s.value=r),!0}const o=$(e)&&uo(n)?Number(n)<e.length:Z(e,n),l=Reflect.set(e,n,r,he(e)?e:i);return e===Q(i)&&(o?jt(r,s)&&yt(e,"set",n,r):yt(e,"add",n,r)),l}deleteProperty(e,n){const r=Z(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&yt(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Fn(n)||!lc.has(n))&&xe(e,"has",n),r}ownKeys(e){return xe(e,"iterate",$(e)?"length":nn),Reflect.ownKeys(e)}}class cc extends ac{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Uh=new uc,Hh=new cc,$h=new uc(!0),Kh=new cc(!0),As=t=>t,Yr=t=>Reflect.getPrototypeOf(t);function zh(t,e,n){return function(...r){const i=this.__v_raw,s=Q(i),o=ir(s),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...r),u=n?As:e?ks:Ae;return!e&&xe(s,"iterate",a?Ts:nn),{next(){const{value:p,done:h}=c.next();return h?{value:p,done:h}:{value:l?[u(p[0]),u(p[1])]:u(p),done:h}},[Symbol.iterator](){return this}}}}function Xr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qh(t,e){const n={get(i){const s=this.__v_raw,o=Q(s),l=Q(i);t||(jt(i,l)&&xe(o,"get",i),xe(o,"get",l));const{has:a}=Yr(o),c=e?As:t?ks:Ae;if(a.call(o,i))return c(s.get(i));if(a.call(o,l))return c(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&xe(Q(i),"iterate",nn),i.size},has(i){const s=this.__v_raw,o=Q(s),l=Q(i);return t||(jt(i,l)&&xe(o,"has",i),xe(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,a=Q(l),c=e?As:t?ks:Ae;return!t&&xe(a,"iterate",nn),l.forEach((u,p)=>i.call(s,c(u),c(p),o))}};return Pe(n,t?{add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear")}:{add(i){!e&&!Je(i)&&!ln(i)&&(i=Q(i));const s=Q(this);return Yr(s).has.call(s,i)||(s.add(i),yt(s,"add",i,i)),this},set(i,s){!e&&!Je(s)&&!ln(s)&&(s=Q(s));const o=Q(this),{has:l,get:a}=Yr(o);let c=l.call(o,i);c||(i=Q(i),c=l.call(o,i));const u=a.call(o,i);return o.set(i,s),c?jt(s,u)&&yt(o,"set",i,s):yt(o,"add",i,s),this},delete(i){const s=Q(this),{has:o,get:l}=Yr(s);let a=o.call(s,i);a||(i=Q(i),a=o.call(s,i)),l&&l.call(s,i);const c=s.delete(i);return a&&yt(s,"delete",i,void 0),c},clear(){const i=Q(this),s=i.size!==0,o=i.clear();return s&&yt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=zh(i,t,e)}),n}function Bi(t,e){const n=qh(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Z(n,i)&&i in r?n:r,i,s)}const Wh={get:Bi(!1,!1)},Gh={get:Bi(!1,!0)},Yh={get:Bi(!0,!1)},Xh={get:Bi(!0,!0)},pc=new WeakMap,dc=new WeakMap,hc=new WeakMap,fc=new WeakMap;function Qh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zh(t){return t.__v_skip||!Object.isExtensible(t)?0:Qh(Eh(t))}function mo(t){return ln(t)?t:Ni(t,!1,Uh,Wh,pc)}function Jh(t){return Ni(t,!1,$h,Gh,dc)}function on(t){return Ni(t,!0,Hh,Yh,hc)}function _o(t){return Ni(t,!0,Kh,Xh,fc)}function Ni(t,e,n,r,i){if(!fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Zh(t);if(s===0)return t;const o=i.get(t);if(o)return o;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function ar(t){return ln(t)?ar(t.__v_raw):!!(t&&t.__v_isReactive)}function ln(t){return!!(t&&t.__v_isReadonly)}function Je(t){return!!(t&&t.__v_isShallow)}function go(t){return t?!!t.__v_raw:!1}function Q(t){const e=t&&t.__v_raw;return e?Q(e):t}function ef(t){return!Z(t,"__v_skip")&&Object.isExtensible(t)&&Xu(t,"__v_skip",!0),t}const Ae=t=>fe(t)?mo(t):t,ks=t=>fe(t)?on(t):t;function he(t){return t?t.__v_isRef===!0:!1}function fn(t){return vc(t,!1)}function we(t){return vc(t,!0)}function vc(t,e){return he(t)?t:new tf(t,e)}class tf{constructor(e,n){this.dep=new fo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Q(e),this._value=n?e:Ae(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Je(e)||ln(e);e=r?e:Q(e),jt(e,n)&&(this._rawValue=e,this._value=r?e:Ae(e),this.dep.trigger())}}function an(t){return he(t)?t.value:t}function X(t){return H(t)?t():an(t)}const nf={get:(t,e,n)=>e==="__v_raw"?t:an(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return he(i)&&!he(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function mc(t){return ar(t)?t:new Proxy(t,nf)}class rf{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new fo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=mr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return tc(this,!0),!0}get value(){const e=this.dep.track();return ic(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sf(t,e,n=!1){let r,i;return H(t)?r=t:(r=t.get,i=t.set),new rf(r,i,n)}const Qr={},ui=new WeakMap;let Qt;function of(t,e=!1,n=Qt){if(n){let r=ui.get(n);r||ui.set(n,r=[]),r.push(t)}}function lf(t,e,n=ie){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:a}=n,c=D=>i?D:Je(D)||i===!1||i===0?Ft(D,1):Ft(D);let u,p,h,f,m=!1,w=!1;if(he(t)?(p=()=>t.value,m=Je(t)):ar(t)?(p=()=>c(t),m=!0):$(t)?(w=!0,m=t.some(D=>ar(D)||Je(D)),p=()=>t.map(D=>{if(he(D))return D.value;if(ar(D))return c(D);if(H(D))return a?a(D,2):D()})):H(t)?e?p=a?()=>a(t,2):t:p=()=>{if(h){xt();try{h()}finally{Pt()}}const D=Qt;Qt=u;try{return a?a(t,3,[f]):t(f)}finally{Qt=D}}:p=ht,e&&i){const D=p,W=i===!0?1/0:i;p=()=>Ft(D(),W)}const g=Zu(),_=()=>{u.stop(),g&&g.active&&ao(g.effects,u)};if(s&&e){const D=e;e=(...W)=>{D(...W),_()}}let T=w?new Array(t.length).fill(Qr):Qr;const k=D=>{if(!(!(u.flags&1)||!u.dirty&&!D))if(e){const W=u.run();if(i||m||(w?W.some((N,j)=>jt(N,T[j])):jt(W,T))){h&&h();const N=Qt;Qt=u;try{const j=[W,T===Qr?void 0:w&&T[0]===Qr?[]:T,f];T=W,a?a(e,3,j):e(...j)}finally{Qt=N}}}else u.run()};return l&&l(k),u=new Ju(p),u.scheduler=o?()=>o(k,!1):k,f=D=>of(D,!1,u),h=u.onStop=()=>{const D=ui.get(u);if(D){if(a)a(D,4);else for(const W of D)W();ui.delete(u)}},e?r?k(!0):T=u.run():o?o(k.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Ft(t,e=1/0,n){if(e<=0||!fe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,he(t))Ft(t.value,e,n);else if($(t))for(let r=0;r<t.length;r++)Ft(t[r],e,n);else if(wh(t)||ir(t))t.forEach(r=>{Ft(r,e,n)});else if(Ch(t)){for(const r in t)Ft(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ft(t[r],e,n)}return t}function Rr(t,e,n,r){try{return r?t(...r):t()}catch(i){ji(i,e,n)}}function vt(t,e,n,r){if(H(t)){const i=Rr(t,e,n,r);return i&&Gu(i)&&i.catch(s=>{ji(s,e,n)}),i}if($(t)){const i=[];for(let s=0;s<t.length;s++)i.push(vt(t[s],e,n,r));return i}}function ji(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ie;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](t,a,c)===!1)return}l=l.parent}if(s){xt(),Rr(s,null,10,[t,a,c]),Pt();return}}af(t,n,i,r,o)}function af(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const ke=[];let at=-1;const Pn=[];let Mt=null,yn=0;const _c=Promise.resolve();let ci=null;function gc(t){const e=ci||_c;return t?e.then(this?t.bind(this):t):e}function uf(t){let e=at+1,n=ke.length;for(;e<n;){const r=e+n>>>1,i=ke[r],s=gr(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function bo(t){if(!(t.flags&1)){const e=gr(t),n=ke[ke.length-1];!n||!(t.flags&2)&&e>=gr(n)?ke.push(t):ke.splice(uf(e),0,t),t.flags|=1,bc()}}function bc(){ci||(ci=_c.then(yc))}function cf(t){$(t)?Pn.push(...t):Mt&&t.id===-1?Mt.splice(yn+1,0,t):t.flags&1||(Pn.push(t),t.flags|=1),bc()}function xl(t,e,n=at+1){for(;n<ke.length;n++){const r=ke[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ke.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wc(t){if(Pn.length){const e=[...new Set(Pn)].sort((n,r)=>gr(n)-gr(r));if(Pn.length=0,Mt){Mt.push(...e);return}for(Mt=e,yn=0;yn<Mt.length;yn++){const n=Mt[yn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Mt=null,yn=0}}const gr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yc(t){try{for(at=0;at<ke.length;at++){const e=ke[at];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Rr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;at<ke.length;at++){const e=ke[at];e&&(e.flags&=-2)}at=-1,ke.length=0,wc(),ci=null,(ke.length||Pn.length)&&yc()}}let pt=null,Ec=null;function pi(t){const e=pt;return pt=t,Ec=t&&t.type.__scopeId||null,e}function Cc(t,e=pt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&vi(-1);const s=pi(e);let o;try{o=t(...i)}finally{pi(s),r._d&&vi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Gt(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let a=l.dir[r];a&&(xt(),vt(a,n,8,[t.el,l,t,e]),Pt())}}const pf=Symbol("_vte"),df=t=>t.__isTeleport,hf=Symbol("_leaveCb");function wo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function di(t,e){return H(t)?Pe({name:t.name},e,{setup:t}):t}function xc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const hi=new WeakMap;function ur(t,e,n,r,i=!1){if($(t)){t.forEach((m,w)=>ur(m,e&&($(e)?e[w]:e),n,r,i));return}if(cr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ur(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?So(r.component):r.el,o=i?null:s,{i:l,r:a}=t,c=e&&e.r,u=l.refs===ie?l.refs={}:l.refs,p=l.setupState,h=Q(p),f=p===ie?Wu:m=>Z(h,m);if(c!=null&&c!==a){if(Pl(e),ye(c))u[c]=null,f(c)&&(p[c]=null);else if(he(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(H(a))Rr(a,l,12,[o,u]);else{const m=ye(a),w=he(a);if(m||w){const g=()=>{if(t.f){const _=m?f(a)?p[a]:u[a]:a.value;if(i)$(_)&&ao(_,s);else if($(_))_.includes(s)||_.push(s);else if(m)u[a]=[s],f(a)&&(p[a]=u[a]);else{const T=[s];a.value=T,t.k&&(u[t.k]=T)}}else m?(u[a]=o,f(a)&&(p[a]=o)):w&&(a.value=o,t.k&&(u[t.k]=o))};if(o){const _=()=>{g(),hi.delete(t)};_.id=-1,hi.set(t,_),Ue(_,n)}else Pl(t),g()}}}function Pl(t){const e=hi.get(t);e&&(e.flags|=8,hi.delete(t))}Mi().requestIdleCallback;Mi().cancelIdleCallback;const cr=t=>!!t.type.__asyncLoader,Pc=t=>t.type.__isKeepAlive;function ff(t,e){Sc(t,"a",e)}function vf(t,e){Sc(t,"da",e)}function Sc(t,e,n=Ve){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ui(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Pc(i.parent.vnode)&&mf(r,e,n,i),i=i.parent}}function mf(t,e,n,r){const i=Ui(e,t,r,!0);$t(()=>{ao(r[e],i)},n)}function Ui(t,e,n=Ve,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{xt();const l=Mr(n),a=vt(e,n,t,o);return l(),Pt(),a});return r?i.unshift(s):i.push(s),s}}const kt=t=>(e,n=Ve)=>{(!wr||t==="sp")&&Ui(t,(...r)=>e(...r),n)},_f=kt("bm"),kn=kt("m"),gf=kt("bu"),bf=kt("u"),wf=kt("bum"),$t=kt("um"),yf=kt("sp"),Ef=kt("rtg"),Cf=kt("rtc");function xf(t,e=Ve){Ui("ec",t,e)}const Pf=Symbol.for("v-ndc"),Os=t=>t?Gc(t)?So(t):Os(t.parent):null,pr=Pe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Os(t.parent),$root:t=>Os(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ac(t),$forceUpdate:t=>t.f||(t.f=()=>{bo(t.update)}),$nextTick:t=>t.n||(t.n=gc.bind(t.proxy)),$watch:t=>Wf.bind(t)}),rs=(t,e)=>t!==ie&&!t.__isScriptSetup&&Z(t,e),Sf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(rs(r,e))return o[e]=1,r[e];if(i!==ie&&Z(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Z(c,e))return o[e]=3,s[e];if(n!==ie&&Z(n,e))return o[e]=4,n[e];Vs&&(o[e]=0)}}const u=pr[e];let p,h;if(u)return e==="$attrs"&&xe(t.attrs,"get",""),u(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==ie&&Z(n,e))return o[e]=4,n[e];if(h=a.config.globalProperties,Z(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return rs(i,e)?(i[e]=n,!0):r!==ie&&Z(r,e)?(r[e]=n,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s,type:o}},l){let a,c;return!!(n[l]||t!==ie&&l[0]!=="$"&&Z(t,l)||rs(e,l)||(a=s[0])&&Z(a,l)||Z(r,l)||Z(pr,l)||Z(i.config.globalProperties,l)||(c=o.__cssModules)&&c[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Z(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Tf(){return Af().slots}function Af(t){const e=St();return e.setupContext||(e.setupContext=Xc(e))}function Sl(t){return $(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Vs=!0;function kf(t){const e=Ac(t),n=t.proxy,r=t.ctx;Vs=!1,e.beforeCreate&&Tl(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:p,mounted:h,beforeUpdate:f,updated:m,activated:w,deactivated:g,beforeDestroy:_,beforeUnmount:T,destroyed:k,unmounted:D,render:W,renderTracked:N,renderTriggered:j,errorCaptured:U,serverPrefetch:S,expose:te,inheritAttrs:ue,components:Wt,directives:tt,filters:nt}=e;if(c&&Of(c,r,null),o)for(const M in o){const Y=o[M];H(Y)&&(r[M]=Y.bind(n))}if(i){const M=i.call(n,n);fe(M)&&(t.data=mo(M))}if(Vs=!0,s)for(const M in s){const Y=s[M],be=H(Y)?Y.bind(n,n):H(Y.get)?Y.get.bind(n,n):ht,Xe=!H(Y)&&H(Y.set)?Y.set.bind(n):ht,Ee=Be({get:be,set:Xe});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:pe=>Ee.value=pe})}if(l)for(const M in l)Tc(l[M],r,n,M);if(a){const M=H(a)?a.call(n):a;Reflect.ownKeys(M).forEach(Y=>{dr(Y,M[Y])})}u&&Tl(u,t,"c");function le(M,Y){$(Y)?Y.forEach(be=>M(be.bind(n))):Y&&M(Y.bind(n))}if(le(_f,p),le(kn,h),le(gf,f),le(bf,m),le(ff,w),le(vf,g),le(xf,U),le(Cf,N),le(Ef,j),le(wf,T),le($t,D),le(yf,S),$(te))if(te.length){const M=t.exposed||(t.exposed={});te.forEach(Y=>{Object.defineProperty(M,Y,{get:()=>n[Y],set:be=>n[Y]=be,enumerable:!0})})}else t.exposed||(t.exposed={});W&&t.render===ht&&(t.render=W),ue!=null&&(t.inheritAttrs=ue),Wt&&(t.components=Wt),tt&&(t.directives=tt),S&&xc(t)}function Of(t,e,n=ht){$(t)&&(t=Ds(t));for(const r in t){const i=t[r];let s;fe(i)?"default"in i?s=hr(i.from||r,i.default,!0):s=hr(i.from||r):s=hr(i),he(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Tl(t,e,n){vt($(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Tc(t,e,n,r){let i=r.includes(".")?Hc(n,r):()=>n[r];if(ye(t)){const s=e[t];H(s)&&et(i,s)}else if(H(t))et(i,t.bind(n));else if(fe(t))if($(t))t.forEach(s=>Tc(s,e,n,r));else{const s=H(t.handler)?t.handler.bind(n):e[t.handler];H(s)&&et(i,s,t)}}function Ac(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,l=s.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(c=>fi(a,c,o,!0)),fi(a,e,o)),fe(e)&&s.set(e,a),a}function fi(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&fi(t,s,n,!0),i&&i.forEach(o=>fi(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=Vf[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Vf={data:Al,props:kl,emits:kl,methods:nr,computed:nr,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:nr,directives:nr,watch:If,provide:Al,inject:Df};function Al(t,e){return e?t?function(){return Pe(H(t)?t.call(this,this):t,H(e)?e.call(this,this):e)}:e:t}function Df(t,e){return nr(Ds(t),Ds(e))}function Ds(t){if($(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function nr(t,e){return t?Pe(Object.create(null),t,e):e}function kl(t,e){return t?$(t)&&$(e)?[...new Set([...t,...e])]:Pe(Object.create(null),Sl(t),Sl(e??{})):e}function If(t,e){if(!t)return e;if(!e)return t;const n=Pe(Object.create(null),t);for(const r in e)n[r]=Se(t[r],e[r]);return n}function kc(){return{app:null,config:{isNativeTag:Wu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rf=0;function Mf(t,e){return function(r,i=null){H(r)||(r=Pe({},r)),i!=null&&!fe(i)&&(i=null);const s=kc(),o=new WeakSet,l=[];let a=!1;const c=s.app={_uid:Rf++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:vv,get config(){return s.config},set config(u){},use(u,...p){return o.has(u)||(u&&H(u.install)?(o.add(u),u.install(c,...p)):H(u)&&(o.add(u),u(c,...p))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,p){return p?(s.components[u]=p,c):s.components[u]},directive(u,p){return p?(s.directives[u]=p,c):s.directives[u]},mount(u,p,h){if(!a){const f=c._ceVNode||Ke(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),a=!0,c._container=u,u.__vue_app__=c,So(f.component)}},onUnmount(u){l.push(u)},unmount(){a&&(vt(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,p){return s.provides[u]=p,c},runWithContext(u){const p=rn;rn=c;try{return u()}finally{rn=p}}};return c}}let rn=null;function dr(t,e){if(Ve){let n=Ve.provides;const r=Ve.parent&&Ve.parent.provides;r===n&&(n=Ve.provides=Object.create(r)),n[t]=e}}function hr(t,e,n=!1){const r=St();if(r||rn){let i=rn?rn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&H(e)?e.call(r&&r.proxy):e}}function Oc(){return!!(St()||rn)}const Vc={},Dc=()=>Object.create(Vc),Ic=t=>Object.getPrototypeOf(t)===Vc;function Lf(t,e,n,r=!1){const i={},s=Dc();t.propsDefaults=Object.create(null),Rc(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Jh(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Ff(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,l=Q(i),[a]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let p=0;p<u.length;p++){let h=u[p];if(Hi(t.emitsOptions,h))continue;const f=e[h];if(a)if(Z(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const m=Ht(h);i[m]=Is(a,l,m,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{Rc(t,e,i,s)&&(c=!0);let u;for(const p in l)(!e||!Z(e,p)&&((u=hn(p))===p||!Z(e,u)))&&(a?n&&(n[p]!==void 0||n[u]!==void 0)&&(i[p]=Is(a,l,p,void 0,t,!0)):delete i[p]);if(s!==l)for(const p in s)(!e||!Z(e,p))&&(delete s[p],c=!0)}c&&yt(t.attrs,"set","")}function Rc(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(sr(a))continue;const c=e[a];let u;i&&Z(i,u=Ht(a))?!s||!s.includes(u)?n[u]=c:(l||(l={}))[u]=c:Hi(t.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,o=!0)}if(s){const a=Q(n),c=l||ie;for(let u=0;u<s.length;u++){const p=s[u];n[p]=Is(i,a,p,c[p],t,!Z(c,p))}}return o}function Is(t,e,n,r,i,s){const o=t[n];if(o!=null){const l=Z(o,"default");if(l&&r===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&H(a)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=Mr(i);r=c[n]=a.call(null,e),u()}}else r=a;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===hn(n))&&(r=!0))}return r}const Bf=new WeakMap;function Mc(t,e,n=!1){const r=n?Bf:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},l=[];let a=!1;if(!H(t)){const u=p=>{a=!0;const[h,f]=Mc(p,e,!0);Pe(o,h),f&&l.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!a)return fe(t)&&r.set(t,xn),xn;if($(s))for(let u=0;u<s.length;u++){const p=Ht(s[u]);Ol(p)&&(o[p]=ie)}else if(s)for(const u in s){const p=Ht(u);if(Ol(p)){const h=s[u],f=o[p]=$(h)||H(h)?{type:h}:Pe({},h),m=f.type;let w=!1,g=!0;if($(m))for(let _=0;_<m.length;++_){const T=m[_],k=H(T)&&T.name;if(k==="Boolean"){w=!0;break}else k==="String"&&(g=!1)}else w=H(m)&&m.name==="Boolean";f[0]=w,f[1]=g,(w||Z(f,"default"))&&l.push(p)}}const c=[o,l];return fe(t)&&r.set(t,c),c}function Ol(t){return t[0]!=="$"&&!sr(t)}const yo=t=>t==="_"||t==="_ctx"||t==="$stable",Eo=t=>$(t)?t.map(ct):[ct(t)],Nf=(t,e,n)=>{if(e._n)return e;const r=Cc((...i)=>Eo(e(...i)),n);return r._c=!1,r},Lc=(t,e,n)=>{const r=t._ctx;for(const i in t){if(yo(i))continue;const s=t[i];if(H(s))e[i]=Nf(i,s,r);else if(s!=null){const o=Eo(s);e[i]=()=>o}}},Fc=(t,e)=>{const n=Eo(e);t.slots.default=()=>n},Bc=(t,e,n)=>{for(const r in e)(n||!yo(r))&&(t[r]=e[r])},jf=(t,e,n)=>{const r=t.slots=Dc();if(t.vnode.shapeFlag&32){const i=e._;i?(Bc(r,e,n),n&&Xu(r,"_",i,!0)):Lc(e,r)}else e&&Fc(t,e)},Uf=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=ie;if(r.shapeFlag&32){const l=e._;l?n&&l===1?s=!1:Bc(i,e,n):(s=!e.$stable,Lc(e,i)),o=e}else e&&(Fc(t,e),o={default:1});if(s)for(const l in i)!yo(l)&&o[l]==null&&delete i[l]},Ue=tv;function Nc(t){return Hf(t)}function Hf(t,e){const n=Mi();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:p,nextSibling:h,setScopeId:f=ht,insertStaticContent:m}=t,w=(d,v,b,P=null,E=null,C=null,V=void 0,O=null,A=!!v.dynamicChildren)=>{if(d===v)return;d&&!Xn(d,v)&&(P=Gr(d),pe(d,E,C,!0),d=null),v.patchFlag===-2&&(A=!1,v.dynamicChildren=null);const{type:x,ref:F,shapeFlag:I}=v;switch(x){case $i:g(d,v,b,P);break;case On:_(d,v,b,P);break;case ss:d==null&&T(v,b,P,V);break;case Qe:Wt(d,v,b,P,E,C,V,O,A);break;default:I&1?W(d,v,b,P,E,C,V,O,A):I&6?tt(d,v,b,P,E,C,V,O,A):(I&64||I&128)&&x.process(d,v,b,P,E,C,V,O,A,Wn)}F!=null&&E?ur(F,d&&d.ref,C,v||d,!v):F==null&&d&&d.ref!=null&&ur(d.ref,null,C,d,!0)},g=(d,v,b,P)=>{if(d==null)r(v.el=l(v.children),b,P);else{const E=v.el=d.el;v.children!==d.children&&c(E,v.children)}},_=(d,v,b,P)=>{d==null?r(v.el=a(v.children||""),b,P):v.el=d.el},T=(d,v,b,P)=>{[d.el,d.anchor]=m(d.children,v,b,P,d.el,d.anchor)},k=({el:d,anchor:v},b,P)=>{let E;for(;d&&d!==v;)E=h(d),r(d,b,P),d=E;r(v,b,P)},D=({el:d,anchor:v})=>{let b;for(;d&&d!==v;)b=h(d),i(d),d=b;i(v)},W=(d,v,b,P,E,C,V,O,A)=>{if(v.type==="svg"?V="svg":v.type==="math"&&(V="mathml"),d==null)N(v,b,P,E,C,V,O,A);else{const x=d.el&&d.el._isVueCE?d.el:null;try{x&&x._beginPatch(),S(d,v,E,C,V,O,A)}finally{x&&x._endPatch()}}},N=(d,v,b,P,E,C,V,O)=>{let A,x;const{props:F,shapeFlag:I,transition:L,dirs:B}=d;if(A=d.el=o(d.type,C,F&&F.is,F),I&8?u(A,d.children):I&16&&U(d.children,A,null,P,E,is(d,C),V,O),B&&Gt(d,null,P,"created"),j(A,d,d.scopeId,V,P),F){for(const ne in F)ne!=="value"&&!sr(ne)&&s(A,ne,null,F[ne],C,P);"value"in F&&s(A,"value",null,F.value,C),(x=F.onVnodeBeforeMount)&&ot(x,P,d)}B&&Gt(d,null,P,"beforeMount");const z=$f(E,L);z&&L.beforeEnter(A),r(A,v,b),((x=F&&F.onVnodeMounted)||z||B)&&Ue(()=>{x&&ot(x,P,d),z&&L.enter(A),B&&Gt(d,null,P,"mounted")},E)},j=(d,v,b,P,E)=>{if(b&&f(d,b),P)for(let C=0;C<P.length;C++)f(d,P[C]);if(E){let C=E.subTree;if(v===C||Kc(C.type)&&(C.ssContent===v||C.ssFallback===v)){const V=E.vnode;j(d,V,V.scopeId,V.slotScopeIds,E.parent)}}},U=(d,v,b,P,E,C,V,O,A=0)=>{for(let x=A;x<d.length;x++){const F=d[x]=O?Lt(d[x]):ct(d[x]);w(null,F,v,b,P,E,C,V,O)}},S=(d,v,b,P,E,C,V)=>{const O=v.el=d.el;let{patchFlag:A,dynamicChildren:x,dirs:F}=v;A|=d.patchFlag&16;const I=d.props||ie,L=v.props||ie;let B;if(b&&Yt(b,!1),(B=L.onVnodeBeforeUpdate)&&ot(B,b,v,d),F&&Gt(v,d,b,"beforeUpdate"),b&&Yt(b,!0),(I.innerHTML&&L.innerHTML==null||I.textContent&&L.textContent==null)&&u(O,""),x?te(d.dynamicChildren,x,O,b,P,is(v,E),C):V||Y(d,v,O,null,b,P,is(v,E),C,!1),A>0){if(A&16)ue(O,I,L,b,E);else if(A&2&&I.class!==L.class&&s(O,"class",null,L.class,E),A&4&&s(O,"style",I.style,L.style,E),A&8){const z=v.dynamicProps;for(let ne=0;ne<z.length;ne++){const ee=z[ne],Re=I[ee],Me=L[ee];(Me!==Re||ee==="value")&&s(O,ee,Re,Me,E,b)}}A&1&&d.children!==v.children&&u(O,v.children)}else!V&&x==null&&ue(O,I,L,b,E);((B=L.onVnodeUpdated)||F)&&Ue(()=>{B&&ot(B,b,v,d),F&&Gt(v,d,b,"updated")},P)},te=(d,v,b,P,E,C,V)=>{for(let O=0;O<v.length;O++){const A=d[O],x=v[O],F=A.el&&(A.type===Qe||!Xn(A,x)||A.shapeFlag&198)?p(A.el):b;w(A,x,F,null,P,E,C,V,!0)}},ue=(d,v,b,P,E)=>{if(v!==b){if(v!==ie)for(const C in v)!sr(C)&&!(C in b)&&s(d,C,v[C],null,E,P);for(const C in b){if(sr(C))continue;const V=b[C],O=v[C];V!==O&&C!=="value"&&s(d,C,O,V,E,P)}"value"in b&&s(d,"value",v.value,b.value,E)}},Wt=(d,v,b,P,E,C,V,O,A)=>{const x=v.el=d?d.el:l(""),F=v.anchor=d?d.anchor:l("");let{patchFlag:I,dynamicChildren:L,slotScopeIds:B}=v;B&&(O=O?O.concat(B):B),d==null?(r(x,b,P),r(F,b,P),U(v.children||[],b,F,E,C,V,O,A)):I>0&&I&64&&L&&d.dynamicChildren?(te(d.dynamicChildren,L,b,E,C,V,O),(v.key!=null||E&&v===E.subTree)&&jc(d,v,!0)):Y(d,v,b,F,E,C,V,O,A)},tt=(d,v,b,P,E,C,V,O,A)=>{v.slotScopeIds=O,d==null?v.shapeFlag&512?E.ctx.activate(v,b,P,V,A):nt(v,b,P,E,C,V,A):Kn(d,v,A)},nt=(d,v,b,P,E,C,V)=>{const O=d.component=cv(d,P,E);if(Pc(d)&&(O.ctx.renderer=Wn),pv(O,!1,V),O.asyncDep){if(E&&E.registerDep(O,le,V),!d.el){const A=O.subTree=Ke(On);_(null,A,v,b),d.placeholder=A.el}}else le(O,d,v,b,E,C,V)},Kn=(d,v,b)=>{const P=v.component=d.component;if(Jf(d,v,b))if(P.asyncDep&&!P.asyncResolved){M(P,v,b);return}else P.next=v,P.update();else v.el=d.el,P.vnode=v},le=(d,v,b,P,E,C,V)=>{const O=()=>{if(d.isMounted){let{next:I,bu:L,u:B,parent:z,vnode:ne}=d;{const it=Uc(d);if(it){I&&(I.el=ne.el,M(d,I,V)),it.asyncDep.then(()=>{d.isUnmounted||O()});return}}let ee=I,Re;Yt(d,!1),I?(I.el=ne.el,M(d,I,V)):I=ne,L&&Ji(L),(Re=I.props&&I.props.onVnodeBeforeUpdate)&&ot(Re,z,I,ne),Yt(d,!0);const Me=Dl(d),rt=d.subTree;d.subTree=Me,w(rt,Me,p(rt.el),Gr(rt),d,E,C),I.el=Me.el,ee===null&&ev(d,Me.el),B&&Ue(B,E),(Re=I.props&&I.props.onVnodeUpdated)&&Ue(()=>ot(Re,z,I,ne),E)}else{let I;const{el:L,props:B}=v,{bm:z,m:ne,parent:ee,root:Re,type:Me}=d,rt=cr(v);Yt(d,!1),z&&Ji(z),!rt&&(I=B&&B.onVnodeBeforeMount)&&ot(I,ee,v),Yt(d,!0);{Re.ce&&Re.ce._def.shadowRoot!==!1&&Re.ce._injectChildStyle(Me);const it=d.subTree=Dl(d);w(null,it,b,P,d,E,C),v.el=it.el}if(ne&&Ue(ne,E),!rt&&(I=B&&B.onVnodeMounted)){const it=v;Ue(()=>ot(I,ee,it),E)}(v.shapeFlag&256||ee&&cr(ee.vnode)&&ee.vnode.shapeFlag&256)&&d.a&&Ue(d.a,E),d.isMounted=!0,v=b=P=null}};d.scope.on();const A=d.effect=new Ju(O);d.scope.off();const x=d.update=A.run.bind(A),F=d.job=A.runIfDirty.bind(A);F.i=d,F.id=d.uid,A.scheduler=()=>bo(F),Yt(d,!0),x()},M=(d,v,b)=>{v.component=d;const P=d.vnode.props;d.vnode=v,d.next=null,Ff(d,v.props,P,b),Uf(d,v.children,b),xt(),xl(d),Pt()},Y=(d,v,b,P,E,C,V,O,A=!1)=>{const x=d&&d.children,F=d?d.shapeFlag:0,I=v.children,{patchFlag:L,shapeFlag:B}=v;if(L>0){if(L&128){Xe(x,I,b,P,E,C,V,O,A);return}else if(L&256){be(x,I,b,P,E,C,V,O,A);return}}B&8?(F&16&&qn(x,E,C),I!==x&&u(b,I)):F&16?B&16?Xe(x,I,b,P,E,C,V,O,A):qn(x,E,C,!0):(F&8&&u(b,""),B&16&&U(I,b,P,E,C,V,O,A))},be=(d,v,b,P,E,C,V,O,A)=>{d=d||xn,v=v||xn;const x=d.length,F=v.length,I=Math.min(x,F);let L;for(L=0;L<I;L++){const B=v[L]=A?Lt(v[L]):ct(v[L]);w(d[L],B,b,null,E,C,V,O,A)}x>F?qn(d,E,C,!0,!1,I):U(v,b,P,E,C,V,O,A,I)},Xe=(d,v,b,P,E,C,V,O,A)=>{let x=0;const F=v.length;let I=d.length-1,L=F-1;for(;x<=I&&x<=L;){const B=d[x],z=v[x]=A?Lt(v[x]):ct(v[x]);if(Xn(B,z))w(B,z,b,null,E,C,V,O,A);else break;x++}for(;x<=I&&x<=L;){const B=d[I],z=v[L]=A?Lt(v[L]):ct(v[L]);if(Xn(B,z))w(B,z,b,null,E,C,V,O,A);else break;I--,L--}if(x>I){if(x<=L){const B=L+1,z=B<F?v[B].el:P;for(;x<=L;)w(null,v[x]=A?Lt(v[x]):ct(v[x]),b,z,E,C,V,O,A),x++}}else if(x>L)for(;x<=I;)pe(d[x],E,C,!0),x++;else{const B=x,z=x,ne=new Map;for(x=z;x<=L;x++){const je=v[x]=A?Lt(v[x]):ct(v[x]);je.key!=null&&ne.set(je.key,x)}let ee,Re=0;const Me=L-z+1;let rt=!1,it=0;const Gn=new Array(Me);for(x=0;x<Me;x++)Gn[x]=0;for(x=B;x<=I;x++){const je=d[x];if(Re>=Me){pe(je,E,C,!0);continue}let st;if(je.key!=null)st=ne.get(je.key);else for(ee=z;ee<=L;ee++)if(Gn[ee-z]===0&&Xn(je,v[ee])){st=ee;break}st===void 0?pe(je,E,C,!0):(Gn[st-z]=x+1,st>=it?it=st:rt=!0,w(je,v[st],b,null,E,C,V,O,A),Re++)}const _l=rt?Kf(Gn):xn;for(ee=_l.length-1,x=Me-1;x>=0;x--){const je=z+x,st=v[je],gl=v[je+1],bl=je+1<F?gl.el||gl.placeholder:P;Gn[x]===0?w(null,st,b,bl,E,C,V,O,A):rt&&(ee<0||x!==_l[ee]?Ee(st,b,bl,2):ee--)}}},Ee=(d,v,b,P,E=null)=>{const{el:C,type:V,transition:O,children:A,shapeFlag:x}=d;if(x&6){Ee(d.component.subTree,v,b,P);return}if(x&128){d.suspense.move(v,b,P);return}if(x&64){V.move(d,v,b,Wn);return}if(V===Qe){r(C,v,b);for(let I=0;I<A.length;I++)Ee(A[I],v,b,P);r(d.anchor,v,b);return}if(V===ss){k(d,v,b);return}if(P!==2&&x&1&&O)if(P===0)O.beforeEnter(C),r(C,v,b),Ue(()=>O.enter(C),E);else{const{leave:I,delayLeave:L,afterLeave:B}=O,z=()=>{d.ctx.isUnmounted?i(C):r(C,v,b)},ne=()=>{C._isLeaving&&C[hf](!0),I(C,()=>{z(),B&&B()})};L?L(C,z,ne):ne()}else r(C,v,b)},pe=(d,v,b,P=!1,E=!1)=>{const{type:C,props:V,ref:O,children:A,dynamicChildren:x,shapeFlag:F,patchFlag:I,dirs:L,cacheIndex:B}=d;if(I===-2&&(E=!1),O!=null&&(xt(),ur(O,null,b,d,!0),Pt()),B!=null&&(v.renderCache[B]=void 0),F&256){v.ctx.deactivate(d);return}const z=F&1&&L,ne=!cr(d);let ee;if(ne&&(ee=V&&V.onVnodeBeforeUnmount)&&ot(ee,v,d),F&6)zn(d.component,b,P);else{if(F&128){d.suspense.unmount(b,P);return}z&&Gt(d,null,v,"beforeUnmount"),F&64?d.type.remove(d,v,b,Wn,P):x&&!x.hasOnce&&(C!==Qe||I>0&&I&64)?qn(x,v,b,!1,!0):(C===Qe&&I&384||!E&&F&16)&&qn(A,v,b),P&&Vt(d)}(ne&&(ee=V&&V.onVnodeUnmounted)||z)&&Ue(()=>{ee&&ot(ee,v,d),z&&Gt(d,null,v,"unmounted")},b)},Vt=d=>{const{type:v,el:b,anchor:P,transition:E}=d;if(v===Qe){Wr(b,P);return}if(v===ss){D(d);return}const C=()=>{i(b),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:V,delayLeave:O}=E,A=()=>V(b,C);O?O(d.el,C,A):A()}else C()},Wr=(d,v)=>{let b;for(;d!==v;)b=h(d),i(d),d=b;i(v)},zn=(d,v,b)=>{const{bum:P,scope:E,job:C,subTree:V,um:O,m:A,a:x}=d;Vl(A),Vl(x),P&&Ji(P),E.stop(),C&&(C.flags|=8,pe(V,d,v,b)),O&&Ue(O,v),Ue(()=>{d.isUnmounted=!0},v)},qn=(d,v,b,P=!1,E=!1,C=0)=>{for(let V=C;V<d.length;V++)pe(d[V],v,b,P,E)},Gr=d=>{if(d.shapeFlag&6)return Gr(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const v=h(d.anchor||d.el),b=v&&v[pf];return b?h(b):v};let Qi=!1;const ml=(d,v,b)=>{d==null?v._vnode&&pe(v._vnode,null,null,!0):w(v._vnode||null,d,v,null,null,null,b),v._vnode=d,Qi||(Qi=!0,xl(),wc(),Qi=!1)},Wn={p:w,um:pe,m:Ee,r:Vt,mt:nt,mc:U,pc:Y,pbc:te,n:Gr,o:t};return{render:ml,hydrate:void 0,createApp:Mf(ml)}}function is({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Yt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $f(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function jc(t,e,n=!1){const r=t.children,i=e.children;if($(r)&&$(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Lt(i[s]),l.el=o.el),!n&&l.patchFlag!==-2&&jc(o,l)),l.type===$i&&l.patchFlag!==-1&&(l.el=o.el),l.type===On&&!l.el&&(l.el=o.el)}}function Kf(t){const e=t.slice(),n=[0];let r,i,s,o,l;const a=t.length;for(r=0;r<a;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,t[n[l]]<c?s=l+1:o=l;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Uc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Uc(e)}function Vl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const zf=Symbol.for("v-scx"),qf=()=>hr(zf);function ut(t,e){return Co(t,null,e)}function et(t,e,n){return Co(t,e,n)}function Co(t,e,n=ie){const{immediate:r,deep:i,flush:s,once:o}=n,l=Pe({},n),a=e&&r||!e&&s!=="post";let c;if(wr){if(s==="sync"){const f=qf();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!a){const f=()=>{};return f.stop=ht,f.resume=ht,f.pause=ht,f}}const u=Ve;l.call=(f,m,w)=>vt(f,u,m,w);let p=!1;s==="post"?l.scheduler=f=>{Ue(f,u&&u.suspense)}:s!=="sync"&&(p=!0,l.scheduler=(f,m)=>{m?f():bo(f)}),l.augmentJob=f=>{e&&(f.flags|=4),p&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=lf(t,e,l);return wr&&(c?c.push(h):a&&h()),h}function Wf(t,e,n){const r=this.proxy,i=ye(t)?t.includes(".")?Hc(r,t):()=>r[t]:t.bind(r,r);let s;H(e)?s=e:(s=e.handler,n=e);const o=Mr(this),l=Co(i,s.bind(r),n);return o(),l}function Hc(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Gf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ht(e)}Modifiers`]||t[`${hn(e)}Modifiers`];function Yf(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ie;let i=n;const s=e.startsWith("update:"),o=s&&Gf(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>ye(u)?u.trim():u)),o.number&&(i=n.map(Sh)));let l,a=r[l=Zi(e)]||r[l=Zi(Ht(e))];!a&&s&&(a=r[l=Zi(hn(e))]),a&&vt(a,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,vt(c,t,6,i)}}const Xf=new WeakMap;function $c(t,e,n=!1){const r=n?Xf:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},l=!1;if(!H(t)){const a=c=>{const u=$c(c,e,!0);u&&(l=!0,Pe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!s&&!l?(fe(t)&&r.set(t,null),null):($(s)?s.forEach(a=>o[a]=null):Pe(o,s),fe(t)&&r.set(t,o),o)}function Hi(t,e){return!t||!Di(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,hn(e))||Z(t,e))}function Dl(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:p,data:h,setupState:f,ctx:m,inheritAttrs:w}=t,g=pi(t);let _,T;try{if(n.shapeFlag&4){const D=i||r,W=D;_=ct(c.call(W,D,u,p,f,h,m)),T=l}else{const D=e;_=ct(D.length>1?D(p,{attrs:l,slots:o,emit:a}):D(p,null)),T=e.props?l:Qf(l)}}catch(D){fr.length=0,ji(D,t,1),_=Ke(On)}let k=_;if(T&&w!==!1){const D=Object.keys(T),{shapeFlag:W}=k;D.length&&W&7&&(s&&D.some(lo)&&(T=Zf(T,s)),k=Vn(k,T,!1,!0))}return n.dirs&&(k=Vn(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&wo(k,n.transition),_=k,pi(g),_}const Qf=t=>{let e;for(const n in t)(n==="class"||n==="style"||Di(n))&&((e||(e={}))[n]=t[n]);return e},Zf=(t,e)=>{const n={};for(const r in t)(!lo(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Jf(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:l,patchFlag:a}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Il(r,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let p=0;p<u.length;p++){const h=u[p];if(o[h]!==r[h]&&!Hi(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Il(r,o,c):!0:!!o;return!1}function Il(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Hi(n,s))return!0}return!1}function ev({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Kc=t=>t.__isSuspense;function tv(t,e){e&&e.pendingBranch?$(t)?e.effects.push(...t):e.effects.push(t):cf(t)}const Qe=Symbol.for("v-fgt"),$i=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),ss=Symbol.for("v-stc"),fr=[];let $e=null;function xo(t=!1){fr.push($e=t?null:[])}function nv(){fr.pop(),$e=fr[fr.length-1]||null}let br=1;function vi(t,e=!1){br+=t,t<0&&$e&&e&&($e.hasOnce=!0)}function zc(t){return t.dynamicChildren=br>0?$e||xn:null,nv(),br>0&&$e&&$e.push(t),t}function qc(t,e,n,r,i,s){return zc(Jt(t,e,n,r,i,s,!0))}function rv(t,e,n,r,i){return zc(Ke(t,e,n,r,i,!0))}function mi(t){return t?t.__v_isVNode===!0:!1}function Xn(t,e){return t.type===e.type&&t.key===e.key}const Wc=({key:t})=>t??null,ni=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ye(t)||he(t)||H(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function Jt(t,e=null,n=null,r=0,i=null,s=t===Qe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wc(e),ref:e&&ni(e),scopeId:Ec,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:pt};return l?(Po(a,n),s&128&&t.normalize(a)):n&&(a.shapeFlag|=ye(n)?8:16),br>0&&!o&&$e&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&$e.push(a),a}const Ke=iv;function iv(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Pf)&&(t=On),mi(t)){const l=Vn(t,e,!0);return n&&Po(l,n),br>0&&!s&&$e&&(l.shapeFlag&6?$e[$e.indexOf(t)]=l:$e.push(l)),l.patchFlag=-2,l}if(fv(t)&&(t=t.__vccOpts),e){e=sv(e);let{class:l,style:a}=e;l&&!ye(l)&&(e.class=Fi(l)),fe(a)&&(go(a)&&!$(a)&&(a=Pe({},a)),e.style=Li(a))}const o=ye(t)?1:Kc(t)?128:df(t)?64:fe(t)?4:H(t)?2:0;return Jt(t,e,n,r,i,o,s,!0)}function sv(t){return t?go(t)||Ic(t)?Pe({},t):t:null}function Vn(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:a}=t,c=e?lv(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Wc(c),ref:e&&e.ref?n&&s?$(s)?s.concat(ni(e)):[s,ni(e)]:ni(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vn(t.ssContent),ssFallback:t.ssFallback&&Vn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&wo(u,a.clone(u)),u}function ov(t=" ",e=0){return Ke($i,null,t,e)}function ct(t){return t==null||typeof t=="boolean"?Ke(On):$(t)?Ke(Qe,null,t.slice()):mi(t)?Lt(t):Ke($i,null,String(t))}function Lt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vn(t)}function Po(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Po(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ic(e)?e._ctx=pt:i===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else H(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),r&64?(n=16,e=[ov(e)]):n=8);t.children=e,t.shapeFlag|=n}function lv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Fi([e.class,r.class]));else if(i==="style")e.style=Li([e.style,r.style]);else if(Di(i)){const s=e[i],o=r[i];o&&s!==o&&!($(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ot(t,e,n,r=null){vt(t,e,7,[n,r])}const av=kc();let uv=0;function cv(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||av,s={uid:uv++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ih(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mc(r,i),emitsOptions:$c(r,i),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:r.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Yf.bind(null,s),t.ce&&t.ce(s),s}let Ve=null;const St=()=>Ve||pt;let _i,Rs;{const t=Mi(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};_i=e("__VUE_INSTANCE_SETTERS__",n=>Ve=n),Rs=e("__VUE_SSR_SETTERS__",n=>wr=n)}const Mr=t=>{const e=Ve;return _i(t),t.scope.on(),()=>{t.scope.off(),_i(e)}},Rl=()=>{Ve&&Ve.scope.off(),_i(null)};function Gc(t){return t.vnode.shapeFlag&4}let wr=!1;function pv(t,e=!1,n=!1){e&&Rs(e);const{props:r,children:i}=t.vnode,s=Gc(t);Lf(t,r,s,e),jf(t,i,n||e);const o=s?dv(t,e):void 0;return e&&Rs(!1),o}function dv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Sf);const{setup:r}=n;if(r){xt();const i=t.setupContext=r.length>1?Xc(t):null,s=Mr(t),o=Rr(r,t,0,[t.props,i]),l=Gu(o);if(Pt(),s(),(l||t.sp)&&!cr(t)&&xc(t),l){if(o.then(Rl,Rl),e)return o.then(a=>{Ml(t,a)}).catch(a=>{ji(a,t,0)});t.asyncDep=o}else Ml(t,o)}else Yc(t)}function Ml(t,e,n){H(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:fe(e)&&(t.setupState=mc(e)),Yc(t)}function Yc(t,e,n){const r=t.type;t.render||(t.render=r.render||ht);{const i=Mr(t);xt();try{kf(t)}finally{Pt(),i()}}}const hv={get(t,e){return xe(t,"get",""),t[e]}};function Xc(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,hv),slots:t.slots,emit:t.emit,expose:e}}function So(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mc(ef(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in pr)return pr[n](t)},has(e,n){return n in e||n in pr}})):t.proxy}function fv(t){return H(t)&&"__vccOpts"in t}const Be=(t,e)=>sf(t,e,wr);function Ll(t,e,n){try{vi(-1);const r=arguments.length;return r===2?fe(e)&&!$(e)?mi(e)?Ke(t,null,[e]):Ke(t,e):Ke(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&mi(n)&&(n=[n]),Ke(t,e,n))}finally{vi(1)}}const vv="3.5.24";let Ms;const Fl=typeof window<"u"&&window.trustedTypes;if(Fl)try{Ms=Fl.createPolicy("vue",{createHTML:t=>t})}catch{}const Qc=Ms?t=>Ms.createHTML(t):t=>t,mv="http://www.w3.org/2000/svg",_v="http://www.w3.org/1998/Math/MathML",wt=typeof document<"u"?document:null,Bl=wt&&wt.createElement("template"),gv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?wt.createElementNS(mv,t):e==="mathml"?wt.createElementNS(_v,t):n?wt.createElement(t,{is:n}):wt.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>wt.createTextNode(t),createComment:t=>wt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Bl.innerHTML=Qc(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=Bl.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bv=Symbol("_vtc");function wv(t,e,n){const r=t[bv];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Nl=Symbol("_vod"),yv=Symbol("_vsh"),Ev=Symbol(""),Cv=/(?:^|;)\s*display\s*:/;function xv(t,e,n){const r=t.style,i=ye(n);let s=!1;if(n&&!i){if(e)if(ye(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ri(r,l,"")}else for(const o in e)n[o]==null&&ri(r,o,"");for(const o in n)o==="display"&&(s=!0),ri(r,o,n[o])}else if(i){if(e!==n){const o=r[Ev];o&&(n+=";"+o),r.cssText=n,s=Cv.test(n)}}else e&&t.removeAttribute("style");Nl in t&&(t[Nl]=s?r.display:"",t[yv]&&(r.display="none"))}const jl=/\s*!important$/;function ri(t,e,n){if($(n))n.forEach(r=>ri(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Pv(t,e);jl.test(n)?t.setProperty(hn(r),n.replace(jl,""),"important"):t[r]=n}}const Ul=["Webkit","Moz","ms"],os={};function Pv(t,e){const n=os[e];if(n)return n;let r=Ht(e);if(r!=="filter"&&r in t)return os[e]=r;r=Yu(r);for(let i=0;i<Ul.length;i++){const s=Ul[i]+r;if(s in t)return os[e]=s}return e}const Hl="http://www.w3.org/1999/xlink";function $l(t,e,n,r,i,s=Dh(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hl,e.slice(6,e.length)):t.setAttributeNS(Hl,e,n):n==null||s&&!Qu(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Fn(n)?String(n):n)}function Kl(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Qc(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Qu(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Sv(t,e,n,r){t.addEventListener(e,n,r)}function Tv(t,e,n,r){t.removeEventListener(e,n,r)}const zl=Symbol("_vei");function Av(t,e,n,r,i=null){const s=t[zl]||(t[zl]={}),o=s[e];if(r&&o)o.value=r;else{const[l,a]=kv(e);if(r){const c=s[e]=Dv(r,i);Sv(t,l,c,a)}else o&&(Tv(t,l,o,a),s[e]=void 0)}}const ql=/(?:Once|Passive|Capture)$/;function kv(t){let e;if(ql.test(t)){e={};let r;for(;r=t.match(ql);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hn(t.slice(2)),e]}let ls=0;const Ov=Promise.resolve(),Vv=()=>ls||(Ov.then(()=>ls=0),ls=Date.now());function Dv(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;vt(Iv(r,n.value),e,5,[r])};return n.value=t,n.attached=Vv(),n}function Iv(t,e){if($(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Wl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Rv=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?wv(t,r,o):e==="style"?xv(t,n,r):Di(e)?lo(e)||Av(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mv(t,e,r,o))?(Kl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$l(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ye(r))?Kl(t,Ht(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$l(t,e,r,o))};function Mv(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Wl(e)&&H(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Wl(e)&&ye(n)?!1:e in t}const Lv=Pe({patchProp:Rv},gv);let Gl;function Fv(){return Gl||(Gl=Nc(Lv))}const Bv=((...t)=>{const e=Fv().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=jv(r);if(!i)return;const s=e._component;!H(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Nv(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Nv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function jv(t){return ye(t)?document.querySelector(t):t}function Kt(t){return Zu()?(Rh(t),!0):!1}function yr(){const t=new Set,e=s=>{t.delete(s)};return{on:s=>{t.add(s);const o=()=>e(s);return Kt(o),{off:o}},off:e,trigger:(...s)=>Promise.all(Array.from(t).map(o=>o(...s))),clear:()=>{t.clear()}}}const Sn=new WeakMap,Zc=(...t)=>{var e;const n=t[0],r=(e=St())==null?void 0:e.proxy;if(r==null&&!Oc())throw new Error("injectLocal must be called in setup");return r&&Sn.has(r)&&n in Sn.get(r)?Sn.get(r)[n]:hr(...t)};function Uv(t,e){var n;const r=(n=St())==null?void 0:n.proxy;if(r==null)throw new Error("provideLocal must be called in setup");Sn.has(r)||Sn.set(r,Object.create(null));const i=Sn.get(r);return i[t]=e,dr(t,e)}function Hv(t,e){const n=e?.injectionKey||Symbol(t.name||"InjectionState"),r=e?.defaultValue;return[(...o)=>{const l=t(...o);return Uv(n,l),l},()=>Zc(n,r)]}const gi=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $v=Object.prototype.toString,Kv=t=>$v.call(t)==="[object Object]",bi=()=>{};function zv(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}function qv(t,e={}){let n,r,i=bi;const s=a=>{clearTimeout(a),i(),i=bi};let o;return a=>{const c=X(t),u=X(e.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=void 0),Promise.resolve(a())):new Promise((p,h)=>{i=e.rejectOnCancel?h:p,o=a,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=void 0,p(o())},u)),n=setTimeout(()=>{r&&s(r),r=void 0,p(a())},c)})}}function Wv(t,e=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(e?()=>i(n):r,t)})}function Yl(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function ii(t){return Array.isArray(t)?t:[t]}function Gv(t){return St()}function Yv(t,e=200,n={}){return zv(qv(e,n),t)}function Xl(t,e=200,n={}){const r=fn(X(t)),i=Yv(()=>{r.value=t.value},e,n);return et(t,()=>i()),_o(r)}function Jc(t,e=!0,n){Gv()?kn(t,n):e?t():gc(t)}function Xv(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let s=null;const o=we(!1);function l(){s&&(clearInterval(s),s=null)}function a(){o.value=!1,l()}function c(){const u=X(e);u<=0||(o.value=!0,i&&t(),l(),o.value&&(s=setInterval(t,u)))}if(r&&gi&&c(),he(e)||typeof e=="function"){const u=et(e,()=>{o.value&&gi&&c()});Kt(u)}return Kt(a),{isActive:_o(o),pause:a,resume:c}}function Qv(t,e,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n,s=we(!1);let o;function l(){o&&(clearTimeout(o),o=void 0)}function a(){s.value=!1,l()}function c(...u){i&&t(),l(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=void 0,t(...u)},X(e))}return r&&(s.value=!0,gi&&c()),Kt(a),{isPending:_o(s),start:c,stop:a}}function Zv(t=1e3,e={}){const{controls:n=!1,callback:r}=e,i=Qv(r??bi,t,e),s=Be(()=>!i.isPending.value);return n?{ready:s,...i}:s}function ep(t,e,n){return et(t,e,{...n,immediate:!0})}const vn=gi?window:void 0;function Bt(t){var e;const n=X(t);return(e=n?.$el)!=null?e:n}function Ls(...t){const e=[],n=()=>{e.forEach(l=>l()),e.length=0},r=(l,a,c,u)=>(l.addEventListener(a,c,u),()=>l.removeEventListener(a,c,u)),i=Be(()=>{const l=ii(X(t[0])).filter(a=>a!=null);return l.every(a=>typeof a!="string")?l:void 0}),s=ep(()=>{var l,a;return[(a=(l=i.value)==null?void 0:l.map(c=>Bt(c)))!=null?a:[vn].filter(c=>c!=null),ii(X(i.value?t[1]:t[0])),ii(an(i.value?t[2]:t[1])),X(i.value?t[3]:t[2])]},([l,a,c,u])=>{if(n(),!l?.length||!a?.length||!c?.length)return;const p=Kv(u)?{...u}:u;e.push(...l.flatMap(h=>a.flatMap(f=>c.map(m=>r(h,f,m,p)))))},{flush:"post"}),o=()=>{s(),n()};return Kt(n),o}function Jv(){const t=we(!1),e=St();return e&&kn(()=>{t.value=!0},e),t}function To(t){const e=Jv();return Be(()=>(e.value,!!t()))}function Ao(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:i=vn,once:s=!1}=e,o=we(!1),l=Be(()=>r?1e3/X(r):null);let a=0,c=null;function u(f){if(!o.value||!i)return;a||(a=f);const m=f-a;if(l.value&&m<l.value){c=i.requestAnimationFrame(u);return}if(a=f,t({delta:m,timestamp:f}),s){o.value=!1,c=null;return}c=i.requestAnimationFrame(u)}function p(){!o.value&&i&&(o.value=!0,a=0,c=i.requestAnimationFrame(u))}function h(){o.value=!1,c!=null&&i&&(i.cancelAnimationFrame(c),c=null)}return n&&p(),Kt(h),{isActive:on(o),pause:h,resume:p}}const em=Symbol("vueuse-ssr-width");function tm(){const t=Oc()?Zc(em,null):null;return typeof t=="number"?t:void 0}function tp(t,e={}){const{window:n=vn,ssrWidth:r=tm()}=e,i=To(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),s=we(typeof r=="number"),o=we(),l=we(!1),a=c=>{l.value=c.matches};return ut(()=>{if(s.value){s.value=!i.value;const c=X(t).split(",");l.value=c.some(u=>{const p=u.includes("not all"),h=u.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),f=u.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(h||f);return h&&m&&(m=r>=Yl(h[1])),f&&m&&(m=r<=Yl(f[1])),p?!m:m});return}i.value&&(o.value=n.matchMedia(X(t)),l.value=o.value.matches)}),Ls(o,"change",a,{passive:!0}),Be(()=>l.value)}function nm(t={}){const{window:e=vn}=t,n=we(1),r=tp(()=>`(resolution: ${n.value}dppx)`,t);let i=bi;return e&&(i=ep(r,()=>n.value=e.devicePixelRatio)),{pixelRatio:on(n),stop:i}}function rm(t,e,n={}){const{window:r=vn,...i}=n;let s;const o=To(()=>r&&"ResizeObserver"in r),l=()=>{s&&(s.disconnect(),s=void 0)},a=Be(()=>{const p=X(t);return Array.isArray(p)?p.map(h=>Bt(h)):[Bt(p)]}),c=et(a,p=>{if(l(),o.value&&r){s=new ResizeObserver(e);for(const h of p)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Kt(u),{isSupported:o,stop:u}}function im(t,e={width:0,height:0},n={}){const{window:r=vn,box:i="content-box"}=n,s=Be(()=>{var p,h;return(h=(p=Bt(t))==null?void 0:p.namespaceURI)==null?void 0:h.includes("svg")}),o=we(e.width),l=we(e.height),{stop:a}=rm(t,([p])=>{const h=i==="border-box"?p.borderBoxSize:i==="content-box"?p.contentBoxSize:p.devicePixelContentBoxSize;if(r&&s.value){const f=Bt(t);if(f){const m=f.getBoundingClientRect();o.value=m.width,l.value=m.height}}else if(h){const f=ii(h);o.value=f.reduce((m,{inlineSize:w})=>m+w,0),l.value=f.reduce((m,{blockSize:w})=>m+w,0)}else o.value=p.contentRect.width,l.value=p.contentRect.height},n);Jc(()=>{const p=Bt(t);p&&(o.value="offsetWidth"in p?p.offsetWidth:e.width,l.value="offsetHeight"in p?p.offsetHeight:e.height)});const c=et(()=>Bt(t),p=>{o.value=p?e.width:0,l.value=p?e.height:0});function u(){a(),c()}return{width:o,height:l,stop:u}}function sm(t){var e;const n=we(0);if(typeof performance>"u")return n;const r=(e=t?.every)!=null?e:10;let i=performance.now(),s=0;return Ao(()=>{if(s+=1,s>=r){const o=performance.now(),l=o-i;n.value=Math.round(1e3/(l/s)),i=o,s=0}}),n}function om(t={}){const e=fn(),n=To(()=>typeof performance<"u"&&"memory"in performance);if(n.value){const{interval:r=1e3}=t;Xv(()=>{e.value=performance.memory},r,{immediate:t.immediate,immediateCallback:t.immediateCallback})}return{isSupported:n,memory:e}}function lm(t={}){const{window:e=vn,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:s=!0,type:o="inner"}=t,l=we(n),a=we(r),c=()=>{if(e)if(o==="outer")l.value=e.outerWidth,a.value=e.outerHeight;else if(o==="visual"&&e.visualViewport){const{width:p,height:h,scale:f}=e.visualViewport;l.value=Math.round(p*f),a.value=Math.round(h*f)}else s?(l.value=e.innerWidth,a.value=e.innerHeight):(l.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight)};c(),Jc(c);const u={passive:!0};if(Ls("resize",c,u),e&&o==="visual"&&e.visualViewport&&Ls(e.visualViewport,"resize",c,u),i){const p=tp("(orientation: portrait)");et(p,()=>c())}return{width:l,height:a}}function Ql(t){var e;const n=((e=t?.replace(/([A-Z])+/g,am))==null?void 0:e.split(/(?=[A-Z])|[\.\-\s_]/).map(r=>r.toLowerCase()))??[];return n.length===0?"":n.length===1?n[0]:n.reduce((r,i)=>`${r}${i.charAt(0).toUpperCase()}${i.slice(1)}`)}function am(t){if(!t||t.length===0)return"";const e=t.toLowerCase();return e.substring(0,1).toUpperCase()+e.substring(1,e.length)}function np(t,e){if(Object.is(t,e))return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(t instanceof RegExp&&e instanceof RegExp)return t.toString()===e.toString();if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Reflect.has(e,n[i])||!np(t[n[i]],e[n[i]]))return!1;return!0}function en(t){return typeof t=="function"}function rp(t){return typeof t=="number"&&!Number.isNaN(t)}function ko(t){return um(t,"[object Object]")}function Oo(t){return typeof t=="string"}function um(t,e){return Object.prototype.toString.call(t)===e}function Fs(t){return typeof t>"u"}class cm{nativeEvent;NONE=0;CAPTURING_PHASE=1;AT_TARGET=2;BUBBLING_PHASE=3;relatedTarget=null;get altKey(){return this.getFromNative("altKey",!1)}get button(){return this.getFromNative("button",0)}get buttons(){return this.getFromNative("buttons",0)}get clientX(){return this.getFromNative("clientX",0)}get clientY(){return this.getFromNative("clientY",0)}get ctrlKey(){return this.getFromNative("ctrlKey",!1)}get layerX(){return this.getFromNative("layerX",0)}get layerY(){return this.getFromNative("layerY",0)}get metaKey(){return this.getFromNative("metaKey",!1)}get movementX(){return this.getFromNative("movementX",0)}get movementY(){return this.getFromNative("movementY",0)}get offsetX(){return this.getFromNative("offsetX",0)}get offsetY(){return this.getFromNative("offsetY",0)}get pageX(){return this.getFromNative("pageX",0)}get pageY(){return this.getFromNative("pageY",0)}get screenX(){return this.getFromNative("screenX",0)}get screenY(){return this.getFromNative("screenY",0)}get shiftKey(){return this.getFromNative("shiftKey",!1)}get x(){return this.getFromNative("x",0)}get y(){return this.getFromNative("y",0)}get detail(){return this.getFromNative("detail",0)}get view(){return this.getFromNative("view",null)}get which(){return this.getFromNative("which",0)}get cancelBubble(){return this.getFromNative("cancelBubble",!1)}get composed(){return this.getFromNative("composed",!1)}get eventPhase(){return this.getFromNative("eventPhase",0)}get isTrusted(){return this.getFromNative("isTrusted",!1)}get returnValue(){return this.getFromNative("returnValue",!1)}get timeStamp(){return this.getFromNative("timeStamp",0)}get cancelable(){return this.getFromNative("cancelable",!1)}get defaultPrevented(){return this.getFromNative("defaultPrevented",!1)}constructor(e){this.nativeEvent=e}getFromNative(e,n){return e in this.nativeEvent?this.nativeEvent[e]:n}}const as=new ve;class Te extends cm{type;bubbles;internalPointer;intersection;camera;currentObject;object;propagationState;get pointerId(){return this.internalPointer.id}get pointerType(){return this.internalPointer.type}get pointerState(){return this.internalPointer.state}get distance(){return this.intersection.distance}get distanceToRay(){return this.intersection.distanceToRay}get point(){return this.intersection.point}get index(){return this.intersection.index}get face(){return this.intersection.face}get faceIndex(){return this.intersection.faceIndex}get uv(){return this.intersection.uv}get uv1(){return this.intersection.uv1}get normal(){return this.intersection.normal}get instanceId(){return this.intersection.instanceId}get pointOnLine(){return this.intersection.pointOnLine}get batchId(){return this.intersection.batchId}get pointerPosition(){return this.intersection.pointerPosition}get pointerQuaternion(){return this.intersection.pointerQuaternion}get pointOnFace(){return this.intersection.pointOnFace}get localPoint(){return this.intersection.localPoint}get details(){return this.intersection.details}get target(){return this.object}get currentTarget(){return this.currentObject}get eventObject(){return this.currentObject}get srcElement(){return this.currentObject}_pointer;get pointer(){return this._pointer==null&&(as.copy(this.intersection.point).project(this.camera),this._pointer=new ft(as.x,as.y)),this._pointer}_ray;get ray(){if(this._ray!=null)return this._ray;switch(this.intersection.details.type){case"screen-ray":case"ray":case"sphere":return this._ray=new xs(this.intersection.pointerPosition,new ve(0,0,-1).applyQuaternion(this.intersection.pointerQuaternion));case"lines":return this._ray=new xs(this.intersection.details.line.start,this.intersection.details.line.end.clone().sub(this.intersection.details.line.start).normalize())}}_intersections=[];get intersections(){return this._intersections==null&&(this._intersections=[{...this.intersection,eventObject:this.currentObject}]),this._intersections}_unprojectedPoint;get unprojectedPoint(){if(this._unprojectedPoint==null){const e=this.pointer;this._unprojectedPoint=new ve(e.x,e.y,0).unproject(this.camera)}return this._unprojectedPoint}get stopped(){return this.propagationState.stoppedImmediate||this.propagationState.stopped}get stoppedImmediate(){return this.propagationState.stoppedImmediate}get delta(){throw new Error("not supported")}constructor(e,n,r,i,s,o,l=s.object,a=l,c={stopped:!n,stoppedImmediate:!1}){super(r),this.type=e,this.bubbles=n,this.internalPointer=i,this.intersection=s,this.camera=o,this.currentObject=l,this.object=a,this.propagationState=c}stopPropagation(){this.propagationState.stopped=!0}stopImmediatePropagation(){this.propagationState.stoppedImmediate=!0}retarget(e){return new Te(this.type,this.bubbles,this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target,this.propagationState)}}class wi extends Te{get deltaX(){return this.nativeEvent.deltaX}get deltaY(){return this.nativeEvent.deltaY}get deltaZ(){return this.nativeEvent.deltaZ}constructor(e,n,r,i,s,o){super("wheel",!0,e,n,r,i,s,o)}retarget(e){return new wi(this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target)}}function Le(t){ip(t,t.currentObject)}function ip(t,e){if(e==null)return;const n=dm(e,t.type);if(n!=null&&n.length>0){const r=t.retarget(e),i=n.length;for(let s=0;s<i&&!r.stoppedImmediate;s++)n[s](r)}t.stopped||ip(t,e.parent)}const sp={click:"onClick",contextmenu:"onContextMenu",dblclick:"onDoubleClick",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",pointerup:"onPointerUp",wheel:"onWheel"},pm=Object.keys(sp);function dm(t,e){if(t._listeners!=null&&e in t._listeners)return t._listeners[e];let n;if(t.isVoidObject&&e==="click"&&t.parent?.__r3f!=null&&(n=t.parent.__r3f.root.getState().onPointerMissed),t.__r3f!=null&&(n=t.__r3f.handlers[sp[e]]),n!=null)return[n]}const hm=1e10,fm=new sh(hm),Zl=new Map;function op(t){let e=Zl.get(t);return e==null&&(e=new ki(fm),e.isVoidObject=!0,e.parent=t,e.pointerEventsOrder=-1/0,Zl.set(t,e)),e}function vm(t,e,n){const r=e.normal??e.face?.normal;return r==null?!1:(t.setFromNormalAndCoplanarPoint(r,e.localPoint),t.applyMatrix4(n),!0)}function mm(t,e,n){if(e==="none"||e==="listener"&&!t)return!1;if(n==="all")return!0;if(typeof n=="function")return({id:s,type:o,state:l})=>n(s,o,l);let r,i;return"deny"in n?(i=!0,r=n.deny):(i=!1,r=n.allow),Array.isArray(r)?s=>Jl(r.includes(s.type),i):s=>Jl(r===s.type,i)}function Jl(t,e){return e?!t:t}function lp(t,e,n,r=!1,i,s,o){const l=r||_m(t,e),a=e.pointerEvents??i,c=a??e.defaultPointerEvents??"listener",u=e.pointerEventsType??s??"all",p=e.pointerEventsOrder??o??0,h=mm(l,c,u),f=n.length;if(f===1)(h===!0||typeof h=="function"&&h(n[0]))&&us(n[0],e,c,u,p);else if(h===!0)for(let g=0;g<f;g++)us(n[g],e,c,u,p);else if(typeof h=="function")for(let g=0;g<f;g++){const _=n[g];h(_)&&us(_,e,c,u,p)}if(e.children.length===0||e.intersectChildren===!1)return;const m=e.interactableDescendants??e.children,w=m.length;for(let g=0;g<w;g++)lp(t,m[g],n,l,a,u,p)}function _m(t,e){if(e.ancestorsHaveListeners||t==="pointer"&&e.ancestorsHavePointerListeners||t==="wheel"&&e.ancestorsHaveWheelListeners||e.__r3f!=null&&e.__r3f?.eventCount>0&&(t==="wheel"&&e.__r3f.handlers.onWheel!=null||t==="pointer"&&Object.keys(e.__r3f.handlers).some(i=>i!="onWheel")))return!0;if(e._listeners==null)return!1;if(t==="wheel"){const i=e._listeners.wheel;return i!=null&&i.length>0}const n=Object.entries(e._listeners),r=n.length;for(let i=0;i<r;i++){const s=n[i];if(s[0]!=="wheel"&&pm.includes(s[0])&&s[1]!=null&&s[1].length>0)return!0}return!1}function us({intersector:t,options:e},n,r,i,s){e.filter?.(n,r,i,s)!==!1&&t.executeIntersection(n,s)}function gm(t,e,{customSort:n=bm}={},r){let i,s,o;const l=t.length;for(let a=0;a<l;a++){const c=t[a],u=e?.[a];(i==null||n(c,u,i,s)<0)&&(o=a,i=c,s=u)}return o}function bm(t,e=0,n,r=0){return e!=r?r-e:t.distance-n.distance}const ea=1e7;function wm(t,e,n,r,i,s=0){const o=e.direction.clone().multiplyScalar(ea),l=ea;return{distance:l+s,object:op(t),point:o,normal:e.origin.clone().sub(o).normalize(),details:n(o,l),pointerPosition:r,pointerQuaternion:i,pointOnFace:o,localPoint:o}}function ym(t,e,n){for(;n>0;)t.push(e),--n}const cs=Symbol("buttonsDownTime"),Em=Symbol("buttonsClickTime");globalThis.pointerEventspointerMap??=new Map;Oi.prototype.setPointerCapture=function(t){Vo(t)?.setCapture(this)};Oi.prototype.releasePointerCapture=function(t){const e=Vo(t);e==null||!e.hasCaptured(this)||e.setCapture(void 0)};Oi.prototype.hasPointerCapture=function(t){return Vo(t)?.hasCaptured(this)??!1};function Vo(t){return globalThis.pointerEventspointerMap?.get(t)}class Cm{id;type;state;intersector;getCamera;onMoveCommited;parentSetPointerCapture;parentReleasePointerCapture;options;prevIntersection;intersection;prevEnabled=!0;enabled=!0;wheelIntersection;pointerEntered=[];pointerEnteredHelper=[];pointerCapture;buttonsDownTime=new Map;buttonsDown=new Set;wasMoved=!1;onFirstMove=[];constructor(e,n,r,i,s,o,l,a,c={}){this.id=e,this.type=n,this.state=r,this.intersector=i,this.getCamera=s,this.onMoveCommited=o,this.parentSetPointerCapture=l,this.parentReleasePointerCapture=a,this.options=c,globalThis.pointerEventspointerMap?.set(e,this)}getPointerCapture(){return this.pointerCapture}hasCaptured(e){return this.pointerCapture?.object===e}setCapture(e){this.pointerCapture?.object!==e&&(this.pointerCapture!=null&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),e!=null&&this.intersection!=null&&(this.pointerCapture={object:e,intersection:this.intersection},this.parentSetPointerCapture?.()))}getButtonsDown(){return this.buttonsDown}getIntersection(){return this.intersection}getEnabled(){return this.enabled}setEnabled(e,n,r=!0){this.enabled!==e&&(!e&&this.pointerCapture!=null&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),this.enabled=e,r&&this.commit(n,!1))}computeIntersection(e,n,r){return this.pointerCapture!=null?this.intersector.intersectPointerCapture(this.pointerCapture,r):(this.intersector.startIntersection(r),lp(e,n,[this]),this.intersector.finalizeIntersection(n))}setIntersection(e){this.intersection=e}commit(e,n){const r=this.getCamera(),i=this.prevEnabled?this.prevIntersection:void 0,s=this.enabled?this.intersection:void 0;i!=null&&i.object!=s?.object&&Le(new Te("pointerout",!0,e,this,i,r));const o=this.pointerEntered;this.pointerEntered=[],this.pointerEnteredHelper.length=0,ap(s?.object,this.pointerEntered,o,this.pointerEnteredHelper);const l=o.length;for(let a=0;a<l;a++){const c=o[a];Le(new Te("pointerleave",!1,e,this,i,r,c))}s!=null&&i?.object!=s.object&&Le(new Te("pointerover",!0,e,this,s,r));for(let a=this.pointerEnteredHelper.length-1;a>=0;a--){const c=this.pointerEnteredHelper[a];Le(new Te("pointerenter",!1,e,this,s,r,c))}if(n&&s!=null&&Le(new Te("pointermove",!0,e,this,s,r)),this.prevIntersection=this.intersection,this.prevEnabled=this.enabled,!this.wasMoved&&this.intersector.isReady()){this.wasMoved=!0;const a=this.onFirstMove.length;for(let c=0;c<a;c++)this.onFirstMove[c](r);this.onFirstMove.length=0}this.onMoveCommited?.(this)}move(e,n){this.intersection=this.computeIntersection("pointer",e,n),this.commit(n,!0)}emitMove(e){this.intersection!=null&&Le(new Te("pointermove",!0,e,this,this.intersection,this.getCamera()))}down(e){if(this.buttonsDown.add(e.button),!this.enabled)return;if(!this.wasMoved){this.onFirstMove.push(this.down.bind(this,e));return}if(this.intersection==null)return;Le(new Te("pointerdown",!0,e,this,this.intersection,this.getCamera()));const{object:n}=this.intersection;n[cs]??=new Map,n[cs].set(e.button,e.timeStamp),this.buttonsDownTime.set(e.button,e.timeStamp)}up(e){if(this.buttonsDown.delete(e.button),!this.enabled)return;if(!this.wasMoved){this.onFirstMove.push(this.up.bind(this,e));return}if(this.intersection==null)return;const{clickThesholdMs:n,contextMenuButton:r=2,dblClickThresholdMs:i=500,clickThresholdMs:s=n??300}=this.options;this.pointerCapture=void 0;const o=xm(this.buttonsDownTime,this.intersection.object[cs],e.button,e.timeStamp,s),l=this.getCamera();if(o&&e.button===r&&Le(new Te("contextmenu",!0,e,this,this.intersection,l)),Le(new Te("pointerup",!0,e,this,this.intersection,l)),!o||e.button===r)return;Le(new Te("click",!0,e,this,this.intersection,l));const{object:a}=this.intersection,c=a[Em]??=new Map,u=c.get(e.button);if(u==null||e.timeStamp-u>i){c.set(e.button,e.timeStamp);return}Le(new Te("dblclick",!0,e,this,this.intersection,l)),c.delete(e.button)}cancel(e){if(this.enabled){if(!this.wasMoved){this.onFirstMove.push(this.cancel.bind(this,e));return}this.intersection!=null&&Le(new Te("pointercancel",!0,e,this,this.intersection,this.getCamera()))}}wheel(e,n,r=!1){if(!this.enabled)return;if(!this.wasMoved&&r){this.onFirstMove.push(this.wheel.bind(this,e,n,r));return}r||(this.wheelIntersection=this.computeIntersection("wheel",e,n));const i=r?this.intersection:this.wheelIntersection;i!=null&&Le(new wi(n,this,i,this.getCamera()))}emitWheel(e,n=!1){if(!this.enabled)return;if(!this.wasMoved&&n){this.onFirstMove.push(this.emitWheel.bind(this,e,n));return}const r=n?this.intersection:this.wheelIntersection;r!=null&&Le(new wi(e,this,r,this.getCamera()))}exit(e){this.wasMoved&&(this.pointerCapture!=null&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),this.intersection=void 0,this.commit(e,!1)),this.onFirstMove.length=0,this.wasMoved=!1}}function ap(t,e,n,r){if(t==null)return;const i=n.indexOf(t);i!=-1?n.splice(i,1):r.push(t),e.push(t),ap(t.parent,e,n,r)}function xm(t,e,n,r,i){if(e==null)return!1;const s=e.get(n);return!(s==null||r-s>i||s!=t.get(n))}const Qn=new $u,ps=new $u,ta=new ft,na=new ft,ra=new ft,ds=new ve,Pm=new Ir,Zr=new ve;function Sm(t,e,n){Zr.copy(e).applyMatrix4(Pm.copy(n.matrixWorld).invert());const r=n.geometry.attributes.uv;if(r==null||!(r instanceof Ku))return!1;let i;return Tm(n,(s,o,l)=>{n.getVertexPosition(s,Qn.a),n.getVertexPosition(o,Qn.b),n.getVertexPosition(l,Qn.c);const a=Qn.closestPointToPoint(Zr,ds).distanceTo(Zr);i!=null&&a>=i||(i=a,ps.copy(Qn),ta.fromBufferAttribute(r,s),na.fromBufferAttribute(r,o),ra.fromBufferAttribute(r,l))}),i==null?!1:(ps.closestPointToPoint(Zr,ds),ps.getInterpolation(ds,ta,na,ra,t),!0)}function Tm(t,e){const n=t.geometry.drawRange;if(t.geometry.index!=null){const o=t.geometry.index,l=Math.max(0,n.start),a=Math.min(o.count,n.start+n.count);for(let c=l;c<a;c+=3)e(o.getX(c),o.getX(c+1),o.getX(c+2));return}const r=t.geometry.attributes.position;if(r==null)return;const i=Math.max(0,n.start),s=Math.min(r.count,n.start+n.count);for(let o=i;o<s;o+=3)e(o,o+1,o+2)}new Ir;new oh;new ve;new Vi;new xs;new ft;new ve(0,0,0),new ve(0,0,1);const ia=new Ir,Am=new ve;new ve(0,0,-1);new Vi;const sa=new ft,km=new ve;class Om{prepareTransformation;options;raycaster=new lh;cameraQuaternion=new wl;fromPosition=new ve;fromQuaternion=new wl;coords=new ft;viewPlane=new Vi;intersects=[];pointerEventsOrders=[];constructor(e,n){this.prepareTransformation=e,this.options=n}isReady(){return!0}intersectPointerCapture({intersection:e,object:n},r){const i=e.details;if(i.type!="screen-ray")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a camera ray intersector`);if(!this.startIntersection(r))return e;this.viewPlane.constant-=i.distanceViewPlane;const s=this.raycaster.ray.intersectPlane(this.viewPlane,new ve);if(s==null)return e;e.object.updateWorldMatrix(!0,!1),vm(this.viewPlane,e,e.object.matrixWorld);let o=e.uv;return e.object instanceof ki&&Sm(sa,s,e.object)&&(o=sa.clone()),{...e,details:{...i,direction:this.raycaster.ray.direction.clone(),screenPoint:this.coords.clone()},uv:o,object:n,point:s,pointOnFace:s,pointerPosition:this.raycaster.ray.origin.clone(),pointerQuaternion:this.cameraQuaternion.clone()}}startIntersection(e){const n=this.prepareTransformation(e,this.coords);return n==null?!1:(n.updateWorldMatrix(!0,!1),n.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,Am),this.raycaster.setFromCamera(this.coords,n),this.viewPlane.setFromNormalAndCoplanarPoint(n.getWorldDirection(km),this.raycaster.ray.origin),!0)}executeIntersection(e,n){const r=this.intersects.length;e.raycast(this.raycaster,this.intersects),ym(this.pointerEventsOrders,n,this.intersects.length-r)}finalizeIntersection(e){const n=this.fromPosition.clone(),r=this.cameraQuaternion.clone(),i=this.raycaster.ray.direction.clone(),s=gm(this.intersects,this.pointerEventsOrders,this.options),o=s==null?void 0:this.intersects[s];return this.intersects.length=0,this.pointerEventsOrders.length=0,o==null?wm(e,this.raycaster.ray,(l,a)=>({type:"screen-ray",distanceViewPlane:a,screenPoint:this.coords.clone(),direction:i}),n,r):(o.object.updateWorldMatrix(!0,!1),ia.copy(o.object.matrixWorld).invert(),Object.assign(o,{details:{type:"screen-ray",distanceViewPlane:this.viewPlane.distanceToPoint(o.point),screenPoint:this.coords.clone(),direction:i},pointOnFace:o.point,pointerPosition:n,pointerQuaternion:r,localPoint:o.point.clone().applyMatrix4(ia)}))}}new ve;new ft;new Ir;new ve;new Vi;new ah;new ve;new ve;new ve;new ve(1e-4,1e-4,1e-4);new Ir;let Vm=23412;function Dm(){return Vm++}function Im(t,e,n){if(!(e instanceof globalThis.MouseEvent))return n.set(0,0);const{width:r,height:i,top:s,left:o}=t.getBoundingClientRect(),l=e.clientX-o,a=e.clientY-s;return n.set(l/r*2-1,-(a/i)*2+1)}function Rm(t,e,n,r){return Mm(t,typeof e=="function"?e:()=>e,n,Im.bind(null,t),t.setPointerCapture.bind(t),i=>{t.hasPointerCapture(i)&&t.releasePointerCapture(i)},{pointerTypePrefix:"screen-",...r})}function Mm(t,e,n,r,i,s,o={}){const l=o?.forwardPointerCapture??!0,a=new Map,c=o.pointerTypePrefix??"forward-",u=(j,U)=>{let S=a.get(j.pointerId);return S!=null||(S=new Cm(Dm(),`${c}${j.pointerType}`,j.pointerState,new Om((te,ue)=>(r(te,ue),e()),o),e,void 0,l?i.bind(null,j.pointerId):void 0,l?s.bind(null,j.pointerId):void 0,o),U!="move"&&U!="wheel"&&(S.setIntersection(S.computeIntersection("pointer",n,j)),S.commit(j,!1)),a.set(j.pointerId,S)),S},p=new Map,h=new Map,f=[],m=[],w=(j,U,S)=>{switch(j){case"move":S.move(n,U);return;case"wheel":S.wheel(n,U);return;case"cancel":S.cancel(U);return;case"down":if(!oa(U))return;S.down(U);return;case"up":if(!oa(U))return;S.up(U);return;case"exit":h.delete(S),p.delete(S),S.exit(U);return}},g=(j,U)=>{const S=u(U,j);j==="move"&&h.set(S,U),j==="wheel"&&p.set(S,U),o.batchEvents??!0?m.push({type:j,event:U}):w(j,U,S)},_=g.bind(null,"move"),T=g.bind(null,"cancel"),k=g.bind(null,"down"),D=g.bind(null,"up"),W=g.bind(null,"wheel"),N=g.bind(null,"exit");return t.addEventListener("pointermove",_),t.addEventListener("pointercancel",T),t.addEventListener("pointerdown",k),t.addEventListener("pointerup",D),t.addEventListener("wheel",W),t.addEventListener("pointerleave",N),{destroy(){t.removeEventListener("pointermove",_),t.removeEventListener("pointercancel",T),t.removeEventListener("pointerdown",k),t.removeEventListener("pointerup",D),t.removeEventListener("wheel",W),t.removeEventListener("pointerleave",N),h.clear(),p.clear()},update(){const j=m.length;for(let U=0;U<j;U++){const{type:S,event:te}=m[U],ue=u(te,S);if(S==="move"&&(f.push(ue),h.get(ue)!=te)){ue.emitMove(te);continue}if(S==="wheel"&&p.get(ue)!=te){ue.emitWheel(te);continue}w(S,te,ue)}if(m.length=0,o.intersectEveryFrame??!1)for(const[U,S]of h.entries())f.includes(U)||U.move(n,S);f.length=0}}}function oa(t){return t.button!=null}var Lm=Object.create,up=Object.defineProperty,Fm=Object.getOwnPropertyDescriptor,Do=Object.getOwnPropertyNames,Bm=Object.getPrototypeOf,Nm=Object.prototype.hasOwnProperty,jm=(t,e)=>function(){return t&&(e=(0,t[Do(t)[0]])(t=0)),e},Um=(t,e)=>function(){return e||(0,t[Do(t)[0]])((e={exports:{}}).exports,e),e.exports},Hm=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Do(e))!Nm.call(t,i)&&i!==n&&up(t,i,{get:()=>e[i],enumerable:!(r=Fm(e,i))||r.enumerable});return t},$m=(t,e,n)=>(n=t!=null?Lm(Bm(t)):{},Hm(up(n,"default",{value:t,enumerable:!0}),t)),Lr=jm({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),Km=Um({"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(t,e){Lr(),e.exports=r;function n(s){return s instanceof Buffer?Buffer.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function r(s){if(s=s||{},s.circles)return i(s);const o=new Map;if(o.set(Date,p=>new Date(p)),o.set(Map,(p,h)=>new Map(a(Array.from(p),h))),o.set(Set,(p,h)=>new Set(a(Array.from(p),h))),s.constructorHandlers)for(const p of s.constructorHandlers)o.set(p[0],p[1]);let l=null;return s.proto?u:c;function a(p,h){const f=Object.keys(p),m=new Array(f.length);for(let w=0;w<f.length;w++){const g=f[w],_=p[g];typeof _!="object"||_===null?m[g]=_:_.constructor!==Object&&(l=o.get(_.constructor))?m[g]=l(_,h):ArrayBuffer.isView(_)?m[g]=n(_):m[g]=h(_)}return m}function c(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return a(p,c);if(p.constructor!==Object&&(l=o.get(p.constructor)))return l(p,c);const h={};for(const f in p){if(Object.hasOwnProperty.call(p,f)===!1)continue;const m=p[f];typeof m!="object"||m===null?h[f]=m:m.constructor!==Object&&(l=o.get(m.constructor))?h[f]=l(m,c):ArrayBuffer.isView(m)?h[f]=n(m):h[f]=c(m)}return h}function u(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return a(p,u);if(p.constructor!==Object&&(l=o.get(p.constructor)))return l(p,u);const h={};for(const f in p){const m=p[f];typeof m!="object"||m===null?h[f]=m:m.constructor!==Object&&(l=o.get(m.constructor))?h[f]=l(m,u):ArrayBuffer.isView(m)?h[f]=n(m):h[f]=u(m)}return h}}function i(s){const o=[],l=[],a=new Map;if(a.set(Date,f=>new Date(f)),a.set(Map,(f,m)=>new Map(u(Array.from(f),m))),a.set(Set,(f,m)=>new Set(u(Array.from(f),m))),s.constructorHandlers)for(const f of s.constructorHandlers)a.set(f[0],f[1]);let c=null;return s.proto?h:p;function u(f,m){const w=Object.keys(f),g=new Array(w.length);for(let _=0;_<w.length;_++){const T=w[_],k=f[T];if(typeof k!="object"||k===null)g[T]=k;else if(k.constructor!==Object&&(c=a.get(k.constructor)))g[T]=c(k,m);else if(ArrayBuffer.isView(k))g[T]=n(k);else{const D=o.indexOf(k);D!==-1?g[T]=l[D]:g[T]=m(k)}}return g}function p(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return u(f,p);if(f.constructor!==Object&&(c=a.get(f.constructor)))return c(f,p);const m={};o.push(f),l.push(m);for(const w in f){if(Object.hasOwnProperty.call(f,w)===!1)continue;const g=f[w];if(typeof g!="object"||g===null)m[w]=g;else if(g.constructor!==Object&&(c=a.get(g.constructor)))m[w]=c(g,p);else if(ArrayBuffer.isView(g))m[w]=n(g);else{const _=o.indexOf(g);_!==-1?m[w]=l[_]:m[w]=p(g)}}return o.pop(),l.pop(),m}function h(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return u(f,h);if(f.constructor!==Object&&(c=a.get(f.constructor)))return c(f,h);const m={};o.push(f),l.push(m);for(const w in f){const g=f[w];if(typeof g!="object"||g===null)m[w]=g;else if(g.constructor!==Object&&(c=a.get(g.constructor)))m[w]=c(g,h);else if(ArrayBuffer.isView(g))m[w]=n(g);else{const _=o.indexOf(g);_!==-1?m[w]=l[_]:m[w]=h(g)}}return o.pop(),l.pop(),m}}}});Lr();Lr();Lr();var cp=typeof navigator<"u",R=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:{};typeof R.chrome<"u"&&R.chrome.devtools;cp&&(R.self,R.top);var la;typeof navigator<"u"&&((la=navigator.userAgent)==null||la.toLowerCase().includes("electron"));Lr();var zm=$m(Km()),qm=/(?:^|[-_/])(\w)/g;function Wm(t,e){return e?e.toUpperCase():""}function Gm(t){return t&&`${t}`.replace(qm,Wm)}function Ym(t,e){let n=t.replace(/^[a-z]:/i,"").replace(/\\/g,"/");n.endsWith(`index${e}`)&&(n=n.replace(`/index${e}`,e));const r=n.lastIndexOf("/"),i=n.substring(r+1);{const s=i.lastIndexOf(e);return i.substring(0,s)}}var aa=(0,zm.default)({circles:!0});const Xm={trailing:!0};function Dn(t,e=25,n={}){if(n={...Xm,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,i,s=[],o,l;const a=(c,u)=>(o=Qm(t,c,u),o.finally(()=>{if(o=null,n.trailing&&l&&!i){const p=a(c,l);return l=null,p}}),o);return function(...c){return o?(n.trailing&&(l=c),o):new Promise(u=>{const p=!i&&n.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const h=n.leading?r:a(this,c);for(const f of s)f(h);s=[]},e),p?(r=a(this,c),u(r)):s.push(u)})}}async function Qm(t,e,n){return await t.apply(e,n)}function Bs(t,e={},n){for(const r in t){const i=t[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Bs(i,e,s):typeof i=="function"&&(e[s]=i)}return e}const Zm={run:t=>t()},Jm=()=>Zm,pp=typeof console.createTask<"u"?console.createTask:Jm;function e_(t,e){const n=e.shift(),r=pp(n);return t.reduce((i,s)=>i.then(()=>r.run(()=>s(...e))),Promise.resolve())}function t_(t,e){const n=e.shift(),r=pp(n);return Promise.all(t.map(i=>r.run(()=>i(...e))))}function hs(t,e){for(const n of[...t])n(e)}class n_{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const i=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(e,i),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const i of r)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Bs(e),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(e){const n=Bs(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(e_,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(t_,e,...n)}callHookWith(e,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&hs(this._before,i);const s=e(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&hs(this._after,i)}):(this._after&&i&&hs(this._after,i),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function dp(){return new n_}var r_=Object.create,hp=Object.defineProperty,i_=Object.getOwnPropertyDescriptor,Io=Object.getOwnPropertyNames,s_=Object.getPrototypeOf,o_=Object.prototype.hasOwnProperty,l_=(t,e)=>function(){return t&&(e=(0,t[Io(t)[0]])(t=0)),e},fp=(t,e)=>function(){return e||(0,t[Io(t)[0]])((e={exports:{}}).exports,e),e.exports},a_=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Io(e))!o_.call(t,i)&&i!==n&&hp(t,i,{get:()=>e[i],enumerable:!(r=i_(e,i))||r.enumerable});return t},u_=(t,e,n)=>(n=t!=null?r_(s_(t)):{},a_(hp(n,"default",{value:t,enumerable:!0}),t)),y=l_({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),c_=fp({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(t,e){y(),(function(n){var r={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},i=["",""],s={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},o={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},l={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),p=function(g,_){var T="-",k="",D="",W=!0,N={},j,U,S,te,ue,Wt,tt,nt,Kn,le,M,Y,be,Xe,Ee="";if(typeof g!="string")return"";if(typeof _=="string"&&(T=_),tt=l.en,nt=o.en,typeof _=="object"){j=_.maintainCase||!1,N=_.custom&&typeof _.custom=="object"?_.custom:N,S=+_.truncate>1&&_.truncate||!1,te=_.uric||!1,ue=_.uricNoSlash||!1,Wt=_.mark||!1,W=!(_.symbols===!1||_.lang===!1),T=_.separator||T,te&&(Ee+=a),ue&&(Ee+=c),Wt&&(Ee+=u),tt=_.lang&&l[_.lang]&&W?l[_.lang]:W?l.en:{},nt=_.lang&&o[_.lang]?o[_.lang]:_.lang===!1||_.lang===!0?{}:o.en,_.titleCase&&typeof _.titleCase.length=="number"&&Array.prototype.toString.call(_.titleCase)?(_.titleCase.forEach(function(pe){N[pe+""]=pe+""}),U=!0):U=!!_.titleCase,_.custom&&typeof _.custom.length=="number"&&Array.prototype.toString.call(_.custom)&&_.custom.forEach(function(pe){N[pe+""]=pe+""}),Object.keys(N).forEach(function(pe){var Vt;pe.length>1?Vt=new RegExp("\\b"+f(pe)+"\\b","gi"):Vt=new RegExp(f(pe),"gi"),g=g.replace(Vt,N[pe])});for(M in N)Ee+=M}for(Ee+=T,Ee=f(Ee),g=g.replace(/(^\s+|\s+$)/g,""),be=!1,Xe=!1,le=0,Y=g.length;le<Y;le++)M=g[le],m(M,N)?be=!1:nt[M]?(M=be&&nt[M].match(/[A-Za-z0-9]/)?" "+nt[M]:nt[M],be=!1):M in r?(le+1<Y&&i.indexOf(g[le+1])>=0?(D+=M,M=""):Xe===!0?(M=s[D]+r[M],D=""):M=be&&r[M].match(/[A-Za-z0-9]/)?" "+r[M]:r[M],be=!1,Xe=!1):M in s?(D+=M,M="",le===Y-1&&(M=s[D]),Xe=!0):tt[M]&&!(te&&a.indexOf(M)!==-1)&&!(ue&&c.indexOf(M)!==-1)?(M=be||k.substr(-1).match(/[A-Za-z0-9]/)?T+tt[M]:tt[M],M+=g[le+1]!==void 0&&g[le+1].match(/[A-Za-z0-9]/)?T:"",be=!0):(Xe===!0?(M=s[D]+M,D="",Xe=!1):be&&(/[A-Za-z0-9]/.test(M)||k.substr(-1).match(/A-Za-z0-9]/))&&(M=" "+M),be=!1),k+=M.replace(new RegExp("[^\\w\\s"+Ee+"_-]","g"),T);return U&&(k=k.replace(/(\w)(\S*)/g,function(pe,Vt,Wr){var zn=Vt.toUpperCase()+(Wr!==null?Wr:"");return Object.keys(N).indexOf(zn.toLowerCase())<0?zn:zn.toLowerCase()})),k=k.replace(/\s+/g,T).replace(new RegExp("\\"+T+"+","g"),T).replace(new RegExp("(^\\"+T+"+|\\"+T+"+$)","g"),""),S&&k.length>S&&(Kn=k.charAt(S)===T,k=k.slice(0,S),Kn||(k=k.slice(0,k.lastIndexOf(T)))),!j&&!U&&(k=k.toLowerCase()),k},h=function(g){return function(T){return p(T,g)}},f=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(w,g){for(var _ in g)if(g[_]===w)return!0};if(typeof e<"u"&&e.exports)e.exports=p,e.exports.createSlug=h;else if(typeof define<"u"&&define.amd)define([],function(){return p});else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=p,n.createSlug=h}catch{}})(t)}}),p_=fp({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(t,e){y(),e.exports=c_()}});y();y();y();y();y();y();y();y();function d_(t){var e;const n=t.name||t._componentTag||t.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||t.__name;return n==="index"&&((e=t.__file)!=null&&e.endsWith("index.vue"))?"":n}function h_(t){const e=t.__file;if(e)return Gm(Ym(e,".vue"))}function ua(t,e){return t.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=e,e}function Ro(t){if(t.__VUE_DEVTOOLS_NEXT_APP_RECORD__)return t.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(t.root)return t.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__}function vp(t){var e,n;const r=(e=t.subTree)==null?void 0:e.type,i=Ro(t);return i?((n=i?.types)==null?void 0:n.Fragment)===r:!1}function Ki(t){var e,n,r;const i=d_(t?.type||{});if(i)return i;if(t?.root===t)return"Root";for(const o in(n=(e=t.parent)==null?void 0:e.type)==null?void 0:n.components)if(t.parent.type.components[o]===t?.type)return ua(t,o);for(const o in(r=t.appContext)==null?void 0:r.components)if(t.appContext.components[o]===t?.type)return ua(t,o);const s=h_(t?.type||{});return s||"Anonymous Component"}function f_(t){var e,n,r;const i=(r=(n=(e=t?.appContext)==null?void 0:e.app)==null?void 0:n.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__)!=null?r:0,s=t===t?.root?"root":t.uid;return`${i}:${s}`}function Ns(t,e){return e=e||`${t.id}:root`,t.instanceMap.get(e)||t.instanceMap.get(":root")}function v_(){const t={top:0,bottom:0,left:0,right:0,get width(){return t.right-t.left},get height(){return t.bottom-t.top}};return t}var Jr;function m_(t){return Jr||(Jr=document.createRange()),Jr.selectNode(t),Jr.getBoundingClientRect()}function __(t){const e=v_();if(!t.children)return e;for(let n=0,r=t.children.length;n<r;n++){const i=t.children[n];let s;if(i.component)s=un(i.component);else if(i.el){const o=i.el;o.nodeType===1||o.getBoundingClientRect?s=o.getBoundingClientRect():o.nodeType===3&&o.data.trim()&&(s=m_(o))}s&&g_(e,s)}return e}function g_(t,e){return(!t.top||e.top<t.top)&&(t.top=e.top),(!t.bottom||e.bottom>t.bottom)&&(t.bottom=e.bottom),(!t.left||e.left<t.left)&&(t.left=e.left),(!t.right||e.right>t.right)&&(t.right=e.right),t}var ca={top:0,left:0,right:0,bottom:0,width:0,height:0};function un(t){const e=t.subTree.el;return typeof window>"u"?ca:vp(t)?__(t.subTree):e?.nodeType===1?e?.getBoundingClientRect():t.subTree.component?un(t.subTree.component):ca}y();function Mo(t){return vp(t)?b_(t.subTree):t.subTree?[t.subTree.el]:[]}function b_(t){if(!t.children)return[];const e=[];return t.children.forEach(n=>{n.component?e.push(...Mo(n.component)):n?.el&&e.push(n.el)}),e}var mp="__vue-devtools-component-inspector__",_p="__vue-devtools-component-inspector__card__",gp="__vue-devtools-component-inspector__name__",bp="__vue-devtools-component-inspector__indicator__",wp={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},w_={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},y_={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function Bn(){return document.getElementById(mp)}function E_(){return document.getElementById(_p)}function C_(){return document.getElementById(bp)}function x_(){return document.getElementById(gp)}function Lo(t){return{left:`${Math.round(t.left*100)/100}px`,top:`${Math.round(t.top*100)/100}px`,width:`${Math.round(t.width*100)/100}px`,height:`${Math.round(t.height*100)/100}px`}}function Fo(t){var e;const n=document.createElement("div");n.id=(e=t.elementId)!=null?e:mp,Object.assign(n.style,{...wp,...Lo(t.bounds),...t.style});const r=document.createElement("span");r.id=_p,Object.assign(r.style,{...w_,top:t.bounds.top<35?0:"-35px"});const i=document.createElement("span");i.id=gp,i.innerHTML=`&lt;${t.name}&gt;&nbsp;&nbsp;`;const s=document.createElement("i");return s.id=bp,s.innerHTML=`${Math.round(t.bounds.width*100)/100} x ${Math.round(t.bounds.height*100)/100}`,Object.assign(s.style,y_),r.appendChild(i),r.appendChild(s),n.appendChild(r),document.body.appendChild(n),n}function Bo(t){const e=Bn(),n=E_(),r=x_(),i=C_();e&&(Object.assign(e.style,{...wp,...Lo(t.bounds)}),Object.assign(n.style,{top:t.bounds.top<35?0:"-35px"}),r.innerHTML=`&lt;${t.name}&gt;&nbsp;&nbsp;`,i.innerHTML=`${Math.round(t.bounds.width*100)/100} x ${Math.round(t.bounds.height*100)/100}`)}function P_(t){const e=un(t);if(!e.width&&!e.height)return;const n=Ki(t);Bn()?Bo({bounds:e,name:n}):Fo({bounds:e,name:n})}function yp(){const t=Bn();t&&(t.style.display="none")}var js=null;function Us(t){const e=t.target;if(e){const n=e.__vueParentComponent;if(n&&(js=n,n.vnode.el)){const i=un(n),s=Ki(n);Bn()?Bo({bounds:i,name:s}):Fo({bounds:i,name:s})}}}function S_(t,e){if(t.preventDefault(),t.stopPropagation(),js){const n=f_(js);e(n)}}var yi=null;function T_(){yp(),window.removeEventListener("mouseover",Us),window.removeEventListener("click",yi,!0),yi=null}function A_(){return window.addEventListener("mouseover",Us),new Promise(t=>{function e(n){n.preventDefault(),n.stopPropagation(),S_(n,r=>{window.removeEventListener("click",e,!0),yi=null,window.removeEventListener("mouseover",Us);const i=Bn();i&&(i.style.display="none"),t(JSON.stringify({id:r}))})}yi=e,window.addEventListener("click",e,!0)})}function k_(t){const e=Ns(Oe.value,t.id);if(e){const[n]=Mo(e);if(typeof n.scrollIntoView=="function")n.scrollIntoView({behavior:"smooth"});else{const r=un(e),i=document.createElement("div"),s={...Lo(r),position:"absolute"};Object.assign(i.style,s),document.body.appendChild(i),i.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(i)},2e3)}setTimeout(()=>{const r=un(e);if(r.width||r.height){const i=Ki(e),s=Bn();s?Bo({...t,name:i,bounds:r}):Fo({...t,name:i,bounds:r}),setTimeout(()=>{s&&(s.style.display="none")},1500)}},1200)}}y();var pa,da;(da=(pa=R).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__)!=null||(pa.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0);function O_(t){let e=0;const n=setInterval(()=>{R.__VUE_INSPECTOR__&&(clearInterval(n),e+=30,t()),e>=5e3&&clearInterval(n)},30)}function V_(){const t=R.__VUE_INSPECTOR__,e=t.openInEditor;t.openInEditor=async(...n)=>{t.disable(),e(...n)}}function D_(){return new Promise(t=>{function e(){V_(),t(R.__VUE_INSPECTOR__)}R.__VUE_INSPECTOR__?e():O_(()=>{e()})})}y();y();function I_(t){return!!(t&&t.__v_isReadonly)}function Ep(t){return I_(t)?Ep(t.__v_raw):!!(t&&t.__v_isReactive)}function fs(t){return!!(t&&t.__v_isRef===!0)}function rr(t){const e=t&&t.__v_raw;return e?rr(e):t}var R_=class{constructor(){this.refEditor=new M_}set(t,e,n,r){const i=Array.isArray(e)?e:e.split(".");for(;i.length>1;){const l=i.shift();t instanceof Map?t=t.get(l):t instanceof Set?t=Array.from(t.values())[l]:t=t[l],this.refEditor.isRef(t)&&(t=this.refEditor.get(t))}const s=i[0],o=this.refEditor.get(t)[s];r?r(t,s,n):this.refEditor.isRef(o)?this.refEditor.set(o,n):t[s]=n}get(t,e){const n=Array.isArray(e)?e:e.split(".");for(let r=0;r<n.length;r++)if(t instanceof Map?t=t.get(n[r]):t=t[n[r]],this.refEditor.isRef(t)&&(t=this.refEditor.get(t)),!t)return;return t}has(t,e,n=!1){if(typeof t>"u")return!1;const r=Array.isArray(e)?e.slice():e.split("."),i=n?2:1;for(;t&&r.length>i;){const s=r.shift();t=t[s],this.refEditor.isRef(t)&&(t=this.refEditor.get(t))}return t!=null&&Object.prototype.hasOwnProperty.call(t,r[0])}createDefaultSetCallback(t){return(e,n,r)=>{if((t.remove||t.newKey)&&(Array.isArray(e)?e.splice(n,1):rr(e)instanceof Map?e.delete(n):rr(e)instanceof Set?e.delete(Array.from(e.values())[n]):Reflect.deleteProperty(e,n)),!t.remove){const i=e[t.newKey||n];this.refEditor.isRef(i)?this.refEditor.set(i,r):rr(e)instanceof Map?e.set(t.newKey||n,r):rr(e)instanceof Set?e.add(r):e[t.newKey||n]=r}}}},M_=class{set(t,e){if(fs(t))t.value=e;else{if(t instanceof Set&&Array.isArray(e)){t.clear(),e.forEach(i=>t.add(i));return}const n=Object.keys(e);if(t instanceof Map){const i=new Set(t.keys());n.forEach(s=>{t.set(s,Reflect.get(e,s)),i.delete(s)}),i.forEach(s=>t.delete(s));return}const r=new Set(Object.keys(t));n.forEach(i=>{Reflect.set(t,i,Reflect.get(e,i)),r.delete(i)}),r.forEach(i=>Reflect.deleteProperty(t,i))}}get(t){return fs(t)?t.value:t}isRef(t){return fs(t)||Ep(t)}};y();y();y();var L_="__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__";function F_(){if(typeof window>"u"||!cp||typeof localStorage>"u"||localStorage===null)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const t=typeof localStorage.getItem<"u"?localStorage.getItem(L_):null;return t?JSON.parse(t):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}y();y();y();var ha,fa;(fa=(ha=R).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS)!=null||(ha.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var B_=new Proxy(R.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get(t,e,n){return Reflect.get(t,e,n)}});function N_(t,e){_e.timelineLayersState[e.id]=!1,B_.push({...t,descriptorId:e.id,appRecord:Ro(e.app)})}var va,ma;(ma=(va=R).__VUE_DEVTOOLS_KIT_INSPECTOR__)!=null||(va.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var No=new Proxy(R.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get(t,e,n){return Reflect.get(t,e,n)}}),Cp=Dn(()=>{Nn.hooks.callHook("sendInspectorToClient",xp())});function j_(t,e){var n,r;No.push({options:t,descriptor:e,treeFilterPlaceholder:(n=t.treeFilterPlaceholder)!=null?n:"Search tree...",stateFilterPlaceholder:(r=t.stateFilterPlaceholder)!=null?r:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:Ro(e.app)}),Cp()}function xp(){return No.filter(t=>t.descriptor.app===Oe.value.app).filter(t=>t.descriptor.id!=="components").map(t=>{var e;const n=t.descriptor,r=t.options;return{id:r.id,label:r.label,logo:n.logo,icon:`custom-ic-baseline-${(e=r?.icon)==null?void 0:e.replace(/_/g,"-")}`,packageName:n.packageName,homepage:n.homepage,pluginId:n.id}})}function si(t,e){return No.find(n=>n.options.id===t&&(e?n.descriptor.app===e:!0))}function U_(){const t=dp();t.hook("addInspector",({inspector:r,plugin:i})=>{j_(r,i.descriptor)});const e=Dn(async({inspectorId:r,plugin:i})=>{var s;if(!r||!((s=i?.descriptor)!=null&&s.app)||_e.highPerfModeEnabled)return;const o=si(r,i.descriptor.app),l={app:i.descriptor.app,inspectorId:r,filter:o?.treeFilter||"",rootNodes:[]};await new Promise(a=>{t.callHookWith(async c=>{await Promise.all(c.map(u=>u(l))),a()},"getInspectorTree")}),t.callHookWith(async a=>{await Promise.all(a.map(c=>c({inspectorId:r,rootNodes:l.rootNodes})))},"sendInspectorTreeToClient")},120);t.hook("sendInspectorTree",e);const n=Dn(async({inspectorId:r,plugin:i})=>{var s;if(!r||!((s=i?.descriptor)!=null&&s.app)||_e.highPerfModeEnabled)return;const o=si(r,i.descriptor.app),l={app:i.descriptor.app,inspectorId:r,nodeId:o?.selectedNodeId||"",state:null},a={currentTab:`custom-inspector:${r}`};l.nodeId&&await new Promise(c=>{t.callHookWith(async u=>{await Promise.all(u.map(p=>p(l,a))),c()},"getInspectorState")}),t.callHookWith(async c=>{await Promise.all(c.map(u=>u({inspectorId:r,nodeId:l.nodeId,state:l.state})))},"sendInspectorStateToClient")},120);return t.hook("sendInspectorState",n),t.hook("customInspectorSelectNode",({inspectorId:r,nodeId:i,plugin:s})=>{const o=si(r,s.descriptor.app);o&&(o.selectedNodeId=i)}),t.hook("timelineLayerAdded",({options:r,plugin:i})=>{N_(r,i.descriptor)}),t.hook("timelineEventAdded",({options:r,plugin:i})=>{var s;const o=["performance","component-event","keyboard","mouse"];_e.highPerfModeEnabled||!((s=_e.timelineLayersState)!=null&&s[i.descriptor.id])&&!o.includes(r.layerId)||t.callHookWith(async l=>{await Promise.all(l.map(a=>a(r)))},"sendTimelineEventToClient")}),t.hook("getComponentInstances",async({app:r})=>{const i=r.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!i)return null;const s=i.id.toString();return[...i.instanceMap].filter(([l])=>l.split(":")[0]===s).map(([,l])=>l)}),t.hook("getComponentBounds",async({instance:r})=>un(r)),t.hook("getComponentName",({instance:r})=>Ki(r)),t.hook("componentHighlight",({uid:r})=>{const i=Oe.value.instanceMap.get(r);i&&P_(i)}),t.hook("componentUnhighlight",()=>{yp()}),t}var _a,ga;(ga=(_a=R).__VUE_DEVTOOLS_KIT_APP_RECORDS__)!=null||(_a.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]);var ba,wa;(wa=(ba=R).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__)!=null||(ba.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={});var ya,Ea;(Ea=(ya=R).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__)!=null||(ya.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__="");var Ca,xa;(xa=(Ca=R).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__)!=null||(Ca.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]);var Pa,Sa;(Sa=(Pa=R).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__)!=null||(Pa.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var tn="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";function H_(){return{connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:F_()}}var Ta,Aa;(Aa=(Ta=R)[tn])!=null||(Ta[tn]=H_());var $_=Dn(t=>{Nn.hooks.callHook("devtoolsStateUpdated",{state:t})});Dn((t,e)=>{Nn.hooks.callHook("devtoolsConnectedUpdated",{state:t,oldState:e})});var zi=new Proxy(R.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get(t,e,n){return e==="value"?R.__VUE_DEVTOOLS_KIT_APP_RECORDS__:R.__VUE_DEVTOOLS_KIT_APP_RECORDS__[e]}}),Oe=new Proxy(R.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get(t,e,n){return e==="value"?R.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:e==="id"?R.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:R.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[e]}});function Pp(){$_({...R[tn],appRecords:zi.value,activeAppRecordId:Oe.id,tabs:R.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:R.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}function K_(t){R.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=t,Pp()}function z_(t){R.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=t,Pp()}var _e=new Proxy(R[tn],{get(t,e){return e==="appRecords"?zi:e==="activeAppRecordId"?Oe.id:e==="tabs"?R.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:e==="commands"?R.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:R[tn][e]},deleteProperty(t,e){return delete t[e],!0},set(t,e,n){return{...R[tn]},t[e]=n,R[tn][e]=n,!0}});function q_(t={}){var e,n,r;const{file:i,host:s,baseUrl:o=window.location.origin,line:l=0,column:a=0}=t;if(i){if(s==="chrome-extension"){const c=i.replace(/\\/g,"\\\\"),u=(n=(e=window.VUE_DEVTOOLS_CONFIG)==null?void 0:e.openInEditorHost)!=null?n:"/";fetch(`${u}__open-in-editor?file=${encodeURI(i)}`).then(p=>{if(!p.ok){const h=`Opening component ${c} failed`;console.log(`%c${h}`,"color:red")}})}else if(_e.vitePluginDetected){const c=(r=R.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)!=null?r:o;R.__VUE_INSPECTOR__.openInEditor(c,i,l,a)}}}y();y();y();y();y();var ka,Oa;(Oa=(ka=R).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__)!=null||(ka.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var jo=new Proxy(R.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get(t,e,n){return Reflect.get(t,e,n)}});function Hs(t){const e={};return Object.keys(t).forEach(n=>{e[n]=t[n].defaultValue}),e}function Uo(t){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${t}__`}function W_(t){var e,n,r;const i=(n=(e=jo.find(s=>{var o;return s[0].id===t&&!!((o=s[0])!=null&&o.settings)}))==null?void 0:e[0])!=null?n:null;return(r=i?.settings)!=null?r:null}function Sp(t,e){var n,r,i;const s=Uo(t);if(s){const o=localStorage.getItem(s);if(o)return JSON.parse(o)}if(t){const o=(r=(n=jo.find(l=>l[0].id===t))==null?void 0:n[0])!=null?r:null;return Hs((i=o?.settings)!=null?i:{})}return Hs(e)}function G_(t,e){const n=Uo(t);localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(Hs(e)))}function Y_(t,e,n){const r=Uo(t),i=localStorage.getItem(r),s=JSON.parse(i||"{}"),o={...s,[e]:n};localStorage.setItem(r,JSON.stringify(o)),Nn.hooks.callHookWith(l=>{l.forEach(a=>a({pluginId:t,key:e,oldValue:s[e],newValue:n,settings:o}))},"setPluginSettings")}y();y();y();y();y();y();y();y();y();y();y();var Va,Da,He=(Da=(Va=R).__VUE_DEVTOOLS_HOOK)!=null?Da:Va.__VUE_DEVTOOLS_HOOK=dp(),X_={vueAppInit(t){He.hook("app:init",t)},vueAppUnmount(t){He.hook("app:unmount",t)},vueAppConnected(t){He.hook("app:connected",t)},componentAdded(t){return He.hook("component:added",t)},componentEmit(t){return He.hook("component:emit",t)},componentUpdated(t){return He.hook("component:updated",t)},componentRemoved(t){return He.hook("component:removed",t)},setupDevtoolsPlugin(t){He.hook("devtools-plugin:setup",t)},perfStart(t){return He.hook("perf:start",t)},perfEnd(t){return He.hook("perf:end",t)}},Tp={on:X_,setupDevToolsPlugin(t,e){return He.callHook("devtools-plugin:setup",t,e)}},Q_=class{constructor({plugin:t,ctx:e}){this.hooks=e.hooks,this.plugin=t}get on(){return{visitComponentTree:t=>{this.hooks.hook("visitComponentTree",t)},inspectComponent:t=>{this.hooks.hook("inspectComponent",t)},editComponentState:t=>{this.hooks.hook("editComponentState",t)},getInspectorTree:t=>{this.hooks.hook("getInspectorTree",t)},getInspectorState:t=>{this.hooks.hook("getInspectorState",t)},editInspectorState:t=>{this.hooks.hook("editInspectorState",t)},inspectTimelineEvent:t=>{this.hooks.hook("inspectTimelineEvent",t)},timelineCleared:t=>{this.hooks.hook("timelineCleared",t)},setPluginSettings:t=>{this.hooks.hook("setPluginSettings",t)}}}notifyComponentUpdate(t){var e;if(_e.highPerfModeEnabled)return;const n=xp().find(r=>r.packageName===this.plugin.descriptor.packageName);if(n?.id){if(t){const r=[t.appContext.app,t.uid,(e=t.parent)==null?void 0:e.uid,t];He.callHook("component:updated",...r)}else He.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:n.id,plugin:this.plugin})}}addInspector(t){this.hooks.callHook("addInspector",{inspector:t,plugin:this.plugin}),this.plugin.descriptor.settings&&G_(t.id,this.plugin.descriptor.settings)}sendInspectorTree(t){_e.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:t,plugin:this.plugin})}sendInspectorState(t){_e.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:t,plugin:this.plugin})}selectInspectorNode(t,e){this.hooks.callHook("customInspectorSelectNode",{inspectorId:t,nodeId:e,plugin:this.plugin})}visitComponentTree(t){return this.hooks.callHook("visitComponentTree",t)}now(){return _e.highPerfModeEnabled?0:Date.now()}addTimelineLayer(t){this.hooks.callHook("timelineLayerAdded",{options:t,plugin:this.plugin})}addTimelineEvent(t){_e.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:t,plugin:this.plugin})}getSettings(t){return Sp(t??this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(t){return this.hooks.callHook("getComponentInstances",{app:t})}getComponentBounds(t){return this.hooks.callHook("getComponentBounds",{instance:t})}getComponentName(t){return this.hooks.callHook("getComponentName",{instance:t})}highlightElement(t){const e=t.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:e})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}},Z_=Q_;y();y();y();y();var J_="__vue_devtool_undefined__",eg="__vue_devtool_infinity__",tg="__vue_devtool_negative_infinity__",ng="__vue_devtool_nan__";y();y();var rg={[J_]:"undefined",[ng]:"NaN",[eg]:"Infinity",[tg]:"-Infinity"};Object.entries(rg).reduce((t,[e,n])=>(t[n]=e,t),{});y();y();y();y();y();var Ia,Ra;(Ra=(Ia=R).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__)!=null||(Ia.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set);function ig(t,e){return Tp.setupDevToolsPlugin(t,e)}function sg(t,e){const[n,r]=t;if(n.app!==e)return;const i=new Z_({plugin:{setupFn:r,descriptor:n},ctx:Nn});n.packageName==="vuex"&&i.on.editInspectorState(s=>{i.sendInspectorState(s.inspectorId)}),r(i)}function Ap(t,e){R.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(t)||_e.highPerfModeEnabled&&!e?.inspectingComponent||(R.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(t),jo.forEach(n=>{sg(n,t)}))}y();y();var Er="__VUE_DEVTOOLS_ROUTER__",In="__VUE_DEVTOOLS_ROUTER_INFO__",Ma,La;(La=(Ma=R)[In])!=null||(Ma[In]={currentRoute:null,routes:[]});var Fa,Ba;(Ba=(Fa=R)[Er])!=null||(Fa[Er]={});new Proxy(R[In],{get(t,e){return R[In][e]}});new Proxy(R[Er],{get(t,e){if(e==="value")return R[Er]}});function og(t){const e=new Map;return(t?.getRoutes()||[]).filter(n=>!e.has(n.path)&&e.set(n.path,1))}function Ho(t){return t.map(e=>{let{path:n,name:r,children:i,meta:s}=e;return i?.length&&(i=Ho(i)),{path:n,name:r,children:i,meta:s}})}function lg(t){if(t){const{fullPath:e,hash:n,href:r,path:i,name:s,matched:o,params:l,query:a}=t;return{fullPath:e,hash:n,href:r,path:i,name:s,params:l,query:a,matched:Ho(o)}}return t}function ag(t,e){function n(){var r;const i=(r=t.app)==null?void 0:r.config.globalProperties.$router,s=lg(i?.currentRoute.value),o=Ho(og(i)),l=console.warn;console.warn=()=>{},R[In]={currentRoute:s?aa(s):{},routes:aa(o)},R[Er]=i,console.warn=l}n(),Tp.on.componentUpdated(Dn(()=>{var r;((r=e.value)==null?void 0:r.app)===t.app&&(n(),!_e.highPerfModeEnabled&&Nn.hooks.callHook("routerInfoUpdated",{state:R[In]}))},200))}function ug(t){return{async getInspectorTree(e){const n={...e,app:Oe.value.app,rootNodes:[]};return await new Promise(r=>{t.callHookWith(async i=>{await Promise.all(i.map(s=>s(n))),r()},"getInspectorTree")}),n.rootNodes},async getInspectorState(e){const n={...e,app:Oe.value.app,state:null},r={currentTab:`custom-inspector:${e.inspectorId}`};return await new Promise(i=>{t.callHookWith(async s=>{await Promise.all(s.map(o=>o(n,r))),i()},"getInspectorState")}),n.state},editInspectorState(e){const n=new R_,r={...e,app:Oe.value.app,set:(i,s=e.path,o=e.state.value,l)=>{n.set(i,s,o,l||n.createDefaultSetCallback(e.state))}};t.callHookWith(i=>{i.forEach(s=>s(r))},"editInspectorState")},sendInspectorState(e){const n=si(e);t.callHook("sendInspectorState",{inspectorId:e,plugin:{descriptor:n.descriptor,setupFn:()=>({})}})},inspectComponentInspector(){return A_()},cancelInspectComponentInspector(){return T_()},getComponentRenderCode(e){const n=Ns(Oe.value,e);if(n)return typeof n?.type!="function"?n.render.toString():n.type.toString()},scrollToComponent(e){return k_({id:e})},openInEditor:q_,getVueInspector:D_,toggleApp(e,n){const r=zi.value.find(i=>i.id===e);r&&(z_(e),K_(r),ag(r,Oe),Cp(),Ap(r.app,n))},inspectDOM(e){const n=Ns(Oe.value,e);if(n){const[r]=Mo(n);r&&(R.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=r)}},updatePluginSettings(e,n,r){Y_(e,n,r)},getPluginSettings(e){return{options:W_(e),values:Sp(e)}}}}y();var Na,ja;(ja=(Na=R).__VUE_DEVTOOLS_ENV__)!=null||(Na.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var Ua=U_(),Ha,$a;($a=(Ha=R).__VUE_DEVTOOLS_KIT_CONTEXT__)!=null||(Ha.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:Ua,get state(){return{..._e,activeAppRecordId:Oe.id,activeAppRecord:Oe.value,appRecords:zi.value}},api:ug(Ua)});var Nn=R.__VUE_DEVTOOLS_KIT_CONTEXT__;y();u_(p_());var Ka,za;(za=(Ka=R).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__)!=null||(Ka.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set});y();y();function cg(t){_e.highPerfModeEnabled=t??!_e.highPerfModeEnabled,!t&&Oe.value&&Ap(Oe.value.app)}y();y();y();function pg(t){_e.devtoolsClientDetected={..._e.devtoolsClientDetected,...t};const e=Object.values(_e.devtoolsClientDetected).some(Boolean);cg(!e)}var qa,Wa;(Wa=(qa=R).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__)!=null||(qa.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=pg);y();y();y();y();y();y();y();var dg=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,e){this.keyToValue.set(t,e),this.valueToKey.set(e,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},kp=class{constructor(t){this.generateIdentifier=t,this.kv=new dg}register(t,e){this.kv.getByValue(t)||(e||(e=this.generateIdentifier(t)),this.kv.set(e,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}},hg=class extends kp{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,e){typeof e=="object"?(e.allowProps&&this.classToAllowedProps.set(t,e.allowProps),super.register(t,e.identifier)):super.register(t,e)}getAllowedProps(t){return this.classToAllowedProps.get(t)}};y();y();function fg(t){if("values"in Object)return Object.values(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function vg(t,e){const n=fg(t);if("find"in n)return n.find(e);const r=n;for(let i=0;i<r.length;i++){const s=r[i];if(e(s))return s}}function Rn(t,e){Object.entries(t).forEach(([n,r])=>e(r,n))}function oi(t,e){return t.indexOf(e)!==-1}function Ga(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(e(r))return r}}var mg=class{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return vg(this.transfomers,e=>e.isApplicable(t))}findByName(t){return this.transfomers[t]}};y();y();var _g=t=>Object.prototype.toString.call(t).slice(8,-1),Op=t=>typeof t>"u",gg=t=>t===null,Cr=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,$s=t=>Cr(t)&&Object.keys(t).length===0,zt=t=>Array.isArray(t),bg=t=>typeof t=="string",wg=t=>typeof t=="number"&&!isNaN(t),yg=t=>typeof t=="boolean",Eg=t=>t instanceof RegExp,xr=t=>t instanceof Map,Pr=t=>t instanceof Set,Vp=t=>_g(t)==="Symbol",Cg=t=>t instanceof Date&&!isNaN(t.valueOf()),xg=t=>t instanceof Error,Ya=t=>typeof t=="number"&&isNaN(t),Pg=t=>yg(t)||gg(t)||Op(t)||wg(t)||bg(t)||Vp(t),Sg=t=>typeof t=="bigint",Tg=t=>t===1/0||t===-1/0,Ag=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),kg=t=>t instanceof URL;y();var Dp=t=>t.replace(/\./g,"\\."),vs=t=>t.map(String).map(Dp).join("."),vr=t=>{const e=[];let n="";for(let i=0;i<t.length;i++){let s=t.charAt(i);if(s==="\\"&&t.charAt(i+1)==="."){n+=".",i++;continue}if(s==="."){e.push(n),n="";continue}n+=s}const r=n;return e.push(r),e};y();function lt(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}var Ip=[lt(Op,"undefined",()=>null,()=>{}),lt(Sg,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),lt(Cg,"Date",t=>t.toISOString(),t=>new Date(t)),lt(xg,"Error",(t,e)=>{const n={name:t.name,message:t.message};return e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n},(t,e)=>{const n=new Error(t.message);return n.name=t.name,n.stack=t.stack,e.allowedErrorProps.forEach(r=>{n[r]=t[r]}),n}),lt(Eg,"regexp",t=>""+t,t=>{const e=t.slice(1,t.lastIndexOf("/")),n=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,n)}),lt(Pr,"set",t=>[...t.values()],t=>new Set(t)),lt(xr,"map",t=>[...t.entries()],t=>new Map(t)),lt(t=>Ya(t)||Tg(t),"number",t=>Ya(t)?"NaN":t>0?"Infinity":"-Infinity",Number),lt(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),lt(kg,"URL",t=>t.toString(),t=>new URL(t))];function qi(t,e,n,r){return{isApplicable:t,annotation:e,transform:n,untransform:r}}var Rp=qi((t,e)=>Vp(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,n)=>{const r=n.symbolRegistry.getValue(e[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),Og=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),Mp=qi(Ag,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{const n=Og[e[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(t)});function Lp(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}var Fp=qi(Lp,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{const n=e.classRegistry.getAllowedProps(t.constructor);if(!n)return{...t};const r={};return n.forEach(i=>{r[i]=t[i]}),r},(t,e,n)=>{const r=n.classRegistry.getValue(e[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),t)}),Bp=qi((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,n)=>{const r=n.customTransformerRegistry.findByName(e[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(t)}),Vg=[Fp,Rp,Bp,Mp],Xa=(t,e)=>{const n=Ga(Vg,i=>i.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation(t,e)};const r=Ga(Ip,i=>i.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation}},Np={};Ip.forEach(t=>{Np[t.annotation]=t});var Dg=(t,e,n)=>{if(zt(e))switch(e[0]){case"symbol":return Rp.untransform(t,e,n);case"class":return Fp.untransform(t,e,n);case"custom":return Bp.untransform(t,e,n);case"typed-array":return Mp.untransform(t,e,n);default:throw new Error("Unknown transformation: "+e)}else{const r=Np[e];if(!r)throw new Error("Unknown transformation: "+e);return r.untransform(t,n)}};y();var En=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");const n=t.keys();for(;e>0;)n.next(),e--;return n.next().value};function jp(t){if(oi(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(oi(t,"prototype"))throw new Error("prototype is not allowed as a property");if(oi(t,"constructor"))throw new Error("constructor is not allowed as a property")}var Ig=(t,e)=>{jp(e);for(let n=0;n<e.length;n++){const r=e[n];if(Pr(t))t=En(t,+r);else if(xr(t)){const i=+r,s=+e[++n]==0?"key":"value",o=En(t,i);switch(s){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[r]}return t},Ks=(t,e,n)=>{if(jp(e),e.length===0)return n(t);let r=t;for(let s=0;s<e.length-1;s++){const o=e[s];if(zt(r)){const l=+o;r=r[l]}else if(Cr(r))r=r[o];else if(Pr(r)){const l=+o;r=En(r,l)}else if(xr(r)){if(s===e.length-2)break;const a=+o,c=+e[++s]==0?"key":"value",u=En(r,a);switch(c){case"key":r=u;break;case"value":r=r.get(u);break}}}const i=e[e.length-1];if(zt(r)?r[+i]=n(r[+i]):Cr(r)&&(r[i]=n(r[i])),Pr(r)){const s=En(r,+i),o=n(s);s!==o&&(r.delete(s),r.add(o))}if(xr(r)){const s=+e[e.length-2],o=En(r,s);switch(+i==0?"key":"value"){case"key":{const a=n(o);r.set(a,r.get(o)),a!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return t};function zs(t,e,n=[]){if(!t)return;if(!zt(t)){Rn(t,(s,o)=>zs(s,e,[...n,...vr(o)]));return}const[r,i]=t;i&&Rn(i,(s,o)=>{zs(s,e,[...n,...vr(o)])}),e(r,n)}function Rg(t,e,n){return zs(e,(r,i)=>{t=Ks(t,i,s=>Dg(s,r,n))}),t}function Mg(t,e){function n(r,i){const s=Ig(t,vr(i));r.map(vr).forEach(o=>{t=Ks(t,o,()=>s)})}if(zt(e)){const[r,i]=e;r.forEach(s=>{t=Ks(t,vr(s),()=>t)}),i&&Rn(i,n)}else Rn(e,n);return t}var Lg=(t,e)=>Cr(t)||zt(t)||xr(t)||Pr(t)||Lp(t,e);function Fg(t,e,n){const r=n.get(t);r?r.push(e):n.set(t,[e])}function Bg(t,e){const n={};let r;return t.forEach(i=>{if(i.length<=1)return;e||(i=i.map(l=>l.map(String)).sort((l,a)=>l.length-a.length));const[s,...o]=i;s.length===0?r=o.map(vs):n[vs(s)]=o.map(vs)}),r?$s(n)?[r]:[r,n]:$s(n)?void 0:n}var Up=(t,e,n,r,i=[],s=[],o=new Map)=>{var l;const a=Pg(t);if(!a){Fg(t,i,e);const m=o.get(t);if(m)return r?{transformedValue:null}:m}if(!Lg(t,n)){const m=Xa(t,n),w=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:t};return a||o.set(t,w),w}if(oi(s,t))return{transformedValue:null};const c=Xa(t,n),u=(l=c?.value)!=null?l:t,p=zt(u)?[]:{},h={};Rn(u,(m,w)=>{if(w==="__proto__"||w==="constructor"||w==="prototype")throw new Error(`Detected property ${w}. This is a prototype pollution risk, please remove it from your object.`);const g=Up(m,e,n,r,[...i,w],[...s,t],o);p[w]=g.transformedValue,zt(g.annotations)?h[w]=g.annotations:Cr(g.annotations)&&Rn(g.annotations,(_,T)=>{h[Dp(w)+"."+T]=_})});const f=$s(h)?{transformedValue:p,annotations:c?[c.type]:void 0}:{transformedValue:p,annotations:c?[c.type,h]:h};return a||o.set(t,f),f};y();y();function Hp(t){return Object.prototype.toString.call(t).slice(8,-1)}function Qa(t){return Hp(t)==="Array"}function Ng(t){if(Hp(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function jg(t,e,n,r,i){const s={}.propertyIsEnumerable.call(r,e)?"enumerable":"nonenumerable";s==="enumerable"&&(t[e]=n),i&&s==="nonenumerable"&&Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function qs(t,e={}){if(Qa(t))return t.map(i=>qs(i,e));if(!Ng(t))return t;const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);return[...n,...r].reduce((i,s)=>{if(Qa(e.props)&&!e.props.includes(s))return i;const o=t[s],l=qs(o,e);return jg(i,s,l,t,e.nonenumerable),i},{})}var oe=class{constructor({dedupe:t=!1}={}){this.classRegistry=new hg,this.symbolRegistry=new kp(e=>{var n;return(n=e.description)!=null?n:""}),this.customTransformerRegistry=new mg,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const e=new Map,n=Up(t,e,this,this.dedupe),r={json:n.transformedValue};n.annotations&&(r.meta={...r.meta,values:n.annotations});const i=Bg(e,this.dedupe);return i&&(r.meta={...r.meta,referentialEqualities:i}),r}deserialize(t){const{json:e,meta:n}=t;let r=qs(e);return n?.values&&(r=Rg(r,n.values,this)),n?.referentialEqualities&&(r=Mg(r,n.referentialEqualities)),r}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,e){this.classRegistry.register(t,e)}registerSymbol(t,e){this.symbolRegistry.register(t,e)}registerCustom(t,e){this.customTransformerRegistry.register({name:e,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}};oe.defaultInstance=new oe;oe.serialize=oe.defaultInstance.serialize.bind(oe.defaultInstance);oe.deserialize=oe.defaultInstance.deserialize.bind(oe.defaultInstance);oe.stringify=oe.defaultInstance.stringify.bind(oe.defaultInstance);oe.parse=oe.defaultInstance.parse.bind(oe.defaultInstance);oe.registerClass=oe.defaultInstance.registerClass.bind(oe.defaultInstance);oe.registerSymbol=oe.defaultInstance.registerSymbol.bind(oe.defaultInstance);oe.registerCustom=oe.defaultInstance.registerCustom.bind(oe.defaultInstance);oe.allowErrorProps=oe.defaultInstance.allowErrorProps.bind(oe.defaultInstance);y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();y();var Za,Ja;(Ja=(Za=R).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__)!=null||(Za.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]);var eu,tu;(tu=(eu=R).__VUE_DEVTOOLS_KIT_RPC_CLIENT__)!=null||(eu.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null);var nu,ru;(ru=(nu=R).__VUE_DEVTOOLS_KIT_RPC_SERVER__)!=null||(nu.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null);var iu,su;(su=(iu=R).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__)!=null||(iu.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null);var ou,lu;(lu=(ou=R).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__)!=null||(ou.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null);var au,uu;(uu=(au=R).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__)!=null||(au.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null);y();y();y();y();y();y();y();var Ug={},Hg={name:"@tresjs/core",type:"module",version:"5.1.1",description:"Declarative ThreeJS using Vue Components",author:"Alvaro Saburido <hola@alvarosaburido.dev> (https://github.com/alvarosabu/)",license:"MIT",repository:{type:"git",url:"git+https://github.com/Tresjs/tres.git",directory:"packages/core"},keywords:["vue","3d","threejs","three","threejs-vue"],sideEffects:!1,exports:{".":"./dist/tres.js","./template-compiler-options":"./dist/template-compiler-options.mjs","./package.json":"./package.json"},main:"./dist/tres.js",module:"./dist/tres.js",types:"./dist/tres.d.ts",typesVersions:{"*":{"template-compiler-options":["dist/template-compiler-options.d.mts"]}},files:["*.d.ts","dist"],publishConfig:{access:"public"},scripts:{build:"tsdown",test:"vitest","test:ci":"vitest run","test:ui":"vitest --ui --coverage.enabled=true",coverage:"vitest run --coverage",lint:"eslint .","lint:fix":"eslint . --fix",typecheck:"vue-tsc --noEmit"},peerDependencies:{three:">=0.133",vue:">=3.4"},dependencies:{"@pmndrs/pointer-events":"^6.6.17","@vue/devtools-api":"^7.7.2","@vueuse/core":"catalog:utils",radashi:"^12.6.2",typescript:"catalog:typescript"},devDependencies:{"@tresjs/eslint-config":"workspace:*","@types/three":"catalog:three","@typescript-eslint/eslint-plugin":"catalog:eslint","@typescript-eslint/parser":"catalog:eslint","@vitejs/plugin-vue":"catalog:vite","@vitest/coverage-v8":"3.2.4","@vitest/ui":"catalog:testing","@vue/test-utils":"catalog:testing",eslint:"catalog:eslint","eslint-plugin-vue":"catalog:eslint",jsdom:"catalog:testing",kolorist:"catalog:utils",pathe:"catalog:utils","rollup-plugin-analyzer":"catalog:build","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"catalog:build",three:"catalog:three",tsdown:"catalog:build",vite:"catalog:vite","vite-plugin-banner":"catalog:vite","vite-plugin-dts":"catalog:vite","vite-plugin-inspect":"^11.3.3",vitest:"catalog:testing",vue:"catalog:vue","vue-demi":"^0.14.10","vue-tsc":"catalog:typescript"},nx:{implicitDependencies:["!@tresjs/core-*"]}};function $g(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Kg="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",zg=$g(Kg),Ye=t=>e=>ko(e)&&t in e&&!!e[t],Ws=Ye("isObject3D"),$p=Ye("isMesh"),Kp=Ye("isCamera"),qg=Ye("isOrthographicCamera"),zp=Ye("isPerspectiveCamera"),qp=Ye("isColor"),Wg=t=>Oo(t)||rp(t)||qp(t),cu=t=>t instanceof dh,Wp=Ye("isBufferGeometry"),Gp=Ye("isMaterial"),Gg=Ye("isLight"),Yp=Ye("isFog"),Xp=Ye("isScene"),Gs=t=>t!==null&&typeof t=="object"&&"set"in t&&typeof t.set=="function",Yg=t=>Gs(t)&&"copy"in t&&typeof t.copy=="function",Xg=t=>!!t?.constructor,Cn=t=>Kp(t)||qg(t)||zp(t),Qg=t=>Ws(t)||Wp(t)||Gp(t)||Yp(t),Zg=Ye("isPrimitive"),Jg=t=>Qg(t)&&"__tres"in t,eb=(t,e)=>{let n=0;for(let r=0;r<t.length;r++)e(t[r],r)&&(t[n]=t[r],n++);return t.length=n,t};function tb(){try{const t="production";if(t)return t}catch{}return"production"}tb();const Ei="[TresJS   ] ";function pu(...t){typeof t[0]=="string"?t[0]=Ei+t[0]:t.unshift(Ei),console.error(...t)}function nb(...t){typeof t[0]=="string"?t[0]=Ei+t[0]:t.unshift(Ei),console.warn(...t)}function du(t){(n=>"map"in n&&!!n.map)(t)&&t.map.dispose(),t.dispose()}function Qp(t){if(t.parent&&t.removeFromParent?.(),delete t.__tres,[...t.children].forEach(e=>Qp(e)),!(t instanceof zu)){const e=t;t&&t.dispose?.(),e.geometry&&e.geometry.dispose(),Array.isArray(e.material)?e.material.forEach(n=>du(n)):e.material&&du(e.material)}}function Ci(t,e){let n=t;if(e.includes("-")){const r=e.split("-");let i=r.shift();for(;n&&r.length;)i in n?(n=n[i],i=r.shift()):i=hu(i,r.shift());return{target:n,key:hu(i,...r)}}else return{target:n,key:e}}function hu(...t){return t.map((e,n)=>n===0?e:e.charAt(0).toUpperCase()+e.slice(1)).join("")}function rb(t,e,n){const r=/-\d+$/;if(Oo(n)){if(r.test(n)){const{target:o,key:l}=Ci(t,n.replace(r,""));if(!Array.isArray(o[l])){const a=o[l],c=[];c.__tresDetach=()=>{c.every(u=>Fs(u))&&(o[l]=a)},o[l]=c}}const{target:i,key:s}=Ci(t,n);e.__tres.previousAttach=i[s],i[s]=Mn(e)}else e.__tres.previousAttach=n(t,e)}function ib(t,e,n){if(Oo(n)){const{target:r,key:i}=Ci(t,n),s=e.__tres.previousAttach;s===void 0?delete r[i]:r[i]=s,"__tresDetach"in r&&r.__tresDetach()}else e.__tres?.previousAttach?.(t,e);delete e.__tres?.previousAttach}function Zt(t,e,n){const r=t;return r.__tres={type:"unknown",root:n,memoizedProps:{},objects:[],parent:null,previousAttach:null,...e},r.__tres.attach||(Gp(r)?r.__tres.attach="material":Wp(r)?r.__tres.attach="geometry":Yp(r)&&(r.__tres.attach="fog")),r}function Ys(t){const e=t?.__tres?.root;e?.renderer&&e.renderer.canBeInvalidated.value&&e.renderer.invalidate()}function sb(t,e,n,r,i){const s=[...e.__tres.objects],o=Mn(e);if(t=Mn(t),o===t)return!0;const l=Zt(t,e.__tres??{},i),a=e.parent??e.__tres.parent??null,c={...e.__tres.memoizedProps};delete c.object;for(const u of s)Zp(u,i),Jp(u,i);o.__tres.objects=[],r.remove(e);for(const[u,p]of Object.entries(c))r.patchProp(l,u,l[u],p);n(t),r.insert(e,a);for(const u of s)r.insert(u,e);return!0}function Mn(t){if(Zg(t)){const e=t;return e.object.__tres=e.__tres,e.object}else return t}function Zp(t,e){const n=t.__tres?.parent||e.scene.value;t.__tres&&(t.__tres.parent=null),n&&n.__tres&&"objects"in n.__tres&&eb(n.__tres.objects,r=>r!==t),t.__tres?.attach?ib(n,t,t.__tres.attach):(t.parent?.remove?.(Mn(t)),t.parent=null)}function Jp(t,e){t.traverse?.(n=>{Cn(n)&&e.camera.deregisterCamera(n)}),Cn(t)&&e.camera.deregisterCamera(t),Ys(t)}const ob=({sizes:t})=>{const e=fn([]),n=Be(()=>e.value[0]),r=o=>{const l=Kp(o)?o:e.value.find(a=>a.uuid===o);l&&(e.value=[l,...e.value.filter(({uuid:a})=>a!==l.uuid)])},i=(o,l=!1)=>{e.value.some(({uuid:a})=>a===o.uuid)||(e.value.push(o),l&&r(o.uuid))},s=o=>{e.value=e.value.filter(({uuid:l})=>l!==o.uuid)};return ut(()=>{t.aspectRatio.value&&e.value.forEach(o=>{zp(o)&&(o.aspect=t.aspectRatio.value,o.updateProjectionMatrix())})}),{activeCamera:n,cameras:e,registerCamera:i,deregisterCamera:s,setActiveCamera:r}};function fu(){const t=new Map,e=new Set;let n=0,r=!1;const i=()=>{const c=Array.from(t.entries()).sort((u,p)=>{const h=u[1].priority-p[1].priority;return h===0?u[1].addI-p[1].addI:h});e.clear(),c.forEach(u=>e.add(u[0]))},s=c=>{t.delete(c),e.delete(c)};return{on:(c,u=0)=>{t.set(c,{priority:u,addI:n++});const p=()=>s(c);return Kt(p),r=!0,{off:p}},off:s,trigger:(...c)=>(r&&(i(),r=!1),Promise.all(Array.from(e).map(u=>u(...c)))),dispose:()=>{t.clear(),e.clear()},get count(){return t.size}}}const Xs=fn({}),Qs=t=>Object.assign(Xs.value,t),lb=(t,e,n)=>{if(!en(t.setPixelRatio))return;let r=0;if(n&&Array.isArray(n)&&n.length>=2){const[i,s]=n;r=fh.clamp(e,i,s)}else rp(n)?r=n:r=e;r!==t.getPixelRatio?.()&&t.setPixelRatio(r)},ab=t=>{const e=new mh,n={before:yr(),after:yr()},{pause:r,resume:i,isActive:s}=Ao(()=>{const a=()=>({delta:e.getDelta(),elapsed:e.elapsedTime});n.before.trigger(a()),t(),n.after.trigger(a())},{immediate:!1});return{start:()=>{e.start(),i()},stop:()=>{e.stop(),r()},isActive:s,onBeforeLoop:n.before.on,onLoop:n.after.on}};function ub({scene:t,canvas:e,options:n,contextParts:{sizes:r,camera:i}}){const o=en(n.renderer)?n.renderer({sizes:r,scene:t,camera:i,canvas:e}):new qu({...n,canvas:Bt(e)}),l=fn(X(n.renderMode)==="manual"?0:1),a=60,c=Be(()=>X(n.renderMode)==="on-demand"&&l.value===0),u=()=>t.value.traverse(S=>{S instanceof ki&&S.material instanceof vh&&(S.material.needsUpdate=!0)}),p=(S=1)=>{c.value&&(l.value=Math.min(a,l.value+S))},h=()=>{if(X(n.renderMode)!=="manual")throw new Error("advance can only be called in manual render mode.");l.value=1},f=()=>{X(n.renderMode)==="on-demand"&&p()},m=Be(()=>X(n.renderMode)==="always"),w=S=>ko(S)&&"isRenderer"in S&&!!S.isRenderer,g=yr();let _=!1;w(o)&&(o.init(),g.trigger(o));const T=yr(),k=()=>{l.value=m.value?1:Math.max(0,l.value-1),T.trigger(o)};let D=S=>{i.activeCamera.value&&(o.render(t.value,i.activeCamera.value),S())};const W=S=>{D=S},N=ab(()=>{l.value&&D(k)});g.on(N.start),et([r.width,r.height],()=>{o.setSize(r.width.value,r.height.value),!_&&o.domElement.width&&o.domElement.height&&(g.trigger(o),_=!0),f()},{immediate:!0});const{pixelRatio:j}=nm();ut(()=>{lb(o,j.value,X(n.dpr))}),X(n.renderMode)==="on-demand"&&p(),X(n.renderMode)==="manual"&&Zv(100,{callback:h});const U=Be(()=>{const S=X(n.clearColor),te=X(n.clearAlpha),ue=typeof S=="string"&&S.length===9&&S.startsWith("#");return ue&&te!==void 0&&nb(`clearColor with alpha (e.g. ${S}) and clearAlpha cannot both be set, using clearColor as source of truth`),ue?{alpha:Number.parseInt(S.slice(7,9),16)/255,color:S.slice(0,7)}:{alpha:te,color:S}});return ut(()=>{const S=U.value;S.color===void 0||S.alpha===void 0||o.setClearColor(S.color,S.alpha)}),ut(()=>{const S=n.toneMapping;S&&(o.toneMapping=S)}),ut(()=>{const S=n.toneMappingExposure;S&&(o.toneMappingExposure=S)}),ut(()=>{const S=n.outputColorSpace;S&&(o.outputColorSpace=S)}),ut(()=>{const S=n.shadows;S!==void 0&&(o.shadowMap.enabled=S,u())}),ut(()=>{const S=n.shadowMapType;S!==void 0&&(o.shadowMap.type=S,u())}),$t(()=>{o.dispose(),"forceContextLoss"in o&&o.forceContextLoss()}),{loop:N,instance:o,advance:h,onReady:g.on,onRender:T.on,invalidate:p,canBeInvalidated:c,mode:X(n.renderMode),replaceRenderFunction:W}}function cb(t,e,n=10){const r=X(t)?lm():im(Be(()=>X(e).parentElement)),i=on(Xl(r.width,n)),s=on(Xl(r.height,n));return{height:s,width:i,aspectRatio:Be(()=>i.value/s.value)}}function pb({canvas:t,contextParts:{scene:e,camera:n,renderer:r}}){const{update:i,destroy:s}=Rm(X(t),()=>X(n.activeCamera),e.value),{off:o}=r.loop.onLoop(i);$t(s),$t(o);const l=op(e.value),a=yr();return l.addEventListener("click",a.trigger),{onPointerMissed:a.on}}const db="useTres",[hb,fb]=Hv(({scene:t,canvas:e,windowSize:n,rendererOptions:r})=>{const i=we(t),s=cb(n,e),o=ob({sizes:s}),l=ub({scene:i,canvas:e,options:r,contextParts:{sizes:s,camera:o}}),a=pb({canvas:e,contextParts:{scene:i,camera:o,renderer:l}}),c={sizes:s,scene:i,camera:o,renderer:l,controls:fn(null),extend:Qs,events:a};return c.scene.value.__tres={root:c},c},{injectionKey:"useTres"}),ed=()=>{const t=fb();if(!t)throw new Error(`useTresContext must be used together with useTresContextProvider.
 You probably tried to use it above or on the same level as a TresCanvas component.
 It should be used in child components of a TresCanvas instance.`);return t};function vb(){const{scene:t,renderer:e,camera:n,sizes:r,controls:i,extend:s,events:o}=ed();return{scene:t,renderer:e.instance,camera:n.activeCamera,sizes:r,controls:i,extend:s,events:o,invalidate:e.invalidate,advance:e.advance}}const mb=()=>{const t=vb(),{renderer:e}=ed(),n=fu(),r=fu();e.loop.onBeforeLoop(s=>{n.trigger({...t,...s})}),e.loop.onLoop(s=>{r.trigger({...t,...s})});const i=e.replaceRenderFunction;return{stop:e.loop.stop,start:e.loop.start,isActive:e.loop.isActive,onBeforeRender:n.on,onRender:r.on,render:i}};function _b(t,e={},n={}){let r=t;const i=o=>{r=o};let s=new Proxy({},{});return s=new Proxy({},{has(o,l){return l in e||l in r},get(o,l,a){return l in e?e[l](r):r[l]},set(o,l,a){return n[l]?n[l](a,r,s,i):r[l]=a,!0}}),s}const gb=["onClick","onContextmenu","onPointermove","onPointerenter","onPointerleave","onPointerover","onPointerout","onDblclick","onPointerdown","onPointerup","onPointercancel","onLostpointercapture","onWheel"],bb={onClick:"click",onContextmenu:"contextmenu",onPointermove:"pointermove",onPointerenter:"pointerenter",onPointerleave:"pointerleave",onPointerover:"pointerover",onPointerout:"pointerout",onDblclick:"dblclick",onPointerdown:"pointerdown",onPointerup:"pointerup",onPointercancel:"pointercancel",onLostpointercapture:"lostpointercapture",onWheel:"wheel"},vu=t=>gb.includes(t),wb=t=>{const e=t.scene.value;function n(u,p,h,f){if(f||(f={}),f.args||(f.args=[]),zg(u))return null;u.includes("-")&&(u=u.replace(/-([a-z])/g,(g,_)=>_.toUpperCase()).replace(/^[a-z]/,g=>g.toUpperCase()));let m=u.replace("Tres",""),w;if(u==="primitive"){(!ko(f.object)||he(f.object))&&pu("Tres primitives need an 'object' prop, whose value is an object or shallowRef<object>"),m=f.object.type;const g={};w=_b(f.object,{object:_=>_,isPrimitive:()=>!0,__tres:()=>g},{object:(_,T,k,D)=>{sb(_,k,D,{patchProp:s,remove:i,insert:r},t)},__tres:_=>{Object.assign(g,_)}})}else{const g=Xs.value[m];g||pu(`${m} is not defined on the THREE namespace. Use extend to add it to the catalog.`),w=new g(...f.args)}return w?(Cn(w)&&(f?.position||w.position.set(3,3,3),f?.lookAt||w.lookAt(0,0,0)),w=Zt(w,{...Jg(w)?w.__tres:{},type:m,memoizedProps:f,primitive:u==="primitive",attach:f.attach},t),w):null}function r(u,p){if(!u)return;p=p||e;const h=u.__tres?u:Zt(u,{},t),f=p.__tres?p:Zt(p,{},t);u=Mn(h),p=Mn(f),Cn(u)&&t.camera?.registerCamera(u),h.__tres.attach?rb(f,h,h.__tres.attach):Ws(u)&&Ws(f)&&(f.add(u),u.dispatchEvent({type:"added"})),h.__tres.parent=f,f.__tres.objects&&!f.__tres.objects.includes(h)&&f.__tres.objects.push(h)}function i(u,p){if(!u)return;p=Fs(p)?"default":p;const h=u.__tres?.dispose;Fs(h)||(h===null?p=!1:p=h);const f=u.__tres?.primitive,m=p==="default"?!f:!!p;if(u.__tres&&"objects"in u.__tres&&[...u.__tres.objects].forEach(w=>i(w,p)),m&&u.children&&[...u.children].forEach(w=>i(w,p)),Zp(u,t),Jp(u,t),m&&!Xp(u)){if(en(p))p(u);else if(en(u.dispose))try{u.dispose()}catch{}}"__tres"in u&&delete u.__tres}function s(u,p,h,f){if(!u)return;let m=u;const w=p;if(u.__tres&&(u.__tres.memoizedProps[p]=f),p==="attach"){const k=u.__tres?.parent||u.parent;i(u),Zt(u,{attach:f},t),k&&r(u,k);return}if(p==="dispose"){u.__tres||(u=Zt(u,{},t)),u.__tres.dispose=f;return}vu(p)&&en(f)&&u.addEventListener(bb[p],f);let g=Ql(w),_=m?.[g];if(w==="args"){const k=u,D=h??[],W=f??[],N=u.__tres?.type||u.type;if(N&&D.length&&!np(D,W)){const j=new Xs.value[N](...f),U=Object.getOwnPropertyDescriptors(j);Object.entries(U).forEach(([S,te])=>{if(!(!te.writable&&!te.set)&&S in k)try{k[S]=j[S]}catch(ue){console.warn(`Could not set property ${S} on ${N}:`,ue)}}),m=k}return}if(m.type==="BufferGeometry"){if(w==="args")return;m.setAttribute(Ql(w),new Ku(...f));return}if(w.includes("-")&&_===void 0){const k=Ci(m,w);if(_=k.target,m=k.target,g=k.key,_&&g){_[g]=f,Cn(u)&&u.updateProjectionMatrix(),Ys(u);return}}let T=f;if(T===""&&(T=!0),en(_)){vu(p)||(Array.isArray(T)?u[g](...T):u[g](T)),g.startsWith("on")&&en(T)&&(m[g]=T);return}cu(_)&&cu(T)?_.mask=T.mask:qp(_)&&Wg(T)?_.set(T):Yg(_)&&Xg(T)&&_.constructor===T.constructor?_.copy(T):Gs(_)&&Array.isArray(T)?"fromArray"in _&&typeof _.fromArray=="function"?_.fromArray(T):_.set(...T):Gs(_)&&typeof T=="number"?"setScalar"in _&&typeof _.setScalar=="function"?_.setScalar(T):_.set(T):m[g]=T,Cn(u)&&u.updateProjectionMatrix(),Ys(u)}function o(u){return u?.__tres?.parent||null}function l(u){const p=Zt(new Oi,{type:"Comment"},t);return p.name=u,p}function a(u){const p=o(u)?.__tres?.objects||[],h=p.indexOf(u);return h<0||h>=p.length-1?null:p[h+1]}const c=()=>{};return{insert:r,remove:i,createElement:n,patchProp:s,parentNode:o,createText:c,createComment:l,setText:c,setElementText:c,nextSibling:a,querySelector:c,setScopeId:c,cloneNode:c,insertStaticContent:c}},yb=["asset-load"];var Eb=class{subscribers=new Set;messageQueue=[];maxQueueSize=100;send(t,e){const n={type:t,data:e,timestamp:Date.now()};this.subscribers.size>0?this.subscribers.forEach(r=>r(n)):yb.includes(t)&&this.queueMessage(n)}queueMessage(t){this.messageQueue.push(t),this.messageQueue.length>this.maxQueueSize&&this.messageQueue.shift()}flushQueue(){this.messageQueue.length===0||this.subscribers.size===0||(this.messageQueue.forEach(t=>{this.subscribers.forEach(e=>e(t))}),this.messageQueue=[])}subscribe(t){return this.subscribers.add(t),this.flushQueue(),()=>{this.subscribers.delete(t)}}get hasSubscribers(){return this.subscribers.size>0}get queueSize(){return this.messageQueue.length}clearQueue(){this.messageQueue=[]}};function Cb(t,e){const n=`  ${t}`;typeof mu=="function"?mu(n,e):console.log(n)}function mu(t,e){throw new Error(t+e)}function $o(t){let e=0;return t.traverse(n=>{if($p(n)&&n.type!=="HightlightMesh"){const r=n.geometry,i=r.attributes.position.count*3*Float32Array.BYTES_PER_ELEMENT,s=r.index?r.index.count*Uint32Array.BYTES_PER_ELEMENT:0,o=r.attributes.normal?r.attributes.normal.count*3*Float32Array.BYTES_PER_ELEMENT:0,l=r.attributes.uv?r.attributes.uv.count*2*Float32Array.BYTES_PER_ELEMENT:0,a=i+s+o+l;e+=a}}),e}function _u(t,e,n){t.push(e),t.length>n&&t.shift()}function xb(t){return(t/1024).toFixed(2)}function Pb(t){if(!t)return;typeof window<"u"&&!window.__TRES__DEVTOOLS__&&(window.__TRES__DEVTOOLS__=new Eb);const e={maxFrames:160,fps:{value:0,accumulator:[]},memory:{currentMem:0,allocatedMem:0,accumulator:[]}},n=100,r=sm({every:n}),{isSupported:i,memory:s}=om({interval:n}),o=160;let l=performance.now(),a=0;const c=1,u=({timestamp:h})=>{t.scene.value&&(e.memory.allocatedMem=$o(t.scene.value)),h-l>=n&&(l=h,_u(e.fps.accumulator,r.value,o),e.fps.value=r.value,i.value&&s.value?.usedJSHeapSize&&(_u(e.memory.accumulator,s.value.usedJSHeapSize/1024/1024,o),e.memory.accumulator.length>0&&(e.memory.currentMem=e.memory.accumulator.reduce((f,m)=>f+m,0)/e.memory.accumulator.length)))},{pause:p}=Ao(({delta:h})=>{window.__TRES__DEVTOOLS__&&(u({timestamp:performance.now()}),a+=h,a>=c&&(window.__TRES__DEVTOOLS__.send("context",t),window.__TRES__DEVTOOLS__.send("performance",e),a=0))},{immediate:!0});$t(()=>{p()})}const td=(t,e)=>{if(t.uuid===e)return t;for(const n of t.children){const r=td(n,e);if(r)return r}};var Sb=class extends ki{type="HightlightMesh";createTime;constructor(...t){super(...t),this.createTime=Date.now()}onBeforeRender(){const t=(Date.now()-this.createTime)/1e3,e=1+.07*Math.sin(2.5*t);this.scale.set(e,e,e)}};const nd=t=>{const e={id:`scene-${t.uuid}`,label:t.type,children:[],tags:[]};t.name!==""&&e.tags.push({label:t.name,textColor:5750629,backgroundColor:15793395});const n=$o(t);return n>0&&e.tags.push({label:`${xb(n)} KB`,textColor:15707189,backgroundColor:16775644,tooltip:"Memory usage"}),t.type.includes("Light")&&(Gg(t)&&e.tags.push({label:`${t.intensity}`,textColor:9738662,backgroundColor:16316922,tooltip:"Intensity"}),e.tags.push({label:`#${new ti(t.color).getHexString()}`,textColor:9738662,backgroundColor:16316922,tooltip:"Color"})),t.type.includes("Camera")&&(e.tags.push({label:`${t.fov}`,textColor:9738662,backgroundColor:16316922,tooltip:"Field of view"}),e.tags.push({label:`x: ${Math.round(t.position.x)} y: ${Math.round(t.position.y)} z: ${Math.round(t.position.z)}`,textColor:9738662,backgroundColor:16316922,tooltip:"Position"})),e};function Tb(t,e,n=""){return{id:`context-${e}-${n?`${n}.${t}`:t}`,label:t,children:[],tags:[]}}function rd(t,e,n=""){t.children.forEach(r=>{if(r.type==="HightlightMesh"||n&&!r.type.includes(n)&&!r.name.includes(n))return;const i=nd(r);e.children.push(i),rd(r,i,n)})}function Zs(t,e,n=new WeakSet,r=0,i=4,s,o=""){if(r>=i||!t||n.has(t))return;const l=r===0?t?.scene?.value?.uuid||Math.random().toString(36).slice(2,11):s;n.add(t),Object.entries(t).forEach(([a,c])=>{if(a.startsWith("_")||typeof c=="function")return;const u=o?`${o}.${a}`:a,p=Tb(a,l,o);a!=="scene"&&(he(c)?(p.tags.push({label:`Ref<${typeof c.value}>`,textColor:4372611,backgroundColor:15793395}),c.value&&typeof c.value=="object"?Zs(c.value,p,n,r+1,i,l,u):p.label=`${a}: ${JSON.stringify(c.value)}`):c&&typeof c=="object"&&!Array.isArray(c)?Object.keys(c).length>0?n.has(c)?p.tags.push({label:"Circular",textColor:16711680,backgroundColor:16773360}):Zs(c,p,n,r+1,i,l,u):p.label=`${a}: {}`:Array.isArray(c)?(p.label=`${a}: Array(${c.length})`,p.tags.push({label:`length: ${c.length}`,textColor:9738662,backgroundColor:16316922})):p.label=`${a}: ${JSON.stringify(c)}`,e.children.push(p))})}const Ab=t=>e=>{if(e.inspectorId===Sr){const n=nd(t.scene.value);rd(t.scene.value,n,e.filter);const r={id:"context-root",label:"Context",children:[],tags:[]};Zs(t,r),e.rootNodes=[n,r]}},kb=(t,{highlightMesh:e,prevInstance:n})=>r=>{if(r.inspectorId!==Sr)return;const i=new _h({color:11003607,transparent:!0,opacity:.2,depthTest:!1,side:gh});if(r.nodeId.includes("scene")){const s=r.nodeId.match(/^scene-(.+)$/),o=s?s[1]:null;if(!o)return;const[l]=t.scene.value.getObjectsByProperty("uuid",o);if(!l)return;if(n&&e&&e.parent&&n.remove(e),$p(l)){const a=new Sb(l.geometry.clone(),i);l.add(a),e=a,n=l}if(r.state={object:Object.entries(l).map(([a,c])=>a==="children"?{key:a,value:c.filter(u=>u.type!=="HightlightMesh")}:{key:a,value:c,editable:!0}).filter(({key:a})=>a!=="parent")},Xp(l)){const a={...r.state,state:[{key:"Scene Info",value:{objects:l.children.length,memory:$o(l),calls:t.renderer.instance.info.render.calls,triangles:t.renderer.instance.info.render.triangles,points:t.renderer.instance.info.render.points,lines:t.renderer.instance.info.render.lines}}]};"programs"in t.renderer.instance.info&&a.state.push({key:"Programs",value:t.renderer.instance.info.programs?.map(c=>({...c,programName:c.name}))}),r.state=a}}else if(r.nodeId.includes("context")){const s=r.nodeId.match(/^context-([^-]+(?:-[^-]+)*)-(.+)$/),o=s?s[2]:"context";if(!o||o==="context"){r.state={object:Object.entries(t).filter(([c])=>!c.startsWith("_")&&c!=="parent").map(([c,u])=>({key:c,value:he(u)?u.value:u,editable:!1}))};return}const l=o.split(".");let a=t;for(const c of l){if(!a||typeof a!="object")break;a=he(a[c])?a[c].value:a[c]}a!==void 0&&(r.state={object:Object.entries(a).filter(([c])=>!c.startsWith("_")&&c!=="parent").map(([c,u])=>he(u)?{key:c,value:u.value,editable:!1}:typeof u=="function"?{key:c,value:"()",editable:!1}:u&&typeof u=="object"?{key:c,value:Array.isArray(u)?`Array(${u.length})`:"Object",editable:!1}:{key:c,value:u,editable:!1})})}},Ob=(t,e,n,r)=>{const i=td(t,e);if(!i){console.warn("Object with UUID not found in the scene.");return}let s=i;for(let l=0;l<n.length-1;l++)if(s[n[l]]!==void 0)s=s[n[l]];else{console.warn(`Property path is not valid: ${n.join(".")}`);return}const o=n[n.length-1];s[o]!==void 0?s[o]=r:console.warn(`Property path is not valid: ${n.join(".")}`)},Vb=t=>e=>{if(e.inspectorId===Sr&&e.nodeId.includes("scene")){const n=e.nodeId.match(/^scene-(.+)$/),r=n?n[1]:null;if(!r)return;Ob(t.scene.value,r,e.path,e.state.value)}},Sr="tres:inspector";function Db(t,e){const n={id:"dev.esm.tres",label:"TresJS ",logo:"https://raw.githubusercontent.com/Tresjs/tres/main/public/favicon.svg",packageName:"tresjs",homepage:"https://docs.tresjs.org",app:t},r=null,i=null;Pb(e),ig(n,s=>{typeof s.now!="function"&&Cb("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),s.addInspector({id:Sr,label:"TresJS ",icon:"account_tree",treeFilterPlaceholder:"Search instances"}),setInterval(()=>{s.sendInspectorTree(Sr)},1e3),setInterval(()=>{s.notifyComponentUpdate()},5e3),s.on.getInspectorTree(Ab(e)),s.on.getInspectorState(kb(e,{highlightMesh:r,prevInstance:i})),s.on.editInspectorState(Vb(e))})}const Ib=["data-scene","data-tres"];var Rb=di({__name:"TresCanvas",props:{camera:{type:null,required:!1},windowSize:{type:Boolean,required:!1,default:void 0},enableProvideBridge:{type:Boolean,required:!1,default:!0},antialias:{type:Boolean,required:!1,default:!0},stencil:{type:Boolean,required:!1,default:void 0},depth:{type:Boolean,required:!1,default:void 0},precision:{type:String,required:!1},logarithmicDepthBuffer:{type:Boolean,required:!1,default:void 0},preserveDrawingBuffer:{type:Boolean,required:!1,default:void 0},powerPreference:{type:null,required:!1},alpha:{type:Boolean,required:!1,default:void 0},premultipliedAlpha:{type:Boolean,required:!1},failIfMajorPerformanceCaveat:{type:Boolean,required:!1,default:void 0},clearColor:{type:[Object,String,Number],required:!1,default:"#000000"},clearAlpha:{type:Number,required:!1,default:1},shadows:{type:Boolean,required:!1,default:void 0},toneMapping:{type:null,required:!1,default:ch},shadowMapType:{type:null,required:!1,default:uh},useLegacyLights:{type:Boolean,required:!1,default:void 0},outputColorSpace:{type:null,required:!1},toneMappingExposure:{type:Number,required:!1},renderMode:{type:String,required:!1,default:"always"},dpr:{type:[Number,Array],required:!1},renderer:{type:Function,required:!1}},emits:["ready","pointermissed","render","beforeLoop","loop","click","contextmenu","pointermove","pointerenter","pointerleave","pointerover","pointerout","dblclick","pointerdown","pointerup","pointercancel","lostpointercapture","wheel"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=Tf(),o=fn(),l=we(new zu),a=St();Qs(hh);const c=(m,w=!1)=>di({setup(){const g=St()?.appContext;g&&(g.app=a?.appContext.app);const _={};function T(k){k&&(k.parent&&T(k.parent),k.provides&&Object.assign(_,k.provides))}return a?.parent&&r.enableProvideBridge&&(T(a.parent),Reflect.ownKeys(_).forEach(k=>{dr(k,_[k])})),dr(db,m),dr("extend",Qs),typeof window<"u"&&g?.app&&Db(g?.app,m),()=>Ll(Qe,null,w?[]:s.default())}}),u=(m,w=!1)=>{const g=c(m,w),{render:_}=Nc(wb(m));_(Ll(g),l.value)},p=(m,w=!1)=>{Qp(m.scene.value),w&&(m.renderer.instance.dispose(),m.renderer.instance instanceof qu&&(m.renderer.instance.renderLists.dispose(),m.renderer.instance.forceContextLoss())),l.value.__tres={root:m}},h=we(null);e({context:h,dispose:()=>p(h.value,!0)});const f=()=>{p(h.value),u(h.value,!0)};return kn(()=>{const m=o;h.value=hb({scene:l.value,canvas:m,windowSize:r.windowSize??!1,rendererOptions:r});const{camera:w,renderer:g}=h.value,{registerCamera:_,cameras:T,activeCamera:k,deregisterCamera:D}=w;u(h.value);const W=()=>{const N=new ph(45,window.innerWidth/window.innerHeight,.1,1e3);N.position.set(3,3,3),N.lookAt(0,0,0),_(N);const j=ut(()=>{T.value.length>=2&&(N.removeFromParent(),D(N),j?.())})};h.value.events.onPointerMissed(N=>{i("pointermissed",N)}),et(()=>r.camera,(N,j)=>{N&&_(X(N),!0),j&&(X(j).removeFromParent(),D(X(j)))},{immediate:!0}),k.value||W(),g.onRender(()=>{h.value&&i("render",h.value)}),g.loop.onLoop(N=>{h.value&&i("loop",{...h.value,...N})}),g.loop.onBeforeLoop(N=>{h.value&&i("beforeLoop",{...h.value,...N})}),g.onReady(()=>{i("ready",h.value)})}),kn(async()=>{await Wv(3e3),h.value&&(!h.value.sizes.width||!h.value.sizes.height.value)&&console.warn("TresCanvas: The canvas has no area, so nothing can be rendered. Set it manually on the parent element or use the prop windowSize.")}),$t(f),(m,w)=>(xo(),qc("canvas",{ref_key:"canvasRef",ref:o,"data-scene":l.value.uuid,class:Fi(m.$attrs.class),"data-tres":`tresjs ${an(Hg).version}`,style:Li({display:"block",width:"100%",height:"100%",position:t.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...m.$attrs.style})},null,14,Ib))}}),Mb=Rb;function se(t){return t==null}function Ko(t){return t!==null&&typeof t=="object"}function Js(t){return t!==null&&typeof t=="object"}function Lb(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cn(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((r,i)=>{const s=t[i],o=e[i];return Js(s)&&Js(o)?Object.assign(Object.assign({},r),{[i]:cn(s,o)}):Object.assign(Object.assign({},r),{[i]:i in e?o:s})},{})}function zo(t){return Ko(t)?"target"in t:!1}const Fb={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class de{static alreadyDisposed(){return new de({type:"alreadydisposed"})}static notBindable(){return new de({type:"notbindable"})}static notCompatible(e,n){return new de({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new de({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new de({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=Fb[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class xi{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const r=this.read();if(!xi.isBindable(r))throw de.notBindable();if(!(e in r))throw de.propertyNotFound(e);r[e]=n}}class me{constructor(){this.observers_={}}on(e,n,r){var i;let s=this.observers_[e];return s||(s=this.observers_[e]=[]),s.push({handler:n,key:(i=r?.key)!==null&&i!==void 0?i:n}),this}off(e,n){const r=this.observers_[e];return r&&(this.observers_[e]=r.filter(i=>i.key!==n)),this}emit(e,n){const r=this.observers_[e];r&&r.forEach(i=>{i.handler(n)})}}class Bb{constructor(e,n){var r;this.constraint_=n?.constraint,this.equals_=(r=n?.equals)!==null&&r!==void 0?r:((i,s)=>i===s),this.emitter=new me,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.constraint_?this.constraint_.constrain(e):e,s=this.rawValue_;this.equals_(s,i)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=i,this.emitter.emit("change",{options:r,previousRawValue:s,rawValue:i,sender:this}))}}class Nb{constructor(e){this.emitter=new me,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.value_;i===e&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:r,previousRawValue:i,rawValue:this.value_,sender:this}))}}class jb{constructor(e){this.emitter=new me,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function ae(t,e){const n=e?.constraint,r=e?.equals;return!n&&!r?new Nb(t):new Bb(t,e)}function Ub(t){return[new jb(t),(e,n)=>{t.setRawValue(e,n)}]}class K{constructor(e){this.emitter=new me,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((r,i)=>Object.assign(r,{[i]:ae(e[i])}),{})}static fromObject(e){const n=this.createCore(e);return new K(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class Fr{constructor(e){this.values=K.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(e,r),n)}}class Hb{constructor(e){this.values=K.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");let i=e;return se(r)||(i=Math.max(i,r)),se(n)||(i=Math.min(i,n)),i}}class $b{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,r=Math.round((e-n)/this.step);return n+r*this.step}}class Kb{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const zb={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class qb{constructor(e,n,r){this.left=n,this.operator=e,this.right=r}evaluate(){const e=zb[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Wb={"+":t=>t,"-":t=>-t,"~":t=>~t};class Gb{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=Wb[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function qo(t){return(e,n)=>{for(let r=0;r<t.length;r++){const i=t[r](e,n);if(i!=="")return i}return""}}function Tr(t,e){var n;const r=t.substr(e).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Yb(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Ar(t,e){var n;const r=t.substr(e).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Xb(t,e){const n=Ar(t,e);if(n!=="")return n;const r=t.substr(e,1);if(e+=1,r!=="-"&&r!=="+")return"";const i=Ar(t,e);return i===""?"":r+i}function Wo(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const r=Xb(t,e);return r===""?"":n+r}function id(t,e){const n=t.substr(e,1);if(n==="0")return n;const r=Yb(t,e);return e+=r.length,r===""?"":r+Ar(t,e)}function Qb(t,e){const n=id(t,e);if(e+=n.length,n==="")return"";const r=t.substr(e,1);if(e+=r.length,r!==".")return"";const i=Ar(t,e);return e+=i.length,n+r+i+Wo(t,e)}function Zb(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const r=Ar(t,e);return e+=r.length,r===""?"":n+r+Wo(t,e)}function Jb(t,e){const n=id(t,e);return e+=n.length,n===""?"":n+Wo(t,e)}const e0=qo([Qb,Zb,Jb]);function t0(t,e){var n;const r=t.substr(e).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function n0(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const r=t0(t,e);return r===""?"":n+r}function r0(t,e){var n;const r=t.substr(e).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function i0(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const r=r0(t,e);return r===""?"":n+r}function s0(t,e){var n;const r=t.substr(e).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function o0(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const r=s0(t,e);return r===""?"":n+r}const l0=qo([n0,i0,o0]),a0=qo([l0,e0]);function u0(t,e){const n=a0(t,e);return e+=n.length,n===""?null:{evaluable:new Kb(n),cursor:e}}function c0(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const r=od(t,e);if(!r)return null;e=r.cursor,e+=Tr(t,e).length;const i=t.substr(e,1);return e+=i.length,i!==")"?null:{evaluable:r.evaluable,cursor:e}}function p0(t,e){var n;return(n=u0(t,e))!==null&&n!==void 0?n:c0(t,e)}function sd(t,e){const n=p0(t,e);if(n)return n;const r=t.substr(e,1);if(e+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const i=sd(t,e);return i?(e=i.cursor,{cursor:e,evaluable:new Gb(r,i.evaluable)}):null}function d0(t,e,n){n+=Tr(e,n).length;const r=t.filter(i=>e.startsWith(i,n))[0];return r?(n+=r.length,n+=Tr(e,n).length,{cursor:n,operator:r}):null}function h0(t,e){return(n,r)=>{const i=t(n,r);if(!i)return null;r=i.cursor;let s=i.evaluable;for(;;){const o=d0(e,n,r);if(!o)break;r=o.cursor;const l=t(n,r);if(!l)return null;r=l.cursor,s=new qb(o.operator,s,l.evaluable)}return s?{cursor:r,evaluable:s}:null}}const f0=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>h0(t,e),sd);function od(t,e){return e+=Tr(t,e).length,f0(t,e)}function v0(t){const e=od(t,0);return!e||e.cursor+Tr(t,e.cursor).length!==t.length?null:e.evaluable}function Tt(t){var e;const n=v0(t);return(e=n?.evaluate())!==null&&e!==void 0?e:null}function ld(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=Tt(t);if(!se(e))return e}return 0}function m0(t){return String(t)}function Ne(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function J(t,e,n,r,i){const s=(t-e)/(n-e);return r+s*(i-r)}function gu(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function ge(t,e,n){return Math.min(Math.max(t,e),n)}function ad(t,e){return(t%e+e)%e}function _0(t,e){return se(t.step)?Math.max(gu(e),2):gu(t.step)}function ud(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function cd(t,e){var n;const r=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function pd(t,e){return se(t.step)?null:new $b(t.step,e)}function dd(t){return!se(t.max)&&!se(t.min)?new Fr({max:t.max,min:t.min}):!se(t.max)||!se(t.min)?new Hb({max:t.max,min:t.min}):null}function hd(t,e){var n,r,i;return{formatter:(n=t.format)!==null&&n!==void 0?n:Ne(_0(t,e)),keyScale:(r=t.keyScale)!==null&&r!==void 0?r:ud(t),pointerScale:(i=t.pointerScale)!==null&&i!==void 0?i:cd(t,e)}}function fd(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function Go(t){return{constraint:t.constraint,textProps:K.fromObject(hd(t.params,t.initialValue))}}class mn{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class Wi{constructor(e){this.target=e}}class Br extends Wi{constructor(e,n,r){super(e),this.value=n,this.last=r??!0}}class g0 extends Wi{constructor(e,n){super(e),this.expanded=n}}class b0 extends Wi{constructor(e,n){super(e),this.index=n}}class w0 extends Wi{constructor(e,n){super(e),this.native=n}}class kr extends mn{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new me,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new Br(this,n.binding.target.read(),e.options.last))}}class y0{constructor(e,n){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=n,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new me}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function E0(t){if(!("binding"in t))return!1;const e=t.binding;return zo(e)&&"read"in e&&"write"in e}function C0(t,e){const r=Object.keys(e).reduce((i,s)=>{if(i===void 0)return;const o=e[s],l=o(t[s]);return l.succeeded?Object.assign(Object.assign({},i),{[s]:l.value}):void 0},{});return r}function x0(t,e){return t.reduce((n,r)=>{if(n===void 0)return;const i=e(r);if(!(!i.succeeded||i.value===void 0))return[...n,i.value]},[])}function P0(t){return t===null?!1:typeof t=="object"}function bt(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const r=t(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function bu(t){return{custom:e=>bt(e)(t),boolean:bt(e=>typeof e=="boolean"?e:void 0)(t),number:bt(e=>typeof e=="number"?e:void 0)(t),string:bt(e=>typeof e=="string"?e:void 0)(t),function:bt(e=>typeof e=="function"?e:void 0)(t),constant:e=>bt(n=>n===e?e:void 0)(t),raw:bt(e=>e)(t),object:e=>bt(n=>{if(P0(n))return C0(n,e)})(t),array:e=>bt(n=>{if(Array.isArray(n))return x0(n,e)})(t)}}const eo={optional:bu(!0),required:bu(!1)};function ce(t,e){const n=e(eo),r=eo.required.object(n)(t);return r.succeeded?r.value:void 0}function ze(t,e,n,r){if(e&&!e(t))return!1;const i=ce(t,n);return i?r(i):!1}function qe(t,e){var n;return cn((n=t?.())!==null&&n!==void 0?n:{},e)}function sn(t){return"value"in t}function vd(t){if(!Ko(t)||!("binding"in t))return!1;const e=t.binding;return zo(e)}const dt="http://www.w3.org/2000/svg";function Pi(t){t.offsetHeight}function S0(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function Yo(t){return t.ontouchstart!==void 0}function T0(){return globalThis}function A0(){return T0().document}function k0(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const O0={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Gi(t,e){const n=t.createElementNS(dt,"svg");return n.innerHTML=O0[e],n}function md(t,e,n){t.insertBefore(e,t.children[n])}function Xo(t){t.parentElement&&t.parentElement.removeChild(t)}function _d(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function V0(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function gd(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function Ct(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function mt(t,e,n){Ct(t.value(e),n)}const D0="tp";function q(t){return(n,r)=>[D0,"-",t,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const Zn=q("lbl");function I0(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(i=>t.createTextNode(i)).forEach((i,s)=>{s>0&&n.appendChild(t.createElement("br")),n.appendChild(i)}),n}class bd{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Zn()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Zn("l")),mt(n.props,"label",s=>{se(s)?this.element.classList.add(Zn(void 0,"nol")):(this.element.classList.remove(Zn(void 0,"nol")),V0(r),r.appendChild(I0(e,s)))}),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("div");i.classList.add(Zn("v")),this.element.appendChild(i),this.valueElement=i}}class wd{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new bd(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return ze(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return qe(null,{label:this.props.get("label")})}}function R0(){return["veryfirst","first","last","verylast"]}const wu=q(""),yu={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Yi{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{R0().forEach(r=>{n.classList.remove(wu(void 0,yu[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(wu(void 0,yu[r]))})}),this.viewProps.handleDispose(()=>{Xo(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return ze(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return qe(null,Object.assign({},this.viewProps.exportState()))}}class pn extends Yi{constructor(e,n){if(n.value!==n.valueController.value)throw de.shouldNeverHappen();const r=n.valueController.viewProps,i=new wd(e,{blade:n.blade,props:n.props,valueController:n.valueController});super(Object.assign(Object.assign({},n),{view:new bd(e,{props:n.props,viewProps:r}),viewProps:r})),this.labelController=i,this.value=n.value,this.valueController=n.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return ze(e,n=>{var r,i,s;return super.importState(n)&&this.labelController.importProps(n)&&((s=(i=(r=this.valueController).importProps)===null||i===void 0?void 0:i.call(r,e))!==null&&s!==void 0?s:!0)},n=>({value:n.optional.raw}),n=>(n.value&&(this.value.rawValue=n.value),!0))}exportState(){var e,n,r;return qe(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(r=(n=(e=this.valueController).exportProps)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:{}))}}function Eu(t){const e=Object.assign({},t);return delete e.value,e}class yd extends pn{constructor(e,n){super(e,n),this.tag=n.tag}importState(e){return ze(e,n=>super.importState(Eu(e)),n=>({tag:n.optional.string}),n=>(this.tag=n.tag,!0))}exportState(){return qe(()=>Eu(super.exportState()),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}}function M0(t){return sn(t)&&vd(t.value)}class L0 extends yd{importState(e){return ze(e,n=>super.importState(n),n=>({binding:n.required.object({value:n.required.raw})}),n=>(this.value.binding.inject(n.binding.value),this.value.fetch(),!0))}}function F0(t){return sn(t)&&E0(t.value)}function Ed(t,e){for(;t.length<e;)t.push(void 0)}function B0(t){const e=[];return Ed(e,t),e}function N0(t){const e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}function j0(t,e){const n=[...N0(t),e];return n.length>t.length?n.splice(0,n.length-t.length):Ed(n,t.length),n}class U0{constructor(e){this.emitter=new me,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=ae(B0(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=j0(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function H0(t){if(!("binding"in t))return!1;const e=t.binding;return zo(e)&&"read"in e&&!("write"in e)}class $0 extends yd{exportState(){return qe(()=>super.exportState(),{binding:{readonly:!0}})}}function K0(t){return sn(t)&&H0(t.value)}class z0 extends mn{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(e,s=>{r(new w0(this,s.nativeEvent))}),this}off(e,n){return this.controller.buttonController.emitter.off(e,n),this}}function q0(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function jn(t,e){return n=>{q0(t,e,n)}}function Qo(t,e){Ct(t,n=>{e.textContent=n??""})}const ms=q("btn");class W0{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ms()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("button");r.classList.add(ms("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(ms("t")),Qo(n.props.value("title"),i),this.buttonElement.appendChild(i)}}class G0{constructor(e,n){this.emitter=new me,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new W0(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return ze(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return qe(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}}class Cu extends Yi{constructor(e,n){const r=new G0(e,{props:n.buttonProps,viewProps:n.viewProps}),i=new wd(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=i}importState(e){return ze(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return qe(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class Cd{constructor(e){const[n,r]=e.split("-"),i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=r??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const Un=new Cd("2.0.5");function Ie(t){return Object.assign({core:Un},t)}const Y0=Ie({id:"button",type:"blade",accept(t){const e=ce(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new Cu(t.document,{blade:t.blade,buttonProps:K.fromObject({title:t.params.title}),labelProps:K.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof Cu?new z0(t.controller):null}});function X0(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function Q0(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function Z0(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function J0(t){return Ko(t)?"refresh"in t&&typeof t.refresh=="function":!1}function ew(t,e){if(!xi.isBindable(t))throw de.notBindable();return new xi(t,e)}class tw{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new me,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,r){const i=r??{},s=this.controller_.element.ownerDocument,o=this.pool_.createBinding(s,ew(e,n),i),l=this.pool_.createBindingApi(o);return this.add(l,i.index)}addFolder(e){return Q0(this,e)}addButton(e){return X0(this,e)}addTab(e){return Z0(this,e)}add(e,n){const r=e.controller;return this.controller_.rack.add(r,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,e),i=this.pool_.createApi(r);return this.add(i,e.index)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.children.forEach(e=>{J0(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,r=this.pool_.createApi(n),i=vd(n.value)?n.value.binding:null;this.emitter_.emit("change",new Br(r,i?i.target.read():n.value.rawValue,e.options.last))}}class Zo extends mn{constructor(e,n){super(e),this.rackApi_=new tw(e.rackController,n)}refresh(){this.rackApi_.refresh()}}class Jo extends Yi{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return ze(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,i)=>r.importState(n.children[i])))}exportState(){return qe(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function to(t){return"rackController"in t}class nw{constructor(e){this.emitter=new me,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw de.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,e),this.cache_.add(e);const i=this.extract_(e);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach(s=>{this.cache_.add(s)})),this.emitter.emit("add",{index:r,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const r=this.extract_(e);r&&(r.allItems().forEach(i=>{this.cache_.delete(i)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function rw(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(sn(r)&&r.value===e)return r}return null}function iw(t){return to(t)?t.rackController.rack.bcSet_:null}class sw{constructor(e){var n,r;this.emitter=new me,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new nw(iw),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var r;(r=e.parent)===null||r===void 0||r.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const r=e.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),sn(r))r.value.emitter.on("change",this.onChildValueChange_);else if(to(r)){const i=r.rackController.rack;if(i){const s=i.emitter;s.on("layout",this.onRackLayout_),s.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const r=e.item;if(sn(r))r.value.emitter.off("change",this.onChildValueChange_);else if(to(r)){const i=r.rackController.rack;if(i){const s=i.emitter;s.off("layout",this.onRackLayout_),s.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(i=>!i.viewProps.get("hidden")),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach(i=>{const s=[];i===n&&(s.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&s.push("veryfirst")),i===r&&(s.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&s.push("verylast")),i.blade.set("positions",s)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=rw(this.find(sn),e.sender);if(!n)throw de.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class el{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new sw({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&md(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&Xo(e.bladeController.view.element)}}function Hn(){return new K({positions:ae([],{equals:Lb})})}class Nr extends K{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=K.createCore(n);return new Nr(r)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!se(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const r=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};mt(this,"expanded",r),mt(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function ow(t,e){let n=0;return S0(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),Pi(e),n=e.clientHeight,t.set("temporaryExpanded",null),Pi(e)}),n}function xu(t,e){e.style.height=t.styleHeight}function tl(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),se(t.get("expandedHeight"))){const n=ow(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),Pi(e)}),t.emitter.on("change",()=>{xu(t,e)}),xu(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class xd extends Zo{constructor(e,n){super(e,n),this.emitter_=new me,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new g0(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const Pd=q("cnt");class lw{constructor(e,n){var r;this.className_=q((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),Pd()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),mt(this.foldable_,"completed",jn(this.element,this.className_(void 0,"cpl")));const i=e.createElement("button");i.classList.add(this.className_("b")),mt(n.props,"title",c=>{se(c)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const s=e.createElement("div");s.classList.add(this.className_("i")),this.element.appendChild(s);const o=e.createElement("div");o.classList.add(this.className_("t")),Qo(n.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o;const l=e.createElement("div");l.classList.add(this.className_("m")),this.buttonElement.appendChild(l);const a=e.createElement("div");a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}}class no extends Jo{constructor(e,n){var r;const i=Nr.create((r=n.expanded)!==null&&r!==void 0?r:!0),s=new lw(e,{foldable:i,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new el({blade:n.blade,element:s.containerElement,root:n.root,viewProps:n.viewProps}),view:s})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=i,tl(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return ze(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return qe(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const aw=Ie({id:"folder",type:"blade",accept(t){const e=ce(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new no(t.document,{blade:t.blade,expanded:t.params.expanded,props:K.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof no?new xd(t.controller,t.pool):null}}),uw=q("");function Pu(t,e){return jn(t,uw(void 0,e))}class Ot extends K{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Ub(ae(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,r,i;const s=e??{};return new Ot(K.createCore({disabled:(n=s.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=s.hidden)!==null&&r!==void 0?r:!1,parent:(i=s.parent)!==null&&i!==void 0?i:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Ct(this.globalDisabled_,Pu(e,"disabled")),mt(this,"hidden",Pu(e,"hidden"))}bindDisabled(e){Ct(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){Ct(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const r=e.previousRawValue;r?.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const Su=q("tbp");class cw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Su()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Su("c")),this.element.appendChild(r),this.containerElement=r}}const Jn=q("tbi");class pw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Jn()),n.viewProps.bindClassModifiers(this.element),mt(n.props,"selected",s=>{s?this.element.classList.add(Jn(void 0,"sel")):this.element.classList.remove(Jn(void 0,"sel"))});const r=e.createElement("button");r.classList.add(Jn("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Jn("t")),Qo(n.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}}class dw{constructor(e,n){this.emitter=new me,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new pw(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ro extends Jo{constructor(e,n){const r=new cw(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new el({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new dw(e,{props:n.itemProps,viewProps:Ot.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,mt(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}importState(e){return ze(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return qe(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class hw extends Zo{constructor(e,n){super(e,n),this.emitter_=new me,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,r=new ro(n,{blade:Hn(),itemProps:K.fromObject({selected:!1,title:e.title}),props:K.fromObject({selected:!1}),viewProps:Ot.create()}),i=this.pool_.createApi(r);return this.rackApi_.add(i,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}onSelect_(e){this.emitter_.emit("select",new b0(this,e.rawValue))}}class fw extends Zo{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addBlade(e){return this.rackApi_.addBlade(e)}}const Tu=-1;class vw{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=ae(!0),this.selectedIndex=ae(Tu),this.items_=[]}add(e,n){const r=n??this.items_.length;this.items_.splice(r,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=Tu,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(r=>r===e.sender);this.items_.forEach((r,i)=>{r.rawValue=i===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const er=q("tab");class mw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(er(),Pd()),n.viewProps.bindClassModifiers(this.element),Ct(n.empty,jn(this.element,er(void 0,"nop")));const r=e.createElement("div");r.classList.add(er("t")),this.element.appendChild(r),this.itemsElement=r;const i=e.createElement("div");i.classList.add(er("i")),this.element.appendChild(i);const s=e.createElement("div");s.classList.add(er("c")),this.element.appendChild(s),this.contentsElement=s}}class Au extends Jo{constructor(e,n){const r=new vw,i=new mw(e,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new el({blade:n.blade,element:i.contentsElement,viewProps:n.viewProps}),view:i}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const s=this.rackController.rack;s.emitter.on("add",this.onRackAdd_),s.emitter.on("remove",this.onRackRemove_),this.tab=r}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;md(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;Xo(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}const Sd=Ie({id:"tab",type:"blade",accept(t){const e=ce(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new Au(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const r=new ro(t.document,{blade:Hn(),itemProps:K.fromObject({selected:!1,title:n.title}),props:K.fromObject({selected:!1}),viewProps:Ot.create()});e.add(r)}),e},api(t){return t.controller instanceof Au?new hw(t.controller,t.pool):t.controller instanceof ro?new fw(t.controller,t.pool):null}});function _w(t,e){const n=t.accept(e.params);if(!n)return null;const r=ce(e.params,i=>({disabled:i.optional.boolean,hidden:i.optional.boolean}));return t.controller({blade:Hn(),document:e.document,params:Object.assign(Object.assign({},n.params),{disabled:r?.disabled,hidden:r?.hidden}),viewProps:Ot.create({disabled:r?.disabled,hidden:r?.hidden})})}class nl extends kr{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class gw{constructor(){this.disabled=!1,this.emitter=new me}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class bw{constructor(e,n){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new me,this.interval_=n,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class jr{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,r)=>r.constrain(n),e)}}function Si(t,e){if(t instanceof e)return t;if(t instanceof jr){const n=t.constraints.reduce((r,i)=>r||(i instanceof e?i:null),null);if(n)return n}return null}class Ur{constructor(e){this.values=K.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(i=>i.value===e).length>0?e:n[0].value}}function Hr(t){var e;const n=eo;if(Array.isArray(t))return(e=ce({items:t},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function rl(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function il(t){return se(t)?null:new Ur(rl(t))}const _s=q("lst");class ww{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(_s()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("select");r.classList.add(_s("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const i=e.createElement("div");i.classList.add(_s("m")),i.appendChild(Gi(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,mt(this.props_,"options",s=>{_d(this.selectElement),s.forEach(o=>{const l=e.createElement("option");l.textContent=o.text,this.selectElement.appendChild(l)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class qt{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new ww(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return ze(e,null,n=>({options:n.required.custom(Hr)}),n=>(this.props.set("options",rl(n.options)),!0))}exportProps(){return qe(null,{options:this.props.get("options")})}}const ku=q("pop");class yw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ku()),n.viewProps.bindClassModifiers(this.element),Ct(n.shows,jn(this.element,ku(void 0,"v")))}}class Td{constructor(e,n){this.shows=ae(!1),this.viewProps=n.viewProps,this.view=new yw(e,{shows:this.shows,viewProps:this.viewProps})}}const Ou=q("txt");class Ew{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ou()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=e.createElement("input");r.classList.add(Ou("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Or{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Ew(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);se(i)||(this.value.rawValue=i),this.view.refresh()}}function Cw(t){return String(t)}function Ad(t){return t==="false"?!1:!!t}function Vu(t){return Cw(t)}function xw(t){return e=>t.reduce((n,r)=>n!==null?n:r(e),null)}const Pw=Ne(0);function Ti(t){return Pw(t)+"%"}function kd(t){return String(t)}function io(t){return t}function $n({primary:t,secondary:e,forward:n,backward:r}){let i=!1;function s(o){i||(i=!0,o(),i=!1)}t.emitter.on("change",o=>{s(()=>{e.setRawValue(n(t.rawValue,e.rawValue),o.options)})}),e.emitter.on("change",o=>{s(()=>{t.setRawValue(r(t.rawValue,e.rawValue),o.options)}),s(()=>{e.setRawValue(n(t.rawValue,e.rawValue),o.options)})}),s(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function Fe(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Vr(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function At(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function Sw(t){return t==="ArrowUp"||t==="ArrowDown"}function Od(t){return Sw(t)||t==="ArrowLeft"||t==="ArrowRight"}function gs(t,e){var n,r;const i=e.ownerDocument.defaultView,s=e.getBoundingClientRect();return{x:t.pageX-(((n=i&&i.scrollX)!==null&&n!==void 0?n:0)+s.left),y:t.pageY-(((r=i&&i.scrollY)!==null&&r!==void 0?r:0)+s.top)}}class _n{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new me,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(gs(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(gs(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(gs(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const r=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,i=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(r?{x:r.clientX-i.left,y:r.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const We=q("txt");class Tw{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(We(),We(void 0,"num")),n.arrayPosition&&this.element.classList.add(We(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(We("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(We()),this.inputElement.classList.add(We("i"));const i=e.createElement("div");i.classList.add(We("k")),this.element.appendChild(i),this.knobElement=i;const s=e.createElementNS(dt,"svg");s.classList.add(We("g")),this.knobElement.appendChild(s);const o=e.createElementNS(dt,"path");o.classList.add(We("gb")),s.appendChild(o),this.guideBodyElem_=o;const l=e.createElementNS(dt,"path");l.classList.add(We("gh")),s.appendChild(l),this.guideHeadElem_=l;const a=e.createElement("div");a.classList.add(q("tt")()),this.knobElement.appendChild(a),this.tooltipElem_=a,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(We(void 0,"drg"));return}this.element.classList.add(We(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),i=ge(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+i},0 L${r},4 L${r+i},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const s=this.props_.get("formatter");this.tooltipElem_.textContent=s(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class $r{constructor(e,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=ae(null),this.view=new Tw(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const i=new _n(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,r;const i=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),s=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let o=e;return i!==void 0&&(o=Math.max(o,i)),s!==void 0&&(o=Math.min(o,s)),o}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);se(i)||(this.value.rawValue=this.constrainValue_(i)),this.view.refresh()}onInputKeyDown_(e){const n=Fe(this.props.get("keyScale"),Vr(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Fe(this.props.get("keyScale"),Vr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const bs=q("sld");class Aw{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(bs()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(bs("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(bs("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=ge(J(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class kw{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new Aw(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(J(ge(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Fe(this.props.get("keyScale"),At(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){Fe(this.props.get("keyScale"),At(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const ws=q("sldtxt");class Ow{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ws());const r=e.createElement("div");r.classList.add(ws("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(ws("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}}class Ai{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new kw(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new $r(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new Ow(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return ze(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return qe(null,{max:e.get("max"),min:e.get("min")})}}function Vd(t){return{sliderProps:new K({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new K({formatter:ae(t.formatter),keyScale:t.keyScale,pointerScale:ae(t.pointerScale)})}}const Vw={containerUnitSize:"cnt-usz"};function Dd(t){return`--${Vw[t]}`}function Dr(t){return fd(t)}function Nt(t){if(Js(t))return ce(t,Dr)}function Et(t,e){if(!t)return;const n=[],r=pd(t,e);r&&n.push(r);const i=dd(t);return i&&n.push(i),new jr(n)}function Dw(t){return t?t.major===Un.major:!1}function Id(t){if(t==="inline"||t==="popup")return t}function Kr(t,e){t.write(e)}const ei=q("ckb");class Iw{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(ei()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(ei("l")),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("input");i.classList.add(ei("i")),i.type="checkbox",this.labelElement.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);const s=e.createElement("div");s.classList.add(ei("w")),this.labelElement.appendChild(s);const o=Gi(e,"check");s.appendChild(o),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Rw{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new Iw(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}}function Mw(t){const e=[],n=il(t.options);return n&&e.push(n),new jr(e)}const Lw=Ie({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ce(e,r=>({options:r.optional.custom(Hr),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Ad,constraint:t=>Mw(t.params),writer:t=>Kr},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Si(r,Ur);return i?new qt(e,{props:new K({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new Rw(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof qt?new nl(t.controller):null}}),Xt=q("col");class Fw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Xt()),n.foldable.bindExpandedClass(this.element,Xt(void 0,"expanded")),mt(n.foldable,"completed",jn(this.element,Xt(void 0,"cpl")));const r=e.createElement("div");r.classList.add(Xt("h")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Xt("s")),r.appendChild(i),this.swatchElement=i;const s=e.createElement("div");if(s.classList.add(Xt("t")),r.appendChild(s),this.textElement=s,n.pickerLayout==="inline"){const o=e.createElement("div");o.classList.add(Xt("p")),this.element.appendChild(o),this.pickerElement=o}else this.pickerElement=null}}function Bw(t,e,n){const r=ge(t/255,0,1),i=ge(e/255,0,1),s=ge(n/255,0,1),o=Math.max(r,i,s),l=Math.min(r,i,s),a=o-l;let c=0,u=0;const p=(l+o)/2;return a!==0&&(u=a/(1-Math.abs(o+l-1)),r===o?c=(i-s)/a:i===o?c=2+(s-r)/a:c=4+(r-i)/a,c=c/6+(c<0?1:0)),[c*360,u*100,p*100]}function Nw(t,e,n){const r=(t%360+360)%360,i=ge(e/100,0,1),s=ge(n/100,0,1),o=(1-Math.abs(2*s-1))*i,l=o*(1-Math.abs(r/60%2-1)),a=s-o/2;let c,u,p;return r>=0&&r<60?[c,u,p]=[o,l,0]:r>=60&&r<120?[c,u,p]=[l,o,0]:r>=120&&r<180?[c,u,p]=[0,o,l]:r>=180&&r<240?[c,u,p]=[0,l,o]:r>=240&&r<300?[c,u,p]=[l,0,o]:[c,u,p]=[o,0,l],[(c+a)*255,(u+a)*255,(p+a)*255]}function jw(t,e,n){const r=ge(t/255,0,1),i=ge(e/255,0,1),s=ge(n/255,0,1),o=Math.max(r,i,s),l=Math.min(r,i,s),a=o-l;let c;a===0?c=0:o===r?c=60*(((i-s)/a%6+6)%6):o===i?c=60*((s-r)/a+2):c=60*((r-i)/a+4);const u=o===0?0:a/o,p=o;return[c,u*100,p*100]}function Rd(t,e,n){const r=ad(t,360),i=ge(e/100,0,1),s=ge(n/100,0,1),o=s*i,l=o*(1-Math.abs(r/60%2-1)),a=s-o;let c,u,p;return r>=0&&r<60?[c,u,p]=[o,l,0]:r>=60&&r<120?[c,u,p]=[l,o,0]:r>=120&&r<180?[c,u,p]=[0,o,l]:r>=180&&r<240?[c,u,p]=[0,l,o]:r>=240&&r<300?[c,u,p]=[l,0,o]:[c,u,p]=[o,0,l],[(c+a)*255,(u+a)*255,(p+a)*255]}function Uw(t,e,n){const r=n+e*(100-Math.abs(2*n-100))/200;return[t,r!==0?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/200]}function Hw(t,e,n){const r=100-Math.abs(n*(200-e)/100-100);return[t,r!==0?e*n/r:0,n*(200-e)/200]}function _t(t){return[t[0],t[1],t[2]]}function Xi(t,e){return[t[0],t[1],t[2],e]}const $w={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:Uw,rgb:Nw},hsv:{hsl:Hw,hsv:(t,e,n)=>[t,e,n],rgb:Rd},rgb:{hsl:Bw,hsv:jw,rgb:(t,e,n)=>[t,e,n]}};function Ln(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function Kw(t,e){return t===e?e:ad(t,e)}function Md(t,e,n){var r;const i=Ln(e,n);return[e==="rgb"?ge(t[0],0,i[0]):Kw(t[0],i[0]),ge(t[1],0,i[1]),ge(t[2],0,i[2]),ge((r=t[3])!==null&&r!==void 0?r:1,0,1)]}function Du(t,e,n,r){const i=Ln(e,n),s=Ln(e,r);return t.map((o,l)=>o/i[l]*s[l])}function Ld(t,e,n){const r=Du(t,e.mode,e.type,"int"),i=$w[e.mode][n.mode](...r);return Du(i,n.mode,"int",n.type)}class G{static black(){return new G([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=Md(e,n,this.type)}getComponents(e){return Xi(Ld(_t(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Dt=q("colp");class zw{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Dt()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Dt("hsv"));const i=e.createElement("div");i.classList.add(Dt("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);const s=e.createElement("div");s.classList.add(Dt("h")),this.hPaletteView_=n.hPaletteView,s.appendChild(this.hPaletteView_.element),r.appendChild(s),this.element.appendChild(r);const o=e.createElement("div");if(o.classList.add(Dt("rgb")),this.textsView_=n.textsView,o.appendChild(this.textsView_.element),this.element.appendChild(o),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const l=e.createElement("div");l.classList.add(Dt("a"));const a=e.createElement("div");a.classList.add(Dt("ap")),a.appendChild(this.alphaViews_.palette.element),l.appendChild(a);const c=e.createElement("div");c.classList.add(Dt("at")),c.appendChild(this.alphaViews_.text.element),l.appendChild(c),this.element.appendChild(l)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function qw(t){return t==="int"?"int":t==="float"?"float":void 0}function sl(t){return ce(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(qw)}),expanded:e.optional.boolean,picker:e.optional.custom(Id),readonly:e.optional.constant(!1)}))}function dn(t){return t?.1:1}function Fd(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class ol{constructor(e,n){this.type="float",this.mode=n,this.comps_=Md(e,n,this.type)}getComponents(e){return Xi(Ld(_t(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Ww={int:(t,e)=>new G(t,e),float:(t,e)=>new ol(t,e)};function ll(t,e,n){return Ww[n](t,e)}function Gw(t){return t.type==="float"}function Yw(t){return t.type==="int"}function Xw(t){const e=t.getComponents(),n=Ln(t.mode,"int");return new G([Math.round(J(e[0],0,1,0,n[0])),Math.round(J(e[1],0,1,0,n[1])),Math.round(J(e[2],0,1,0,n[2])),e[3]],t.mode)}function Qw(t){const e=t.getComponents(),n=Ln(t.mode,"int");return new ol([J(e[0],0,n[0],0,1),J(e[1],0,n[1],0,1),J(e[2],0,n[2],0,1),e[3]],t.mode)}function De(t,e){if(t.type===e)return t;if(Yw(t)&&e==="float")return Qw(t);if(Gw(t)&&e==="int")return Xw(t);throw de.shouldNeverHappen()}function Zw(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function Ge(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const Jw={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function Bd(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),r=e[2];return Jw[r](n)}function Nd(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Ge(e[1],255),Ge(e[2],255),Ge(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function ey(t){const e=Nd(t);return e?new G(e,"rgb"):null}function jd(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Ge(e[1],255),Ge(e[2],255),Ge(e[3],255),Ge(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function ty(t){const e=jd(t);return e?new G(e,"rgb"):null}function Ud(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Bd(e[1]),Ge(e[2],100),Ge(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function ny(t){const e=Ud(t);return e?new G(e,"hsl"):null}function Hd(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Bd(e[1]),Ge(e[2],100),Ge(e[3],100),Ge(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function ry(t){const e=Hd(t);return e?new G(e,"hsl"):null}function $d(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function iy(t){const e=$d(t);return e?new G(e,"rgb"):null}function Kd(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),J(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),J(parseInt(n[4],16),0,255,0,1)]:null}function sy(t){const e=Kd(t);return e?new G(e,"rgb"):null}function zd(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function oy(t){return e=>{const n=zd(e);return n?ll(n,"rgb",t):null}}function qd(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function ly(t){return e=>{const n=qd(e);return n?ll(n,"rgb",t):null}}const ay=[{parser:$d,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Kd,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Nd,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:jd,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Ud,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Hd,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:zd,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:qd,result:{alpha:!0,mode:"rgb",notation:"object"}}];function uy(t){return ay.reduce((e,{parser:n,result:r})=>e||(n(t)?r:null),null)}function cy(t,e="int"){const n=uy(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function zr(t){const e=[iy,sy,ey,ty,ny,ry];e.push(oy("int"),ly("int"));const n=xw(e);return r=>{const i=n(r);return i?De(i,t):null}}function py(t){const e=zr("int");if(typeof t!="string")return G.black();const n=e(t);return n??G.black()}function Wd(t){const e=ge(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function al(t,e="#"){const n=_t(t.getComponents("rgb")).map(Wd).join("");return`${e}${n}`}function ul(t,e="#"){const n=t.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(Wd).join("");return`${e}${r}`}function Gd(t){const e=Ne(0),n=De(t,"int");return`rgb(${_t(n.getComponents("rgb")).map(i=>e(i)).join(", ")})`}function li(t){const e=Ne(2),n=Ne(0);return`rgba(${De(t,"int").getComponents("rgb").map((s,o)=>(o===3?e:n)(s)).join(", ")})`}function dy(t){const e=[Ne(0),Ti,Ti],n=De(t,"int");return`hsl(${_t(n.getComponents("hsl")).map((i,s)=>e[s](i)).join(", ")})`}function hy(t){const e=[Ne(0),Ti,Ti,Ne(2)];return`hsla(${De(t,"int").getComponents("hsl").map((i,s)=>e[s](i)).join(", ")})`}function Yd(t,e){const n=Ne(e==="float"?2:0),r=["r","g","b"],i=De(t,e);return`{${_t(i.getComponents("rgb")).map((o,l)=>`${r[l]}: ${n(o)}`).join(", ")}}`}function fy(t){return e=>Yd(e,t)}function Xd(t,e){const n=Ne(2),r=Ne(e==="float"?2:0),i=["r","g","b","a"];return`{${De(t,e).getComponents("rgb").map((l,a)=>{const c=a===3?n:r;return`${i[a]}: ${c(l)}`}).join(", ")}}`}function vy(t){return e=>Xd(e,t)}const my=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:al},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:ul},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Gd},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:li},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:dy},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:hy},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:fy(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:vy(e)}],[])];function Qd(t){return my.reduce((e,n)=>e||(Zw(n.format,t)?n.stringifier:null),null)}const tr=q("apl");class _y{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(tr()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(tr("b")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(tr("c")),r.appendChild(i),this.colorElem_=i;const s=e.createElement("div");s.classList.add(tr("m")),this.element.appendChild(s),this.markerElem_=s;const o=e.createElement("div");o.classList.add(tr("p")),this.markerElem_.appendChild(o),this.previewElem_=o,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),r=new G([n[0],n[1],n[2],0],"rgb"),i=new G([n[0],n[1],n[2],255],"rgb"),s=["to right",li(r),li(i)];this.colorElem_.style.background=`linear-gradient(${s.join(",")})`,this.previewElem_.style.backgroundColor=li(e);const o=J(n[3],0,1,0,100);this.markerElem_.style.left=`${o}%`}onValueChange_(){this.update_()}}class gy{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new _y(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=e.point.x/e.bounds.width,i=this.value.rawValue,[s,o,l]=i.getComponents("hsv");this.value.setRawValue(new G([s,o,l,r],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Fe(dn(!0),At(e));if(n===0)return;const r=this.value.rawValue,[i,s,o,l]=r.getComponents("hsv");this.value.setRawValue(new G([i,s,o,l+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Fe(dn(!0),At(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const bn=q("coltxt");function by(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((r,i)=>{const s=t.createElement("option");return s.textContent=i.text,s.value=i.value,r.appendChild(s),r},t.createDocumentFragment())),e}class wy{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(bn()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(bn("m")),this.modeElem_=by(e),this.modeElem_.classList.add(bn("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const i=e.createElement("div");i.classList.add(bn("mm")),i.appendChild(Gi(e,"dropdown")),r.appendChild(i),this.element.appendChild(r);const s=e.createElement("div");s.classList.add(bn("w")),this.element.appendChild(s),this.inputsElem_=s,this.inputViews_=n.inputViews,this.applyInputViews_(),Ct(n.mode,o=>{this.modeElem_.value=o})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){_d(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=e.createElement("div");r.classList.add(bn("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}}function yy(t){return Ne(t==="float"?2:0)}function Ey(t,e,n){const r=Ln(t,e)[n];return new Fr({min:0,max:r})}function Cy(t,e,n){return new $r(t,{arrayPosition:n===0?"fst":n===2?"lst":"mid",parser:e.parser,props:K.fromObject({formatter:yy(e.colorType),keyScale:dn(!1),pointerScale:e.colorType==="float"?.01:1}),value:ae(0,{constraint:Ey(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function xy(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:Tt,viewProps:e.viewProps};return[0,1,2].map(r=>{const i=Cy(t,n,r);return $n({primary:e.value,secondary:i.value,forward(s){return De(s,e.colorType).getComponents(e.colorMode)[r]},backward(s,o){const l=e.colorMode,c=De(s,e.colorType).getComponents(l);c[r]=o;const u=ll(Xi(_t(c),c[3]),l,e.colorType);return De(u,"int")}}),i})}function Py(t,e){const n=new Or(t,{parser:zr("int"),props:K.fromObject({formatter:al}),value:ae(G.black()),viewProps:e.viewProps});return $n({primary:e.value,secondary:n.value,forward:r=>new G(_t(r.getComponents()),r.mode),backward:(r,i)=>new G(Xi(_t(i.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function Sy(t){return t!=="hex"}class Ty{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=ae(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new wy(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return Sy(n)?xy(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):Py(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}}const ys=q("hpl");class Ay{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ys()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(ys("c")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(ys("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=Gd(new G([n,100,100],"hsv"));const r=J(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class ky{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new Ay(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=J(ge(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),i=this.value.rawValue,[,s,o,l]=i.getComponents("hsv");this.value.setRawValue(new G([r,s,o,l],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Fe(dn(!1),At(e));if(n===0)return;const r=this.value.rawValue,[i,s,o,l]=r.getComponents("hsv");this.value.setRawValue(new G([i+n,s,o,l],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Fe(dn(!1),At(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Es=q("svp"),Iu=64;class Oy{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Es()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("canvas");r.height=Iu,r.width=Iu,r.classList.add(Es("c")),this.element.appendChild(r),this.canvasElement=r;const i=e.createElement("div");i.classList.add(Es("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=k0(this.canvasElement);if(!e)return;const r=this.value.rawValue.getComponents("hsv"),i=this.canvasElement.width,s=this.canvasElement.height,o=e.getImageData(0,0,i,s),l=o.data;for(let u=0;u<s;u++)for(let p=0;p<i;p++){const h=J(p,0,i,0,100),f=J(u,0,s,100,0),m=Rd(r[0],h,f),w=(u*i+p)*4;l[w]=m[0],l[w+1]=m[1],l[w+2]=m[2],l[w+3]=255}e.putImageData(o,0,0);const a=J(r[1],0,100,0,100);this.markerElem_.style.left=`${a}%`;const c=J(r[2],0,100,100,0);this.markerElem_.style.top=`${c}%`}onValueChange_(){this.update_()}}class Vy{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new Oy(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=J(e.point.x,0,e.bounds.width,0,100),i=J(e.point.y,0,e.bounds.height,100,0),[s,,,o]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new G([s,r,i,o],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){Od(e.key)&&e.preventDefault();const[n,r,i,s]=this.value.rawValue.getComponents("hsv"),o=dn(!1),l=Fe(o,At(e)),a=Fe(o,Vr(e));l===0&&a===0||this.value.setRawValue(new G([n,r+l,i+a,s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=dn(!1),r=Fe(n,At(e)),i=Fe(n,Vr(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Dy{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new ky(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Vy(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new gy(e,{value:this.value,viewProps:this.viewProps}),text:new $r(e,{parser:Tt,props:K.fromObject({pointerScale:.01,keyScale:.1,formatter:Ne(2)}),value:ae(0,{constraint:new Fr({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&$n({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,i)=>{const s=r.getComponents();return s[3]=i,new G(s,r.mode)}}),this.textsC_=new Ty(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new zw(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const Cs=q("colsw");class Iy{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(Cs()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Cs("sw")),this.element.appendChild(r),this.swatchElem_=r;const i=e.createElement("button");i.classList.add(Cs("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=ul(e)}onValueChange_(){this.update_()}}class Ry{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new Iy(e,{value:this.value,viewProps:this.viewProps})}}class cl{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=Nr.create(n.expanded),this.swatchC_=new Ry(e,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new Or(e,{parser:n.parser,props:K.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Fw(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new Td(e,{viewProps:this.viewProps}):null;const i=new Dy(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach(s=>{s.addEventListener("blur",this.onPopupChildBlur_),s.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),$n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:s=>s,backward:(s,o)=>o})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),tl(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=gd(e);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!Yo(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function My(t){return _t(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function Ly(t){return t.getComponents("rgb").reduce((e,n,r)=>{const i=Math.floor(r===3?n*255:n)&255;return e<<8|i},0)>>>0}function Fy(t){return new G([t>>16&255,t>>8&255,t&255],"rgb")}function By(t){return new G([t>>24&255,t>>16&255,t>>8&255,J(t&255,0,255,0,1)],"rgb")}function Ny(t){return typeof t!="number"?G.black():Fy(t)}function jy(t){return typeof t!="number"?G.black():By(t)}function ai(t,e){return typeof t!="object"||se(t)?!1:e in t&&typeof t[e]=="number"}function Zd(t){return ai(t,"r")&&ai(t,"g")&&ai(t,"b")}function Jd(t){return Zd(t)&&ai(t,"a")}function eh(t){return Zd(t)}function pl(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),r=e.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function Ru(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function Uy(t){const e=Qd(t);return e?(n,r)=>{Kr(n,e(r))}:null}function Hy(t){const e=t?Ly:My;return(n,r)=>{Kr(n,e(r))}}function $y(t,e,n){const i=De(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b),t.writeProperty("a",i.a)}function Ky(t,e,n){const i=De(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b)}function zy(t,e){return(n,r)=>{t?$y(n,r,e):Ky(n,r,e)}}function qy(t){var e;return!!(!((e=t?.color)===null||e===void 0)&&e.alpha)}function Wy(t){return t?e=>ul(e,"0x"):e=>al(e,"0x")}function Gy(t){return"color"in t||t.view==="color"}const Yy=Ie({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!Gy(e))return null;const n=sl(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:qy(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?jy:Ny,equals:pl,writer:t=>Hy(t.params.supportsAlpha)},controller:t=>{var e,n;return new cl(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:Wy(t.params.supportsAlpha),parser:zr("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function Xy(t,e){if(!eh(t))return De(G.black(),e);if(e==="int"){const n=Ru(t);return new G(n,"rgb")}if(e==="float"){const n=Ru(t);return new ol(n,"rgb")}return De(G.black(),"int")}function Qy(t){return Jd(t)}function Zy(t){return e=>{const n=Xy(e,t);return De(n,"int")}}function Jy(t,e){return n=>t?Xd(n,e):Yd(n,e)}const eE=Ie({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!eh(t))return null;const r=sl(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{colorType:(n=Fd(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>Zy(t.params.colorType),equals:pl,writer:t=>zy(Qy(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const r=Jd(t.initialValue);return new cl(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:Jy(r,t.params.colorType),parser:zr("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:t.value,viewProps:t.viewProps})}}),tE=Ie({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=cy(t,Fd(e));if(!n)return null;const r=Qd(n);if(!r)return null;const i=sl(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>py,equals:pl,writer:t=>{const e=Uy(t.params.format);if(!e)throw de.notBindable();return e}},controller:t=>{var e,n;return new cl(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:zr("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class dl{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((r,i)=>{var s,o;return(o=(s=this.components[i])===null||s===void 0?void 0:s.constrain(r))!==null&&o!==void 0?o:r});return this.asm_.fromComponents(n)}}const Mu=q("pndtxt");class nE{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(Mu()),this.textViews.forEach(r=>{const i=e.createElement("div");i.classList.add(Mu("a")),i.appendChild(r.element),this.element.appendChild(i)})}}function rE(t,e,n){return new $r(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:ae(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class hl{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,i)=>rE(e,n,i)),this.acs_.forEach((r,i)=>{$n({primary:this.value,secondary:r.value,forward:s=>n.assembly.toComponents(s)[i],backward:(s,o)=>{const l=n.assembly.toComponents(s);return l[i]=o,n.assembly.fromComponents(l)}})}),this.view=new nE(e,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}}class iE extends kr{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function sE(t,e){const n=[],r=pd(t,e);r&&n.push(r);const i=dd(t);i&&n.push(i);const s=il(t.options);return s&&n.push(s),new jr(n)}const oE=Ie({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=ce(e,r=>Object.assign(Object.assign({},fd(r)),{options:r.optional.custom(Hr),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>ld,constraint:t=>sE(t.params,t.initialValue),writer:t=>Kr},controller:t=>{const e=t.value,n=t.constraint,r=n&&Si(n,Ur);if(r)return new qt(t.document,{props:new K({options:r.values.value("options")}),value:e,viewProps:t.viewProps});const i=hd(t.params,e.rawValue),s=n&&Si(n,Fr);return s?new Ai(t.document,Object.assign(Object.assign({},Vd(Object.assign(Object.assign({},i),{keyScale:ae(i.keyScale),max:s.values.value("max"),min:s.values.value("min")}))),{parser:Tt,value:e,viewProps:t.viewProps})):new $r(t.document,{parser:Tt,props:K.fromObject(i),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof Ai?new iE(t.controller):t.controller.valueController instanceof qt?new nl(t.controller):null}});class Ut{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(se(e))return!1;const n=e.x,r=e.y;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const th={toComponents:t=>t.getComponents(),fromComponents:t=>new Ut(...t)},wn=q("p2d");class lE{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(wn()),n.viewProps.bindClassModifiers(this.element),Ct(n.expanded,jn(this.element,wn(void 0,"expanded")));const r=e.createElement("div");r.classList.add(wn("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(wn("b")),i.appendChild(Gi(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;const s=e.createElement("div");if(s.classList.add(wn("t")),r.appendChild(s),this.textElement=s,n.pickerLayout==="inline"){const o=e.createElement("div");o.classList.add(wn("p")),this.element.appendChild(o),this.pickerElement=o}else this.pickerElement=null}}const It=q("p2dp");class aE{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(It()),n.layout==="popup"&&this.element.classList.add(It(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(It("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const i=e.createElementNS(dt,"svg");i.classList.add(It("g")),this.padElement.appendChild(i),this.svgElem_=i;const s=e.createElementNS(dt,"line");s.classList.add(It("ax")),s.setAttributeNS(null,"x1","0"),s.setAttributeNS(null,"y1","50%"),s.setAttributeNS(null,"x2","100%"),s.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(s);const o=e.createElementNS(dt,"line");o.classList.add(It("ax")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","0"),o.setAttributeNS(null,"x2","50%"),o.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(o);const l=e.createElementNS(dt,"line");l.classList.add(It("l")),l.setAttributeNS(null,"x1","50%"),l.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(l),this.lineElem_=l;const a=e.createElement("div");a.classList.add(It("m")),this.padElement.appendChild(a),this.markerElem_=a,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),i=J(e,-r,+r,0,100),s=J(n,-r,+r,0,100),o=this.props_.get("invertsY")?100-s:s;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${o}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${o}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Lu(t,e,n){return[Fe(e[0],At(t)),Fe(e[1],Vr(t))*(n?1:-1)]}class uE{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new aE(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=this.props.get("max"),i=J(e.point.x,0,e.bounds.width,-r,+r),s=J(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-r,+r);this.value.setRawValue(new Ut(i,s),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){Od(e.key)&&e.preventDefault();const[n,r]=Lu(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new Ut(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,r]=Lu(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class cE{constructor(e,n){var r,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=Nr.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new Td(e,{viewProps:this.viewProps}):null;const s=new uE(e,{layout:n.pickerLayout,props:new K({invertsY:ae(n.invertsY),max:ae(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});s.view.allFocusableElements.forEach(o=>{o.addEventListener("blur",this.onPopupChildBlur_),o.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=s,this.textC_=new hl(e,{assembly:th,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new lE(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),$n({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:o=>o,backward:(o,l)=>l})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),tl(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=gd(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!Yo(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function pE(t){return Ut.isObject(t)?new Ut(t.x,t.y):new Ut}function dE(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function hE(t,e){return new dl({assembly:th,components:[Et(Object.assign(Object.assign({},t),t.x),e.x),Et(Object.assign(Object.assign({},t),t.y),e.y)]})}function Fu(t,e){var n,r;if(!se(t.min)||!se(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((r=t.max)!==null&&r!==void 0?r:0));const i=ud(t);return Math.max(Math.abs(i)*10,Math.abs(e)*10)}function fE(t,e){var n,r;const i=Fu(cn(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),s=Fu(cn(t,(r=t.y)!==null&&r!==void 0?r:{}),e.y);return Math.max(i,s)}function vE(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}const mE=Ie({id:"input-point2d",type:"input",accept:(t,e)=>{if(!Ut.isObject(t))return null;const n=ce(e,r=>Object.assign(Object.assign({},Dr(r)),{expanded:r.optional.boolean,picker:r.optional.custom(Id),readonly:r.optional.constant(!1),x:r.optional.custom(Nt),y:r.optional.object(Object.assign(Object.assign({},Dr(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>pE,constraint:t=>hE(t.params,t.initialValue),equals:Ut.equals,writer:()=>dE},controller:t=>{var e,n;const r=t.document,i=t.value,s=t.constraint,o=[t.params.x,t.params.y];return new cE(r,{axes:i.rawValue.getComponents().map((l,a)=>{var c;return Go({constraint:s.components[a],initialValue:l,params:cn(t.params,(c=o[a])!==null&&c!==void 0?c:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:vE(t.params),max:fE(t.params,i.rawValue),parser:Tt,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps})}});class Tn{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(se(e))return!1;const n=e.x,r=e.y,i=e.z;return!(typeof n!="number"||typeof r!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const nh={toComponents:t=>t.getComponents(),fromComponents:t=>new Tn(...t)};function _E(t){return Tn.isObject(t)?new Tn(t.x,t.y,t.z):new Tn}function gE(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function bE(t,e){return new dl({assembly:nh,components:[Et(Object.assign(Object.assign({},t),t.x),e.x),Et(Object.assign(Object.assign({},t),t.y),e.y),Et(Object.assign(Object.assign({},t),t.z),e.z)]})}const wE=Ie({id:"input-point3d",type:"input",accept:(t,e)=>{if(!Tn.isObject(t))return null;const n=ce(e,r=>Object.assign(Object.assign({},Dr(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(Nt),y:r.optional.custom(Nt),z:r.optional.custom(Nt)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>_E,constraint:t=>bE(t.params,t.initialValue),equals:Tn.equals,writer:t=>gE},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z];return new hl(t.document,{assembly:nh,axes:e.rawValue.getComponents().map((i,s)=>{var o;return Go({constraint:n.components[s],initialValue:i,params:cn(t.params,(o=r[s])!==null&&o!==void 0?o:{})})}),parser:Tt,value:e,viewProps:t.viewProps})}});class An{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.z=r,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(se(e))return!1;const n=e.x,r=e.y,i=e.z,s=e.w;return!(typeof n!="number"||typeof r!="number"||typeof i!="number"||typeof s!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const rh={toComponents:t=>t.getComponents(),fromComponents:t=>new An(...t)};function yE(t){return An.isObject(t)?new An(t.x,t.y,t.z,t.w):new An}function EE(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function CE(t,e){return new dl({assembly:rh,components:[Et(Object.assign(Object.assign({},t),t.x),e.x),Et(Object.assign(Object.assign({},t),t.y),e.y),Et(Object.assign(Object.assign({},t),t.z),e.z),Et(Object.assign(Object.assign({},t),t.w),e.w)]})}const xE=Ie({id:"input-point4d",type:"input",accept:(t,e)=>{if(!An.isObject(t))return null;const n=ce(e,r=>Object.assign(Object.assign({},Dr(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(Nt),x:r.optional.custom(Nt),y:r.optional.custom(Nt),z:r.optional.custom(Nt)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yE,constraint:t=>CE(t.params,t.initialValue),equals:An.equals,writer:t=>EE},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z,t.params.w];return new hl(t.document,{assembly:rh,axes:e.rawValue.getComponents().map((i,s)=>{var o;return Go({constraint:n.components[s],initialValue:i,params:cn(t.params,(o=r[s])!==null&&o!==void 0?o:{})})}),parser:Tt,value:e,viewProps:t.viewProps})}});function PE(t){const e=[],n=il(t.options);return n&&e.push(n),new jr(e)}const SE=Ie({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=ce(e,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(Hr)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>kd,constraint:t=>PE(t.params),writer:t=>Kr},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Si(r,Ur);return i?new qt(e,{props:new K({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new Or(e,{parser:s=>s,props:K.fromObject({formatter:io}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof qt?new nl(t.controller):null}}),qr={monitor:{defaultInterval:200,defaultRows:3}},Bu=q("mll");class TE{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Bu()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("textarea");r.classList.add(Bu("i")),r.style.height=`calc(var(${Dd("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach(i=>{i!==void 0&&r.push(this.formatter_(i))}),e.textContent=r.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class fl{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new TE(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const Nu=q("sgl");class AE{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Nu()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(Nu("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class vl{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new AE(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}const kE=Ie({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ce(e,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Ad},controller:t=>{var e;return t.value.rawValue.length===1?new vl(t.document,{formatter:Vu,value:t.value,viewProps:t.viewProps}):new fl(t.document,{formatter:Vu,rows:(e=t.params.rows)!==null&&e!==void 0?e:qr.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class OE extends kr{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Rt=q("grl");class VE{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Rt()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=e.createElementNS(dt,"svg");r.classList.add(Rt("g")),r.style.height=`calc(var(${Dd("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(dt,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const s=e.createElement("div");s.classList.add(Rt("t"),q("tt")()),this.element.appendChild(s),this.tooltipElem_=s,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const{clientWidth:e,clientHeight:n}=this.element,r=this.value.rawValue.length-1,i=this.props_.get("min"),s=this.props_.get("max"),o=[];this.value.rawValue.forEach((p,h)=>{if(p===void 0)return;const f=J(h,0,r,0,e),m=J(p,i,s,n,0);o.push([f,m].join(","))}),this.lineElem_.setAttributeNS(null,"points",o.join(" "));const l=this.tooltipElem_,a=this.value.rawValue[this.cursor_.rawValue];if(a===void 0){l.classList.remove(Rt("t","a"));return}const c=J(this.cursor_.rawValue,0,r,0,e),u=J(a,i,s,n,0);l.style.left=`${c}px`,l.style.top=`${u}px`,l.textContent=`${this.formatter_(a)}`,l.classList.contains(Rt("t","a"))||(l.classList.add(Rt("t","a"),Rt("t","in")),Pi(l),l.classList.remove(Rt("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class ih{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=ae(-1),this.view=new VE(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!Yo(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new _n(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return ze(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return qe(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const{clientWidth:n}=this.view.element;this.cursor_.rawValue=Math.floor(J(e.offsetX,0,n,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(J(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function so(t){return se(t.format)?Ne(2):t.format}function DE(t){var e;return t.value.rawValue.length===1?new vl(t.document,{formatter:so(t.params),value:t.value,viewProps:t.viewProps}):new fl(t.document,{formatter:so(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:qr.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function IE(t){var e,n,r;return new ih(t.document,{formatter:so(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:qr.monitor.defaultRows,props:K.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(r=t.params.min)!==null&&r!==void 0?r:0}),value:t.value,viewProps:t.viewProps})}function ju(t){return t.view==="graph"}const RE=Ie({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=ce(e,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>ju(t)?64:1,reader:t=>ld},controller:t=>ju(t.params)?IE(t):DE(t),api:t=>t.controller.valueController instanceof ih?new OE(t.controller):null}),ME=Ie({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=ce(e,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>kd},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new fl(t.document,{formatter:io,rows:(e=t.params.rows)!==null&&e!==void 0?e:qr.monitor.defaultRows,value:n,viewProps:t.viewProps}):new vl(t.document,{formatter:io,value:n,viewProps:t.viewProps})}});class LE{constructor(){this.map_=new Map}get(e){var n;return(n=this.map_.get(e))!==null&&n!==void 0?n:null}has(e){return this.map_.has(e)}add(e,n){return this.map_.set(e,n),e.viewProps.handleDispose(()=>{this.map_.delete(e)}),n}}class FE{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}}function BE(t,e){var n;const r=t.accept(e.target.read(),e.params);if(se(r))return null;const i={target:e.target,initialValue:r.initialValue,params:r.params},s=ce(e.params,p=>({disabled:p.optional.boolean,hidden:p.optional.boolean,label:p.optional.string,tag:p.optional.string})),o=t.binding.reader(i),l=t.binding.constraint?t.binding.constraint(i):void 0,a=new FE({reader:o,target:e.target,writer:t.binding.writer(i)}),c=new y0(ae(o(r.initialValue),{constraint:l,equals:t.binding.equals}),a),u=t.controller({constraint:l,document:e.document,initialValue:r.initialValue,params:r.params,value:c,viewProps:Ot.create({disabled:s?.disabled,hidden:s?.hidden})});return new L0(e.document,{blade:Hn(),props:K.fromObject({label:"label"in e.params?(n=s?.label)!==null&&n!==void 0?n:null:e.target.key}),tag:s?.tag,value:c,valueController:u})}class NE{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}}function jE(t,e){return e===0?new gw:new bw(t,e??qr.monitor.defaultInterval)}function UE(t,e){var n,r,i;const s=t.accept(e.target.read(),e.params);if(se(s))return null;const o={target:e.target,initialValue:s.initialValue,params:s.params},l=ce(e.params,h=>({bufferSize:h.optional.number,disabled:h.optional.boolean,hidden:h.optional.boolean,interval:h.optional.number,label:h.optional.string})),a=t.binding.reader(o),c=(r=(n=l?.bufferSize)!==null&&n!==void 0?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(s.params))!==null&&r!==void 0?r:1,u=new U0({binding:new NE({reader:a,target:e.target}),bufferSize:c,ticker:jE(e.document,l?.interval)}),p=t.controller({document:e.document,params:s.params,value:u,viewProps:Ot.create({disabled:l?.disabled,hidden:l?.hidden})});return p.viewProps.bindDisabled(u.ticker),p.viewProps.handleDispose(()=>{u.ticker.dispose()}),new $0(e.document,{blade:Hn(),props:K.fromObject({label:"label"in e.params?(i=l?.label)!==null&&i!==void 0?i:null:e.target.key}),value:u,valueController:p})}class HE{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,n){if(!Dw(n.core))throw de.notCompatible(e,n.id);n.type==="blade"?this.pluginsMap_.blades.unshift(n):n.type==="input"?this.pluginsMap_.inputs.unshift(n):n.type==="monitor"&&this.pluginsMap_.monitors.unshift(n)}createInput_(e,n,r){return this.pluginsMap_.inputs.reduce((i,s)=>i??BE(s,{document:e,target:n,params:r}),null)}createMonitor_(e,n,r){return this.pluginsMap_.monitors.reduce((i,s)=>i??UE(s,{document:e,params:r,target:n}),null)}createBinding(e,n,r){const i=n.read();if(se(i))throw new de({context:{key:n.key},type:"nomatchingcontroller"});const s=this.createInput_(e,n,r);if(s)return s;const o=this.createMonitor_(e,n,r);if(o)return o;throw new de({context:{key:n.key},type:"nomatchingcontroller"})}createBlade(e,n){const r=this.pluginsMap_.blades.reduce((i,s)=>i??_w(s,{document:e,params:n}),null);if(!r)throw new de({type:"nomatchingview",context:{params:n}});return r}createInputBindingApi_(e){const n=this.pluginsMap_.inputs.reduce((r,i)=>{var s,o;return r||((o=(s=i.api)===null||s===void 0?void 0:s.call(i,{controller:e}))!==null&&o!==void 0?o:null)},null);return this.apiCache_.add(e,n??new kr(e))}createMonitorBindingApi_(e){const n=this.pluginsMap_.monitors.reduce((r,i)=>{var s,o;return r||((o=(s=i.api)===null||s===void 0?void 0:s.call(i,{controller:e}))!==null&&o!==void 0?o:null)},null);return this.apiCache_.add(e,n??new kr(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(F0(e))return this.createInputBindingApi_(e);if(K0(e))return this.createMonitorBindingApi_(e);throw de.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(M0(e))return this.createBindingApi(e);const n=this.pluginsMap_.blades.reduce((r,i)=>r??i.api({controller:e,pool:this}),null);if(!n)throw de.shouldNeverHappen();return this.apiCache_.add(e,n)}}const $E=new LE;function KE(){const t=new HE($E);return[mE,wE,xE,SE,oE,tE,eE,Yy,Lw,kE,ME,RE,Y0,aw,Sd].forEach(e=>{t.register("core",e)}),t}class zE extends mn{constructor(e){super(e),this.emitter_=new me,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new Br(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}class qE extends mn{}class WE extends mn{constructor(e){super(e),this.emitter_=new me,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new Br(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}class GE extends mn{constructor(e){super(e),this.emitter_=new me,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new Br(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const YE=(function(){return{id:"list",type:"blade",core:Un,accept(t){const e=ce(t,n=>({options:n.required.custom(Hr),value:n.required.raw,view:n.required.constant("list"),label:n.optional.string}));return e?{params:e}:null},controller(t){const e=new Ur(rl(t.params.options)),n=ae(t.params.value,{constraint:e}),r=new qt(t.document,{props:new K({options:e.values.value("options")}),value:n,viewProps:t.viewProps});return new pn(t.document,{blade:t.blade,props:K.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof pn)||!(t.controller.valueController instanceof qt)?null:new zE(t.controller)}}})();class XE extends xd{constructor(e,n){super(e,n)}get element(){return this.controller.view.element}}class QE extends no{constructor(e,n){super(e,{expanded:n.expanded,blade:n.blade,props:n.props,root:!0,viewProps:n.viewProps})}}const Uu=q("spr");class ZE{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Uu()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("hr");r.classList.add(Uu("r")),this.element.appendChild(r)}}class Hu extends Yi{constructor(e,n){super(Object.assign(Object.assign({},n),{view:new ZE(e,{viewProps:n.viewProps})}))}}const JE={id:"separator",type:"blade",core:Un,accept(t){const e=ce(t,n=>({view:n.required.constant("separator")}));return e?{params:e}:null},controller(t){return new Hu(t.document,{blade:t.blade,viewProps:t.viewProps})},api(t){return t.controller instanceof Hu?new qE(t.controller):null}},e1={id:"slider",type:"blade",core:Un,accept(t){const e=ce(t,n=>({max:n.required.number,min:n.required.number,view:n.required.constant("slider"),format:n.optional.function,label:n.optional.string,value:n.optional.number}));return e?{params:e}:null},controller(t){var e,n;const r=(e=t.params.value)!==null&&e!==void 0?e:0,i=new Fr({max:t.params.max,min:t.params.min}),s=ae(r,{constraint:i}),o=new Ai(t.document,Object.assign(Object.assign({},Vd({formatter:(n=t.params.format)!==null&&n!==void 0?n:m0,keyScale:ae(1),max:i.values.value("max"),min:i.values.value("min"),pointerScale:cd(t.params,r)})),{parser:Tt,value:s,viewProps:t.viewProps}));return new pn(t.document,{blade:t.blade,props:K.fromObject({label:t.params.label}),value:s,valueController:o})},api(t){return!(t.controller instanceof pn)||!(t.controller.valueController instanceof Ai)?null:new WE(t.controller)}},t1=(function(){return{id:"text",type:"blade",core:Un,accept(t){const e=ce(t,n=>({parse:n.required.function,value:n.required.raw,view:n.required.constant("text"),format:n.optional.function,label:n.optional.string}));return e?{params:e}:null},controller(t){var e;const n=ae(t.params.value),r=new Or(t.document,{parser:t.params.parse,props:K.fromObject({formatter:(e=t.params.format)!==null&&e!==void 0?e:(i=>String(i))}),value:n,viewProps:t.viewProps});return new pn(t.document,{blade:t.blade,props:K.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof pn)||!(t.controller.valueController instanceof Or)?null:new GE(t.controller)}}})();function n1(t){const e=t.createElement("div");return e.classList.add(q("dfw")()),t.body&&t.body.appendChild(e),e}function r1(t,e,n){if(t.querySelector(`style[data-tp-style=${e}]`))return;const r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}class i1 extends XE{constructor(e){var n,r;const i=e??{},s=(n=i.document)!==null&&n!==void 0?n:A0(),o=KE(),l=new QE(s,{expanded:i.expanded,blade:Hn(),props:K.fromObject({title:i.title}),viewProps:Ot.create()});super(l,o),this.pool_=o,this.containerElem_=(r=i.container)!==null&&r!==void 0?r:n1(s),this.containerElem_.appendChild(this.element),this.doc_=s,this.usesDefaultWrapper_=!i.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw de.alreadyDisposed();return this.doc_}dispose(){const e=this.containerElem_;if(!e)throw de.alreadyDisposed();if(this.usesDefaultWrapper_){const n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&r1(this.document,`plugin-${e.id}`,e.css),("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(r=>{this.pool_.register(e.id,r)})}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{display:block;height:16px;inset:0;margin:auto;opacity:0;position:absolute;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{inset:0;position:absolute}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;inset:0;position:absolute}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);content:"";display:block;inset:0;position:absolute}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";display:block;height:2px;inset:0;margin:auto;position:absolute}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;content:"";display:block;height:2px;inset:0;margin-bottom:auto;margin-top:auto;position:absolute}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);content:"";inset:0 0 2px;pointer-events:none;position:absolute}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[YE,JE,e1,Sd,t1]})}}new Cd("4.0.5");var s1=`varying vec2 vUv;

void main() {
    vUv = uv; 
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,o1=`uniform float uTime;

uniform vec3 uColorBg;
uniform vec3 uColorMid;
uniform vec3 uColorTop;

uniform float uTreshold1;
uniform float uTreshold2;

uniform float uDistortionStrength;
uniform vec2 uSpeed;
uniform float uRotationSpeed;

uniform float uLacunarity;
uniform vec2 uIntensity;
uniform float uShadowIntensity;

uniform vec3 uLightDirection; 
uniform float uBumpStrength;  
uniform float uSpecularPower; 

uniform float uScale; 

varying vec2 vUv;

vec3 permute(vec3 x) {
    return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v) {
    const vec4 C = vec4(0.211324865405187, 0.366025403784439, -0.577350269189626, 0.024390243902439);
    vec2 i = floor(v + dot(v, C.yy));
    vec2 x0 = v - i + dot(i, C.xx);
    vec2 i1;
    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
    vec4 x12 = x0.xyxy + C.xxzz;
    x12.xy -= i1;
    i = mod(i, 289.0);
    vec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0)) + i.x + vec3(0.0, i1.x, 1.0));
    vec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw)), 0.0);
    m = m * m;
    m = m * m;
    vec3 x = 2.0 * fract(p * C.www) - 1.0;
    vec3 h = abs(x) - 0.5;
    vec3 ox = floor(x + 0.5);
    vec3 a0 = x - ox;
    m *= 1.79284291400159 - 0.85373472095314 * (a0 * a0 + h * h);
    vec3 g;
    g.x = a0.x * x0.x + h.x * x0.y;
    g.yz = a0.yz * x12.xz + h.yz * x12.yw;
    return 130.0 * dot(m, g);
}

#define NUM_OCTAVES 3

float fbm(vec2 x) {
    float v = 0.0;
    float a = 0.5;
    vec2 shift = vec2(100.0);
	
    mat2 rot = mat2(cos(0.5), sin(0.5), -sin(0.5), cos(0.50));

    
    for(int i = 0; i < NUM_OCTAVES; ++i) {
        v += a * snoise(x); 
        x = rot * x * uLacunarity + shift; 
        a *= 0.5; 
    }
    return v;
}

mat2 rotate2d(float angle) {
    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
}

float map(vec2 uv, float time) {
    vec2 center = vec2(0.5);
    vec2 centeredUv = uv - center;

    vec2 rotatedUv = rotate2d(time * uRotationSpeed) * centeredUv;
    rotatedUv += center;

    vec2 p = rotatedUv * uScale;

    
    vec2 q = vec2(0.0);
    q.x = fbm(p  + time * uSpeed.x);
    q.y = fbm(p  + vec2(5.2, 1.3) + time * uSpeed.y); 

    
    vec2 r = vec2(2.0);
    r.x = fbm(p  + q * uIntensity.x + vec2(1.7, 9.2) + time * uSpeed.x);
    r.y = fbm(p  + q * uIntensity.x + vec2(8.3, 2.8) + time * uSpeed.y);

    
    
    
    

    
    float noiseValue = fbm(p  + r * uDistortionStrength) * 0.5 + 0.5;

    return noiseValue;
}

void main() {
    float h = map(vUv, uTime);

    vec2 e = vec2(0.01, 0.0);

    vec3 normal = normalize(vec3((map(vUv - e.xy, uTime) - map(vUv + e.xy, uTime)) * uBumpStrength, (map(vUv - e.yx, uTime) - map(vUv + e.yx, uTime)) * uBumpStrength, 1.0 
    ));

    
    vec3 lightDir = normalize(uLightDirection);

    float rawDiff = max(dot(normal, lightDir), 0.0);
    float diffToon = smoothstep(0.3, 0.35, rawDiff); 

    vec3 viewDir = vec3(0.0, 0.0, 1.0);
    vec3 reflectDir = reflect(-lightDir, normal);
    float rawSpec = pow(max(dot(viewDir, reflectDir), 0.0), uSpecularPower);

    float specToon = smoothstep(0.42, 0.41, rawSpec);

    float aa = 0.001; 
    vec3 col = mix(uColorBg, uColorMid, smoothstep(uTreshold1, uTreshold1 + aa, h));
    col = mix(col, uColorTop, smoothstep(uTreshold2, uTreshold2 + aa, h));

    col *= (diffToon * 0.5 + 1.0); 
    col += specToon;

    
    
    

    gl_FragColor = vec4(col, 1.0);
}`;const l1=["args"],a1=di({__name:"TheExperience",setup(t){const{onBeforeRender:e}=mb(),n=we(null);let r=null;const i=we({uTime:{value:0},uColorBg:{value:new ti("#ff007f")},uColorMid:{value:new ti("#ff9900")},uColorTop:{value:new ti("#ffdd00")},uTreshold1:{value:.5},uTreshold2:{value:.65},uScale:{value:1},uDistortionStrength:{value:1},uLacunarity:{value:1.5},uIntensity:{value:new ft(.5)},uSpeed:{value:new ft(.05)},uRotationSpeed:{value:0},uLightDirection:{value:new ve(1,1,1)},uBumpStrength:{value:.6},uSpecularPower:{value:1}});return e(({elapsed:s})=>{n.value,i.value.uTime.value=s}),kn(()=>{r=new i1({title:"Shader Controls"});const s={colorBg:"#ff007f",colorMid:"#ff9900",colorTop:"#ffdd00",treshold1:.5,treshold2:.65,scale:1,strength:1,lacunarity:1.5,intensityX:.5,intensityY:.5,speedX:.05,speedY:.05,rotationSpeed:0,bumpStrength:1,specularPower:1,lightX:-.5,lightY:.5},o=r.addFolder({title:"Couleurs"});o.addBinding(s,"colorBg").on("change",u=>{i.value.uColorBg.value.set(u.value)}),o.addBinding(s,"colorMid").on("change",u=>{i.value.uColorMid.value.set(u.value)}),o.addBinding(s,"colorTop").on("change",u=>{i.value.uColorTop.value.set(u.value)}),o.addBinding(s,"treshold1",{min:0,max:1}).on("change",u=>{i.value.uTreshold1.value=u.value}),o.addBinding(s,"treshold2",{min:0,max:1}).on("change",u=>{i.value.uTreshold2.value=u.value});const l=r.addFolder({title:"Paramtres"});l.addBinding(s,"scale",{min:0,max:20}).on("change",u=>{i.value.uScale.value=u.value}),l.addBinding(s,"strength",{min:.1,max:20}).on("change",u=>{i.value.uDistortionStrength.value=u.value}),l.addBinding(s,"lacunarity",{min:0,max:10}).on("change",u=>{i.value.uLacunarity.value=u.value}),r.addBinding(s,"intensityX",{min:0,max:10}).on("change",u=>{i.value.uIntensity.value.x=u.value});const a=r.addFolder({title:"Vitesse"});a.addBinding(s,"speedX",{min:-1,max:1}).on("change",u=>{i.value.uSpeed.value.x=u.value}),a.addBinding(s,"speedY",{min:-1,max:1}).on("change",u=>{i.value.uSpeed.value.y=u.value}),a.addBinding(s,"rotationSpeed",{min:-1,max:1}).on("change",u=>{i.value.uRotationSpeed.value=u.value});const c=r.addFolder({title:"Lumire & Relief"});c.addBinding(s,"bumpStrength",{min:.1,max:5}).on("change",u=>{i.value.uBumpStrength.value=u.value}),c.addBinding(s,"specularPower",{min:0,max:128}).on("change",u=>{i.value.uSpecularPower.value=u.value}),c.addBinding(s,"lightX",{min:-1,max:1}).on("change",u=>{i.value.uLightDirection.value.x=u.value}),c.addBinding(s,"lightY",{min:-1,max:1}).on("change",u=>{i.value.uLightDirection.value.y=u.value})}),$t(()=>{r&&r.dispose()}),(s,o)=>(xo(),qc(Qe,null,[o[1]||(o[1]=Jt("TresPerspectiveCamera",{position:[0,0,5],"look-at":[0,0,0]},null,-1)),o[2]||(o[2]=Jt("TresAmbientLight",{intensity:.5,color:"white"},null,-1)),Jt("TresMesh",{ref_key:"boxRef",ref:n,position:[0,0,0]},[o[0]||(o[0]=Jt("TresPlaneGeometry",{args:[4,4]},null,-1)),Jt("TresShaderMaterial",{args:[{vertexShader:an(s1),fragmentShader:an(o1),uniforms:i.value}]},null,8,l1)],512)],64))}}),u1=di({__name:"App",setup(t){return(e,n)=>(xo(),rv(an(Mb),{"clear-color":"#000000","window-size":""},{default:Cc(()=>[Ke(a1)]),_:1}))}}),c1=Bv(u1);c1.mount("#app");
